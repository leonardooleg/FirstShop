/*
* Fancy Product Designer 5.0.0
* Copyright 2013, Rafael Dery
*
* Only for the sale at the envato marketplaces
*/
"1.6.7"===fabric.version?(fabric.Object.prototype.offsetCorner=0,fabric.Object.prototype.setCoords=function(){var a=fabric.util.degreesToRadians(this.angle),b=this.getViewportTransform(),c=this._calculateCurrentDimensions(),d=c.x,e=c.y;0>d&&(d=Math.abs(d));var f=Math.sin(a),g=Math.cos(a),h=d>0?Math.atan(e/d):0,i=d/Math.cos(h)/2,j=Math.cos(h+a)*i,k=Math.sin(h+a)*i,l=fabric.util.transformPoint(this.getCenterPoint(),b),m=new fabric.Point(l.x-j,l.y-k),n=new fabric.Point(m.x+d*g,m.y+d*f),o=new fabric.Point(m.x-e*f,m.y+e*g),p=new fabric.Point(l.x+j,l.y+k),q=new fabric.Point((m.x+o.x)/2,(m.y+o.y)/2),r=new fabric.Point((n.x+m.x)/2,(n.y+m.y)/2),s=new fabric.Point((p.x+n.x)/2,(p.y+n.y)/2),t=new fabric.Point((p.x+o.x)/2,(p.y+o.y)/2),u=this.__imageEditor?r.x:n.x,v=this.__imageEditor?r.y:n.y,w=new fabric.Point(u+f*this.rotatingPointOffset,v-g*this.rotatingPointOffset);return this.oCoords={tl:m,tr:n,br:p,bl:o,ml:q,mt:r,mr:s,mb:t,mtr:w},this._setCornerCoords&&this._setCornerCoords(),this},fabric.Textbox.prototype._wrapLine=function(a,b,c){for(var d=0,e=[],f="",g=b.split(" "),h="",i=0,j=" ",k=0,l=0,m=0,n=0,o=0;o<g.length;o++){if(h=g[o],k=this._measureText(a,h,c,i),d+=l,k>this.width){f+=j;for(var p=h.split("");p.length;)m=this._getWidthOfChar(a,p[0],c,i),d+m>this.width&&(e.push(f),f="",d=0),f+=p.shift(),i++,d+=m;h=""}else d+=k;d>=this.width&&""!==f&&(e.push(f),f="",d=k),(""!==f||1===o)&&(f+=j),f+=h,i+=h.length,l=this._measureText(a,j,c,i),i++}return o&&e.push(f),n>this.dynamicMinWidth&&(this.dynamicMinWidth=n),e}):(fabric.Object.prototype.offsetCorner=12,fabric.util.object.extend(fabric.Textbox.prototype,{maxWidth:0,fixedWidth:!0,hyphenation:!1,get2DCursorLocation:function(a,b){"undefined"==typeof a&&(a=this.selectionStart);for(var c=b?this._unwrappedTextLines:this._textLines,d=c.length,e=0;d>e;e++){if(a<=c[e].length)return{lineIndex:e,charIndex:a};this._longLines[e]&&a++,a-=c[e].length+1}return{lineIndex:e-1,charIndex:c[e-1].length<a?c[e-1].length:a}},_renderText:function(a){"stroke"===this.paintFirst?(this._renderTextStroke(a),this._renderTextFill(a)):(this._renderTextFill(a),this._renderTextStroke(a)),this.hyphenation&&this._renderTextOversize(a)},_renderTextOversize:function(a){for(var b=0,c=0,d=this._textLines.length;d>c;c++){var e=this.measureLine(c).width,f=this._getLineLeftOffset(c),g=this.getHeightOfLine(c);this._longLines[c]&&a.fillRect(this._getLeftOffset()+f+e+2,this._getTopOffset()+b+g/2-1,5,this.fontSize/15),b+=g}},_getNewSelectionStartFromOffset:function(a,b,c,d,e){var f=a.x-b,g=c-a.x,h=g>f||0>g?0:1,i=d+h;this.flipX&&(i=e-i);for(var j=0,k=0,l=0,m=0;m<this._textLines.length&&(j+=this._textLines[m].length,!(j+k>=i));m++)this._longLines[m]&&(i--,l++),("\n"===this.text[j+k]||" "===this.text[j+k])&&k++;return i>this.text.length&&(i=this.text.length),i-m+k+l},_wrapLine:function(a,b){var c=0,d=[],e=[],f=a.split(this._reSpaceAndTab),g="",h=0,i=" ",j=0,k=0,l=0,m=!0,n=this._getWidthOfCharSpacing();this._longLines=[];for(var o=this.maxWidth||this.fixedWidth&&this.width,p=!1,q=0;q<f.length;q++){if(g=fabric.util.string.graphemeSplit(f[q]),j=this._measureWord(g,b,h),!this.breakWords){var r=o&&j>o;if(r){0!=e.length&&(d.push(e),this._longLines.push(p),p=!1,c=0,e=[]);for(var s=0,t=0,u=0,v=g.length;v>u&&o-s>=t;u++)t+=this._measureWord(g[u],b,u+h);var w=g.splice(0,u-1);p=!0,f.splice(q,1,w.join(""),g.join("")),q--,m=!0;continue}}if(c+=k+j-n,c>=this.width)if(this.breakWords){c-=j,e.push(i);for(var x=g.splice(0);x.length;){var y=this._measureWord(x[0],b,h);c+y>this.width&&(d.push(e),this._longLines.push(!0),e=[],c=0),e.push(x.shift()),h++,c+=y}}else m||(d.push(e),this._longLines.push(p),p=!1,e=[],c=j,m=!0);else c+=n;h+=g.length,m||e.push(i),e=e.concat(g),k=this._measureWord(i,b,h),h++,j>l&&(l=j),m=!1}return q&&d.push(e),this._longLines.push(!1),this.breakWords?this.dynamicMinWidth=0:l>this.dynamicMinWidth&&(this.dynamicMinWidth=l-n),d}}),fabric.Object.prototype.calcCoords=function(a){var b=fabric.util.multiplyTransformMatrices,c=fabric.util.transformPoint,d=fabric.util.degreesToRadians,e=this._calcRotateMatrix(),f=this._calcTranslateMatrix(),g=b(f,e),h=this.getViewportTransform(),i=a?g:b(h,g),j=this._getTransformedDimensions(),k=j.x/2,l=j.y/2,m=c({x:-k,y:-l},i),n=c({x:k,y:-l},i),o=c({x:-k,y:l},i),p=c({x:k,y:l},i);if(this.offsetCorner){var q=j.x/2+this.offsetCorner,r=j.y/2+this.offsetCorner;m._corner=c({x:-q,y:-r},i),n._corner=c({x:q,y:-r},i),o._corner=c({x:-q,y:r},i),p._corner=c({x:q,y:r},i)}if(!a){if(this.padding){var s=this.padding,t=d(this.angle),u=fabric.util.cos(t),v=fabric.util.sin(t),w=u*s,x=v*s,y=w+x,z=w-x;m.x-=z,m.y-=y,n.x+=y,n.y-=z,o.x-=y,o.y+=z,p.x+=z,p.y+=y,this.offsetCorner&&(m._corner.x-=z,m._corner.y-=y,n._corner.x+=y,n._corner.y-=z,o._corner.x-=y,o._corner.y+=z,p._corner.x+=z,p._corner.y+=y)}var A=new fabric.Point((m.x+o.x)/2,(m.y+o.y)/2),B=new fabric.Point((n.x+m.x)/2,(n.y+m.y)/2),C=new fabric.Point((p.x+n.x)/2,(p.y+n.y)/2),D=new fabric.Point((p.x+o.x)/2,(p.y+o.y)/2),E=this.__imageEditor?B.x:n.x,F=this.__imageEditor?B.y:n.y,G=new fabric.Point(E+v*this.rotatingPointOffset,F-u*this.rotatingPointOffset);this.offsetCorner&&(G._corner=this.__imageEditor?new fabric.Point((n._corner.x+m._corner.x)/2,(n._corner.y+m._corner.y)/2):new fabric.Point(n._corner.x,n._corner.y))}var H={tl:m,tr:n,br:p,bl:o};return a||(H.ml=A,H.mt=B,H.mr=C,H.mb=D,H.mtr=G),H},fabric.Object.prototype._setCornerCoords=function(){var a,b,c=this.oCoords,d=fabric.util.degreesToRadians(45-this.angle),e=.707106*this.cornerSize,f=e*fabric.util.cos(d),g=e*fabric.util.sin(d);for(var h in c)c[h]._corner?(a=c[h]._corner.x,b=c[h]._corner.y):(a=c[h].x,b=c[h].y),c[h].corner={tl:{x:a-g,y:b-f},tr:{x:a+f,y:b-g},bl:{x:a-f,y:b+g},br:{x:a+g,y:b+f}}},fabric.util.snapToGrid=function(a,b,c){if("undefined"!=typeof Symbol){var d=null,e=!0,f=!1,g=void 0;try{for(var h,i=a.x[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value,k=(j+b.offsetX-c)%b.size-c/2,l=Math.abs(k);c>l&&(d||(d={}),d.x=j+l,d.tx=j,d.dx=k)}}catch(m){f=!0,g=m}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}var n=!0,o=!1,p=void 0;try{for(var q,r=a.y[Symbol.iterator]();!(n=(q=r.next()).done);n=!0){var s=q.value,t=(s+b.offsetY-c)%b.size-c/2,u=Math.abs(t);c>u&&(d||(d={}),d.y=s+u,d.ty=s,d.dy=t)}}catch(m){o=!0,p=m}finally{try{!n&&r["return"]&&r["return"]()}finally{if(o)throw p}}return d&&(d.distance=Math.abs(Math.round(d.dx&&d.dy&&Math.min(Math.abs(d.dx),Math.abs(d.dy))||d.dx||d.dy))),d}},fabric.util.snapToPoints=function(a,b,c){if("undefined"!=typeof Symbol){var d=null,e=c,f=!0,g=!1,h=void 0;try{for(var i,j=b[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value;if(k.points){var l=!0,m=!1,n=void 0;try{for(var o,p=k.points[Symbol.iterator]();!(l=(o=p.next()).done);l=!0){var q=o.value,r=!0,s=!1,t=void 0;try{for(var u,v=a.points[Symbol.iterator]();!(r=(u=v.next()).done);r=!0){var w=u.value,x=q.x-w.x,y=q.y-w.y,z=(Math.abs(x)+Math.abs(y))/2;e>z&&(e=z,d={object:k,x:q.x,tx:w.x,dx:x,y:q.y,ty:w.y,dy:y})}}catch(A){s=!0,t=A}finally{try{!r&&v["return"]&&v["return"]()}finally{if(s)throw t}}}}catch(A){m=!0,n=A}finally{try{!l&&p["return"]&&p["return"]()}finally{if(m)throw n}}}}}catch(A){g=!0,h=A}finally{try{!f&&j["return"]&&j["return"]()}finally{if(g)throw h}}return d&&(d.distance=Math.round(Math.min(Math.abs(d.dx),Math.abs(d.dy)))),d}},fabric.util.snapToBounds=function(a,b,c){if("undefined"!=typeof Symbol){var d=null,e=c;if(a.cx){var f=!0,g=!1,h=void 0;try{for(var i,j=b[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value;if(k.cx&&void 0===k.cy){var l=k.cx-a.cx,m=Math.abs(l);e>m&&(e=m,d||(d={}),d.objectX=k,d.x=k.cx,d.tx=a.cx,d.dx=l)}}}catch(n){g=!0,h=n}finally{try{!f&&j["return"]&&j["return"]()}finally{if(g)throw h}}}if(e=c,a.cy){var o=!0,p=!1,q=void 0;try{for(var r,s=b[Symbol.iterator]();!(o=(r=s.next()).done);o=!0){var t=r.value;if(t.cy&&void 0===t.cx){var u=t.cy-a.cy,v=Math.abs(u);e>v&&(e=v,d||(d={}),d.objectY=t,d.y=t.cy,d.ty=a.cy,d.dy=u)}}}catch(n){p=!0,q=n}finally{try{!o&&s["return"]&&s["return"]()}finally{if(p)throw q}}}e=c;var w=!0,x=!1,y=void 0;try{for(var z,A=b[Symbol.iterator]();!(w=(z=A.next()).done);w=!0){var B=z.value;if(B.x){var C=!0,D=!1,E=void 0;try{for(var F,G=(B.x.length?B.x:[B.x])[Symbol.iterator]();!(C=(F=G.next()).done);C=!0){var H=F.value,I=!0,J=!1,K=void 0;try{for(var L,M=a.x[Symbol.iterator]();!(I=(L=M.next()).done);I=!0){var N=L.value,O=H-N,P=Math.abs(O);e>P&&(e=P,d||(d={}),d.objectX=B,d.x=H,d.tx=N,d.dx=O)}}catch(n){J=!0,K=n}finally{try{!I&&M["return"]&&M["return"]()}finally{if(J)throw K}}}}catch(n){D=!0,E=n}finally{try{!C&&G["return"]&&G["return"]()}finally{if(D)throw E}}}}}catch(n){x=!0,y=n}finally{try{!w&&A["return"]&&A["return"]()}finally{if(x)throw y}}e=c;var Q=!0,R=!1,S=void 0;try{for(var T,U=b[Symbol.iterator]();!(Q=(T=U.next()).done);Q=!0){var V=T.value;if(V.y){var W=!0,X=!1,Y=void 0;try{for(var Z,$=(V.y.length?V.y:[V.y])[Symbol.iterator]();!(W=(Z=$.next()).done);W=!0){var _=Z.value,aa=!0,ba=!1,ca=void 0;try{for(var da,ea=a.y[Symbol.iterator]();!(aa=(da=ea.next()).done);aa=!0){var fa=da.value,ga=_-fa,ha=Math.abs(ga);e>ha&&(e=ha,d||(d={}),d.objectY=V,d.y=_,d.ty=fa,d.dy=ga)}}catch(n){ba=!0,ca=n}finally{try{!aa&&ea["return"]&&ea["return"]()}finally{if(ba)throw ca}}}}catch(n){X=!0,Y=n}finally{try{!W&&$["return"]&&$["return"]()}finally{if(X)throw Y}}}}}catch(n){R=!0,S=n}finally{try{!Q&&U["return"]&&U["return"]()}finally{if(R)throw S}}return d&&(d.distance=Math.abs(Math.round(d.dx&&d.dy&&Math.min(Math.abs(d.dx),Math.abs(d.dy))||d.dx||d.dy))),d}},fabric.util.createSnapObject=function(a){var b=a.calcCoords(!0),c=[b.tl.x,b.tr.x,b.bl.x,b.br.x],d=[b.tl.y,b.tr.y,b.bl.y,b.br.y],e=fabric.util.array.min(c),f=fabric.util.array.max(c),g=fabric.util.array.min(d),h=fabric.util.array.max(d);return{instance:a,points:[b.tl,b.tr,b.br,b.bl],cx:e+(f-e)/2,cy:g+(h-g)/2,x:[e,f],y:[g,h]}},fabric.Canvas.prototype.renderSnapping=function(a,b){function c(a){if(a&&a.points){var b=a.points;d.moveTo(b[0].x,b[0].y);for(var c=b.length;c--;)d.lineTo(b[c].x,b[c].y)}}var d=this.contextTop,e=this.viewportTransform;this._currentTransform&&a&&this.clearContext(d),d.save(),d.strokeStyle=b,d.transform(e[0],e[1],e[2],e[3],e[4],e[5]),d.beginPath(),c(a.object),c(a.objectX),c(a.objectY),c(this.__snapCache.target),a.object&&(d.moveTo(a.tx,a.ty),d.lineTo(a.x,a.y),d.arc(a.x,a.y,2,0,2*Math.PI)),a.objectX&&(d.moveTo(a.x,0),d.lineTo(a.x,this.originalHeight)),a.objectY&&(d.moveTo(0,a.y),d.lineTo(this.originalWidth,a.y)),d.stroke(),d.restore()},fabric.Canvas.prototype.gridSnapMove=function(a){var b=a.area,c=a.objects||this._objects;if(!this.__snapCache){var d=a.guidlines||[];for(var e in c){var f=c[e];f!==a.target&&f.snappable&&f.visible&&d.push(fabric.util.createSnapObject(f))}b&&d.push({instance:this,x:[b.x1,b.x2],y:[b.y1,b.y2]}),this.__snapCache={area:b,objects:d,grid:a.grid}}this.__snapCache.target=fabric.util.createSnapObject(a.target);var g=null,h=fabric.util.snapToPoints(this.__snapCache.target,this.__snapCache.objects,a.tolerance);g||(g=h),g&&h&&h.distance<g.distance&&(g=h);var i=fabric.util.snapToBounds(this.__snapCache.target,this.__snapCache.objects,a.tolerance);if(g||(g=i),g&&i&&i.distance<g.distance&&(g=i),a.grid){var j=fabric.util.snapToGrid(this.__snapCache.target,this.__snapCache.grid,a.tolerance);g||(g=j),g&&j&&j.distance<g.distance&&(g=j)}return g&&(g.dx&&(a.target.left+=g.dx),g.dy&&(a.target.top+=g.dy),this.fire("object:snapto",{e:g})),g},fabric.util.object.extend(fabric.Object.prototype,{snappable:!0}),fabric.util.object.extend(fabric.Canvas.prototype,{tolerance:10,renderSnappingHelperLines:!0,setSnapping:function(a){function b(){this.renderSnappingHelperLines&&this.snapTo&&this.renderSnapping(this.snapTo,"#ffaaaa")}a?(this.on("object:moving",this.gridSnapMoveWrapper),this.on("mouse:up",this.clearSnapping),this.on("after:render",b)):(this.off("object:moving",this.gridSnapMoveWrapper),this.off("mouse:up",this.clearSnapping),this.off("after:render",b)),this.snapping=a},snapping:!1,clearSnapping:function(){delete this.__snapCache,this.clearContext(this.contextTop),this.snapTo=null},gridSnapMoveWrapper:function(a){if("undefined"!=typeof Symbol&&!a.e.shiftKey&&a.target.snappable){var b=[{cx:this.originalWidth/2},{cy:this.originalHeight/2}];if(this.supportLines){var c=!0,d=!1,e=void 0;try{for(var f,g=this.supportLines[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;b.push(h.x?{instance:h,x:h.x}:{instance:h,y:h.y})}}catch(i){d=!0,e=i}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}}if(this.guidlines){var j=!0,k=!1,l=void 0;try{for(var m,n=this.guidlines[Symbol.iterator]();!(j=(m=n.next()).done);j=!0){var o=m.value;b.push(o.x?{instance:o,x:o.x}:{instance:o,y:o.y})}}catch(i){k=!0,l=i}finally{try{!j&&n["return"]&&n["return"]()}finally{if(k)throw l}}}this.snapTo=this.gridSnapMove({tolerance:this.tolerance,guidlines:b,objects:this._objects,target:a.target,area:{x1:this.offsets.left,y1:this.offsets.top,x2:this.originalWidth-this.offsets.right,y2:this.originalHeight-this.offsets.bottom},grid:this.grid&&{offsetX:this.offsets.left-this.grid._gridOffset.x,offsetY:this.offsets.top-this.grid._gridOffset.y,size:this.gridSize}})}}})),fabric.Canvas.prototype._getRotatedCornerCursor=function(a,b){var c=Math.round(b.angle%360/45),d={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7};switch(0>c&&(c+=8),c+=d[a],c%=8,a){case"tl":return b.copyable?"copy":"default";case"bl":return"pointer"}return this.cursorMap[c]},fabric.Text.prototype._constrainScale=function(a){if(Math.abs(a)<this.minScaleLimit)return 0>a?-this.minScaleLimit:this.minScaleLimit;if(void 0!==this.minFontSize){var b=parseFloat(Number(a*this.fontSize).toFixed(0));if(b<this.minFontSize)return this.minFontSize/this.fontSize}if(void 0!==this.maxFontSize){var b=parseFloat(Number(a*this.fontSize).toFixed(0));if(b>this.maxFontSize)return this.maxFontSize/this.fontSize}return a},fabric.Object.prototype._drawControl=function(a,b,c,d,e){var f=this.cornerSize,g=4,h=f-2*g,i=this.offsetCorner,j=4,k=!1;if(this.isControlVisible(a)){{var l=this._calculateCurrentDimensions(),m=l.x;l.y}if("br"==a||"mtr"==a||"tl"==a||"bl"==a||"ml"==a||"mr"==a||"mb"==a||"mt"==a)switch(a){case"tl":d-=i,e-=i,k=this.__editorMode||this.copyable?String.fromCharCode("0xe942"):!1;break;case"mtr":var n=this.__imageEditor?0:m/2;d=d+n+i,e-=i,k=!this.__editorMode&&!this.rotatable||this.uploadZone?!1:String.fromCharCode("0xe923");break;case"br":d+=i,e+=i,k=(this.__editorMode||this.resizable)&&"textbox"!==this.type?String.fromCharCode("0xe922"):!1;break;case"bl":d-=i,e+=i,k=this.__editorMode||this.removable?String.fromCharCode("0xe926"):!1}this.transparentCorners||b.clearRect(d,e,f,f);var o="mt"==a||"mb"==a?5:0;b.fillStyle=this.cornerColor,this.__imageEditor?b.fillRect(d,e,f,f):"ml"==a||"mr"==a||"mt"==a||"mb"==a?(b.beginPath(),d+=3*j,e+=3*j,b.arc(d,e,j,0,2*Math.PI),b.fillStyle=this.cornerIconColor,b.fill()):k&&(b.fillRect(d,e,f,f),b.font=h+"px FontFPD",b.fillStyle=this.cornerIconColor,b.textAlign="left",b.textBaseline="top",b.fillText(k,d+g+o,e+g))}},fabric.util.object.extend(fabric.Canvas.prototype,{_setSVGObject:function(a,b,c){var d=b.toSVG(c);if(b.clippingRect&&b.visible){var e=new fabric.Rect({left:b.clippingRect.left,top:b.clippingRect.top,fill:"transparent",width:b.clippingRect.width,height:b.clippingRect.height,originX:"left",originY:"top"}),f=e.getCenterPoint(),g=-e.width/2,h=-e.height/2,i=f.x+g,j=f.y+h,k=b.id||++fabric.Object.__uid;a.push('<clipPath id="clip-'+k+'"><rect x="'+i+'" y="'+j+'" width="'+b.clippingRect.width+'" height="'+b.clippingRect.height+'"></rect></clipPath>'),a.push('<g clip-path="url(#clip-'+k+')">'+d+"</g>")}else b.visible&&a.push(d)}}),fabric.util.object.extend(fabric.Text.prototype,{_createTextCharSpan:function(a,b,c,d){b.fontWeight=this.fontWeight,b.fontStyle=this.fontStyle;var e=a!==a.trim()||a.match(/  +/g),f=this.getSvgSpanStyles(b,e);f+="underline"===this.textDecoration?" text-decoration: underline;":"";var g=f?'style="'+f+'"':"",h=b.deltaY,i="",j=fabric.Object.NUM_FRACTION_DIGITS;return h&&(i=' dy="'+fabric.util.toFixed(h,j)+'" '),['<tspan x="',fabric.util.toFixed(c,j),'" y="',fabric.util.toFixed(d,j),'" ',i,g,">",fabric.util.string.escapeXml(a),"</tspan>"].join("")}});var FPDPathGroupName="1.6.7"===fabric.version?"path-group":"group",FPDUtil={isIE:function(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("msie")?parseInt(a.split("msie")[1]):!1},rekeyDeprecatedKeys:function(a){for(var b=[{old:"x",replace:"left"},{old:"y",replace:"top"},{old:"degree",replace:"angle"},{old:"currentColor",replace:"fill"},{old:"filters",replace:"availableFilters"},{old:"textSize",replace:"fontSize"},{old:"font",replace:"fontFamily"},{old:"scale",replace:["scaleX","scaleY"]},{old:"uploadZoneScaleMode",replace:"scaleMode"}],c=0;c<b.length;++c)if(a.hasOwnProperty(b[c].old)&&!a.hasOwnProperty(b[c].replace)){var d=b[c].replace;if("object"==typeof d)for(var e=0;e<d.length;++e)a[d[e]]=a[b[c].old];else a[b[c].replace]=a[b[c].old];delete a[b[c].old]}return a},log:function(a,b){return"undefined"==typeof console?!1:void("info"===b?console.info(a):"error"===b?console.error(a):"warn"===b?console.warn(a):console.log(a))},isUrl:function(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)},removeFromArray:function(a,b){var c=a.indexOf(b);return c>-1&&a.splice(c,1),a},isXML:function(a){try{return xmlDoc=jQuery.parseXML(a),!0}catch(b){return!1}},elementIsColorizable:function(a){if("text"===this.getType(a.type))return"text";if(!a.source)return!1;var b=a.source.split(".");if(1==b.length)return-1==b[0].search("data:image/png;")?(a.fill=a.colors=!1,!1):"dataurl";var c=a.source;return c=c.split("?")[0],b=c.split("."),-1==jQuery.inArray("png",b)&&-1==jQuery.inArray("svg",b)?(a.fill=a.colors=!1,!1):-1==jQuery.inArray("svg",b)?"png":"svg"},getType:function(a){return"text"===a||"i-text"===a||"curvedText"===a||"textbox"===a?"text":"image"},updateTooltip:function(a){var b=a?a.find(".fpd-tooltip"):jQuery(".fpd-tooltip");b.each(function(a,b){var c=jQuery(b);c.tooltipster(c.hasClass("tooltipstered")?"reposition":{offsetY:0,position:"bottom",theme:".fpd-tooltip-theme",touchDevices:!1})})},arrayUnique:function(a){for(var b=a.concat(),c=0;c<b.length;++c)for(var d=c+1;d<b.length;++d)b[c]===b[d]&&b.splice(d--,1);return b},createScrollbar:function(a,b){b=void 0===b?"y":b,a.hasClass("mCustomScrollbar")?a.mCustomScrollbar("scrollTo",0):a.mCustomScrollbar({scrollbarPosition:"outside",autoExpandScrollbar:!0,autoHideScrollbar:!0,scrollInertia:200,axis:b,mouseWheel:{preventDefault:!0},callbacks:{onTotalScrollOffset:100,onTotalScroll:function(){jQuery(this).trigger("_sbOnTotalScroll"),FPDUtil.refreshLazyLoad(jQuery(this).find(".fpd-grid"),!0)}}})},notEmpty:function(a){return void 0===a||a===!1||0===a.length?!1:!0},showModal:function(a,b,c,d){c=void 0===c?"":c,d=void 0===d?jQuery("body"):d,d.is("body")&&d.addClass("fpd-overflow-hidden");var e=b?"fpd-fullscreen":"",f='<div class="fpd-modal-internal fpd-modal-overlay"><div class="fpd-modal-wrapper fpd-shadow-3"><div class="fpd-modal-close"><span class="fpd-icon-close"></span></div><div class="fpd-modal-content"></div></div></div>';return 0===jQuery(".fpd-modal-internal").length&&d.append(f).children(".fpd-modal-internal:first").click(function(a){var b=jQuery(a.target);b.hasClass("fpd-modal-overlay")&&b.find(".fpd-modal-close").click()}),"prompt"===c?a='<input type="text" placeholder="'+a+'" /><span class="fpd-btn"></span>':"confirm"===c&&(a='<div class="fpd-confirm-msg">'+a+'</div><span class="fpd-btn fpd-confirm"></span>'),d.children(".fpd-modal-internal").attr("data-type",c).removeClass("fpd-fullscreen").addClass(e).fadeIn(300).find(".fpd-modal-content").html(a),d.children(".fpd-modal-internal")},showMessage:function(a,b){b=void 0===b?!0:b;var c,d=jQuery("body");c=d.children(".fpd-snackbar-wrapper").length>0?d.children(".fpd-snackbar-wrapper"):d.append('<div class="fpd-snackbar-wrapper"></div>').children(".fpd-snackbar-wrapper");var e=jQuery('<div class="fpd-snackbar fpd-shadow-1"><p></p></div>');return e.children("p").html(a),e.appendTo(c),setTimeout(function(){e.addClass("fpd-show-up"),b&&setTimeout(function(){e.remove()},5e3)},10),e},loadGridImage:function(a,b){if(a.length>0&&b){a.addClass("fpd-on-loading");var c=new Image;c.src=b,c.onload=function(){a.data("originWidth",this.width).data("originHeight",this.height).removeClass("fpd-on-loading").fadeOut(0).stop().fadeIn(200).css("background-image",'url("'+this.src+'")')},c.onerror=function(){a.parent(".fpd-item").remove()}}},refreshLazyLoad:function(a,b){if(a&&a.length>0)for(var c=a.children(".fpd-item.fpd-hidden:first"),d=0,e=b?15:0;(e>d||a.parent(".mCSB_container").height()-150<a.parents(".fpd-scroll-area:first").height())&&c.length>0;){var f=c.children("picture");c.removeClass("fpd-hidden"),FPDUtil.loadGridImage(f,f.data("img")),c=c.next(".fpd-item.fpd-hidden"),d++}},parseFabricObjectToFPDElement:function(a){if(!a)return{};var b=new FancyProductDesignerOptions,c=Object.keys(b.defaults.elementParameters),d=Object.keys("text"===FPDUtil.getType(a.type)?b.defaults.textParameters:b.defaults.imageParameters);c=jQuery.merge(c,d);for(var e={},f=0;f<c.length;++f){var g=c[f];void 0!==a[g]&&(e[g]=a[g])}return{type:FPDUtil.getType(a.type),source:a.source,title:a.title,parameters:e}},popupBlockerAlert:function(a,b){(null==a||"undefined"==typeof a)&&FPDUtil.showModal(b.getTranslation("misc","popup_blocker_alert"))},getScalingByDimesions:function(a,b,c,d,e){e="undefined"==typeof e?"fit":e,c="number"!=typeof c?0:c,d="number"!=typeof d?0:d;var f=1,g=0!==c,h=0!==d;if("cover"===e){var i=c-a,j=d-b;f=j>i?g?Math.max(c/a,d/b):1:h?Math.max(c/a,d/b):1}else f=a>b?g?Math.min(c/a,d/b):1:h?Math.min(c/a,d/b):1;return parseFloat(f.toFixed(10))},localStorageAvailable:function(){var a=!0;try{window.localStorage.length,window.localStorage.setItem("fpd-storage","just-testing")}catch(b){a=!1}return a},checkImageDimensions:function(a,b,c){var d=a.currentViewInstance.options.customImageParameters,e=a.currentViewInstance.getUploadZone(a.currentViewInstance.currentUploadZone);if(e&&(d=$.extend({},d,e)),b>d.maxW||b<d.minW||c>d.maxH||c<d.minH){a._loadingCustomImage=!1,a.mainBar&&(a.mainBar.toggleDialog(!1),a.currentViewInstance.currentUploadZone&&a.mainBar.toggleUploadZonePanel(!1));var f=a.getTranslation("misc","uploaded_image_size_alert").replace("%minW",d.minW).replace("%minH",d.minH).replace("%maxW",d.maxW).replace("%maxH",d.maxH);return FPDUtil.showModal(f),!1}return!0},elementHasColorSelection:function(a){return(Array.isArray(a.colors)||Boolean(a.colors)||a.colorLinkGroup||a.__editorMode)&&FPDUtil.elementIsColorizable(a)!==!1},elementAvailableColors:function(a,b){var c=[];if(a.type==FPDPathGroupName){var d=a.getObjects();if(1===d.length)c=a.colors;else{c=[];for(var e=0;e<d.length;++e){var f=d[e],g=tinycolor(f.fill);c.push(g.toHexString())}}}else c=a.colorLinkGroup&&b.colorLinkGroups[a.colorLinkGroup]?b.colorLinkGroups[a.colorLinkGroup].colors:a.colors;return c},changePathColor:function(a,b,c){for(var d=[],e=a.getObjects(),f=0;f<e.length;++f){var g=e[f],h=tinycolor(g.fill);d.push(h.toHexString())}return d[b]="string"==typeof c?c:c.toHexString(),d},isHex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},addThousandSep:function(a){var b=/(\d+)(\d{3})/;return String(a).replace(/^\d+/,function(a){for(;b.test(a);)a=a.replace(b,"$1"+thousandSeparator+"$2");return a})},getFilter:function(a,b){if("string"!=typeof a)return null;if(b=void 0===b?{}:b,a=a.toLowerCase(),FPDFilters[a]&&FPDFilters[a].array)return new fabric.Image.filters.ColorMatrix({matrix:FPDFilters[a].array});switch(a){case"grayscale":return new fabric.Image.filters.Grayscale;case"sepia":return new fabric.Image.filters.Sepia;case"sepia2":return new fabric.Image.filters.Sepia2;case"brightness":return new fabric.Image.filters.Brightness(b);case"contrast":return new fabric.Image.filters.Contrast(b);case"removewhite":return"1.6.7"===fabric.version?new fabric.Image.filters.RemoveWhite(b):new fabric.Image.filters.RemoveColor(b)}return null},spectrumColorNames:function(a,b){a.find(".sp-palette-container .sp-thumb-el").each(function(c,d){var e=d.title,f=b.mainOptions.hexNames[e.replace("#","").toLowerCase()];jQuery(d).attr("title",f?f:e).addClass("fpd-tooltip"),FPDUtil.updateTooltip(a)})},getDeviceByScreenSize:function(){var a=jQuery(window).width();return 568>a?"smartphone":a>568&&768>=a?"tablet":"desktop"},elementIsEditable:function(a){return a&&("object"==typeof a.colors||a.colors===!0||1==a.colors||a.removable||a.draggable||a.resizable||a.rotatable||a.zChangeable||a.advancedEditing||a.editable||a.uploadZone||a.colorLinkGroup&&a.colorLinkGroup.length>0||a.__editorMode)},hexToRgb:function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},unitToPixel:function(a,b,c){c=void 0===c?72:c;var d=a*c;return Math.round("cm"==b?d/2.54:"mm"==b?d/25.4:d)},pixelToUnit:function(a,b,c){c=void 0===c?72:c;var d=a/c;return Math.round("cm"==b?2.54*d:"mm"==b?25.4*d:d)},isSVG:function(a){return null!==a&&(a.type===FPDPathGroupName||void 0!==a.d||-1!==jQuery.inArray("svg",a.source.split(".")))},inRange:function(a,b,c){return c=void 0===c?10:c,Math.abs(a-b)<c},objectHasKeys:function(a,b){if(a&&"object"==typeof a){for(var c=!0,d=0;d<b.length;++d){var e=b[d];if(!a.hasOwnProperty(e)){c=!1;break}}return c}return!1},setItemPrice:function(a,b){if(b.currentViewInstance){var c=b.currentViewInstance.options,d=null;if(b.currentViewInstance&&b.currentViewInstance.currentUploadZone&&a.parents(".fpd-upload-zone-adds-panel").length>0){var e=b.currentViewInstance.getUploadZone(b.currentViewInstance.currentUploadZone);e&&e.price&&(d=e.price)}a.parents('[data-module="images"]:first').length>0&&null===d?isNaN(a.data("price"))?c&&c.customImageParameters.price&&(d=c.customImageParameters.price):d=a.data("price"):a.data("parameters")&&a.data("parameters").price&&null===d&&(d=a.data("parameters").price),a.children(".fpd-price").toggle(Boolean(d)).html(d?b.formatPrice(d):"")}},isZero:function(a){return 0===a||"string"==typeof a&&"0"===a}},FPDEmojisRegex=/\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F/g,FancyProductDesignerOptions=function(){
this.defaults={imageLoadTimestamp:!1,stageWidth:900,stageHeight:600,editorMode:!1,editorBoxParameters:["left","top","angle","fill","width","height","fontSize","price"],fonts:[{name:"Arial"},{name:"Lobster",url:"google"}],templatesDirectory:"html/",facebookAppId:"",instagramClientId:"",instagramRedirectUri:"",zoomStep:.2,maxZoom:3,hexNames:{},selectedColor:"#f5f5f5",boundingBoxColor:"#2185d0",outOfBoundaryColor:"#990000",replaceInitialElements:!1,lazyLoad:!0,templatesType:"html",customImageAjaxSettings:{url:"php/custom-image-handler.php",method:"POST",dataType:"json",data:{saveOnServer:0,uploadsDir:"./uploads",uploadsDirURL:"http://yourdomain.com/uploads"}},improvedResizeQuality:!1,responsive:!0,cornerIconColor:"#000000",langJSON:"/designer/lang/default.json",colorPickerPalette:[],actions:{top:[],right:[],bottom:[],left:[]},mainBarModules:["products","images","text","designs","manage-layers"],initialActiveModule:"",maxValues:{},watermark:!1,gridColumns:2,priceFormat:{currency:"&#36;%d",decimalSep:".",thousandSep:","},mainBarContainer:!1,modalMode:!1,keyboardControl:!0,deselectActiveOnOutside:!0,uploadZonesTopped:!0,loadFirstProductInStage:!0,unsavedProductAlert:!1,hideDialogOnAdd:!1,toolbarPlacement:"smart",snapGridSize:[50,50],fabricCanvasOptions:{},namesNumbersDropdown:[],namesNumbersEntryPrice:0,colorSelectionPlacement:"",colorSelectionDisplayType:"grid",bulkVariationsPlacement:"",bulkVariations:{},toolbarDynamicContext:"body",boundingBoxProps:{strokeWidth:1},fitImagesInCanvas:!1,maxPrice:-1,inCanvasTextEditing:!0,openTextInputOnSelect:!1,designCategories:[],optionalView:!1,saveActionBrowserStorage:!0,pricingRules:[],uploadAgreementModal:!1,imageEditorSettings:{masks:[]},printingBox:null,autoOpenInfo:!1,guidedTour:null,replaceColorsInColorGroup:!1,allowedImageTypes:["jpeg","png","svg","pdf"],pixabayApiKey:"",pixabayHighResImages:!1,pixabayLang:"en",openModalInDesigner:!1,imageSizeTooltip:!1,depositphotosApiKey:"",depositphotosLang:"en",depositphotosPrice:0,highlightEditableObjects:"",applyFillWhenReplacing:!0,layouts:[],dynamicViewsOptions:{unit:"mm",formats:[]},disableTextEmojis:!1,smartGuides:!1,toolbarTheme:"white",usePrintingBoxAsBounding:!1,printingBox:{},productsJSON:null,designsJSON:null,customizationRequiredRule:"any",swapProductConfirmation:!1,toolbarTextareaPosition:"sub",elementParameters:{objectCaching:!1,z:-1,price:0,colors:!1,removable:!1,draggable:!1,rotatable:!1,resizable:!1,copyable:!1,zChangeable:!1,boundingBox:!1,boundingBoxMode:"inside",autoCenter:!1,replace:"",replaceInAllViews:!1,autoSelect:!1,topped:!1,colorPrices:{},colorLinkGroup:!1,patterns:[],sku:"",excludeFromExport:!1,showInColorSelection:!1,locked:!1,uniScalingUnlockable:!1,originX:"center",originY:"center",cornerSize:24,fill:!1,lockUniScaling:!0,pattern:!1,top:0,left:0,angle:0,flipX:!1,flipY:!1,opacity:1,scaleX:1,scaleY:1},textParameters:{maxLength:0,curved:!1,curvable:!1,curveSpacing:10,curveRadius:80,curveReverse:!1,maxLines:0,textBox:!1,textPlaceholder:!1,numberPlaceholder:!1,letterSpacing:0,chargeAfterEditing:!1,minFontSize:1,textTransform:"none",widthFontSize:0,maxFontSize:200,shadowColor:"",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textLinkGroup:"",strokeColors:[],editable:!0,fontFamily:"Arial",fontSize:18,lineHeight:1,fontWeight:"normal",fontStyle:"normal",textDecoration:"normal",padding:10,textAlign:"left",stroke:null,strokeWidth:0,charSpacing:0},imageParameters:{uploadZone:!1,filter:null,scaleMode:"fit",resizeToW:0,resizeToH:0,advancedEditing:!1,uploadZoneMovable:!1,uploadZoneRemovable:!1,padding:0,minScaleLimit:.01},customImageParameters:{minW:100,minH:100,maxW:1500,maxH:1500,minDPI:72,maxSize:10},customTextParameters:{},customAdds:{designs:!0,uploads:!0,texts:!0,drawing:!0},qrCodeProps:{autoCenter:!0,draggable:!0,removable:!0,resizable:!0}},this.merge=function(a,b){var c=jQuery.extend({},a,b);return c.elementParameters=jQuery.extend({},a.elementParameters,c.elementParameters),c.textParameters=jQuery.extend({},a.textParameters,c.textParameters),c.imageParameters=jQuery.extend({},a.imageParameters,c.imageParameters),c.customTextParameters=jQuery.extend({},a.customTextParameters,c.customTextParameters),c.customImageParameters=jQuery.extend({},a.customImageParameters,c.customImageParameters),c.customAdds=jQuery.extend({},a.customAdds,c.customAdds),c.customImageAjaxSettings=jQuery.extend({},a.customImageAjaxSettings,c.customImageAjaxSettings),c.qrCodeProps=jQuery.extend({},a.qrCodeProps,c.qrCodeProps),c.imageEditorSettings=jQuery.extend({},a.imageEditorSettings,c.imageEditorSettings),c.dynamicViewsOptions=jQuery.extend({},a.dynamicViewsOptions,c.dynamicViewsOptions),c.priceFormat=jQuery.extend({},a.priceFormat,c.priceFormat),c.printingBox=jQuery.extend({},a.printingBox,c.printingBox),c},this.getParameterKeys=function(){var a=Object.keys(this.defaults.elementParameters),b=Object.keys(this.defaults.imageParameters),c=Object.keys(this.defaults.textParameters);return a=a.concat(b),a=a.concat(c)}},FancyProductDesignerView=function(a,b,c,d){"use strict";$=jQuery,d="undefined"==typeof d?{}:d;var e=$(this),f=this,g=!1,h=!1,i=null,j=null,k={},l=new FancyProductDesignerOptions,m=function(){f.title=b.title,f.thumbnail=b.thumbnail,f.elements=[],f.options=b.options,f.undos=[],f.redos=[],f.totalPrice=0,f.truePrice=0,f.zoom=1,f.responsiveScale=1,f.currentElement=null,f.currentBoundingObject=null,f.currentUploadZone=null,f.stage=null,f.fCanv=null,f.propertiesToInclude=["_isInitial","lockMovementX","lockMovementY","lockRotation","lockScalingX","lockScalingY","lockScalingFlip","lockUniScaling","resizeType","clipTo","clippingRect","boundingBox","boundingBoxMode","selectable","evented","title","editable","cornerColor","cornerIconColor","borderColor","isEditable","hasUploadZone"],f.mask=b.mask?b.mask:null,f.maskObject=null,f.printingBoxObject=null,f.locked=void 0!==b.locked?b.locked:b.options.optionalView,f.dragStage=!1,f.isCustomized=!1,f.textPlaceholder=null,f.numberPlaceholder=null,f.names_numbers=b.names_numbers?b.names_numbers:null,f.options.width&&(f.options.stageWidth=f.options.width,delete f.options.width),a.append("<canvas></canvas>"),e.on("elementAdd",function(a,b){b&&(q(),!b.isCustom||b.hasUploadZone||b.replace||(b.copyable=b.originParams.copyable=!0,f.stage.renderAll()))});var c=a.children("canvas:last").get(0),g=$.extend({},{containerClass:"fpd-view-stage fpd-hidden",selection:!1,hoverCursor:"pointer",controlsAboveOverlay:!0,centeredScaling:!0,allowTouchScrolling:!0,preserveObjectStacking:!0},d);f.fCanv=f.stage=new fabric.Canvas(c,g).on({"object:added":function(a){var b=a.target,c=b.price;if(b._addToUZ&&""!=b._addToUZ){var d=f.getElementByTitle(b._addToUZ);c=d.price?d.price:c}void 0===c||0===c||b.uploadZone||b._ignore||b.chargeAfterEditing&&!b._isPriced||(b.setCoords(),f.changePrice(c,"+")),e.trigger("fabricObject:added",[b])},"object:removed":function(a){var b=a.target;void 0===b.price||0===b.price||b.uploadZone||b.chargeAfterEditing&&!b._isPriced||f.changePrice(b.price,"-"),e.trigger("fabricObject:removed",[b])}}),f.stage.setDimensions({width:f.options.stageWidth,height:f.options.stageHeight}),f.mask&&f.setMask(f.mask),f.renderPrintingBox()},n=function(){c.call(c,f),h=!0,f.options.keyboardControl&&$(document).on("keydown",function(a){var b=$(a.target);if(f.currentElement&&!b.is('textarea,input[type="text"],input[type="number"]')){switch(a.which){case 8:f.currentElement.removable&&f.removeElement(f.currentElement);break;case 37:f.currentElement.draggable&&f.setElementParameters({left:f.currentElement.left-1});break;case 38:f.currentElement.draggable&&f.setElementParameters({top:f.currentElement.top-1});break;case 39:f.currentElement.draggable&&f.setElementParameters({left:f.currentElement.left+1});break;case 40:f.currentElement.draggable&&f.setElementParameters({top:f.currentElement.top+1});break;default:return}a.preventDefault()}});var b,d;f.stage.on({"after:render":function(){f.options.highlightEditableObjects.length>3&&(f.stage.contextContainer.strokeStyle=f.options.highlightEditableObjects,f.stage.forEachObject(function(a){if(a!==f.stage.getActiveObject()&&!a.isMoving&&("text"===FPDUtil.getType(a.type)&&a.editable||a.uploadZone)){var b=a.getBoundingRect();f.stage.contextContainer.setLineDash([5,15]),f.stage.contextContainer.strokeRect(b.left,b.top,b.width,b.height)}else f.stage.contextContainer.setLineDash([])}))},"mouse:over":function(a){f.stage.hoverCursor=f.currentElement&&f.currentElement.draggable&&a.target===f.currentElement?"move":"pointer",e.trigger("canvas:mouseOver",[f,a])},"mouse:down":function(a){a.e.touches&&(b=a.e.touches[0].clientX,d=a.e.touches[0].clientY),g=!0,a.target&&a.target.__corner&&"function"==typeof a.target.exitEditing&&a.target.exitEditing(),void 0==a.target?f.deselectElement():i=f.getElementJSON(),e.trigger("canvas:mouseDown",[f,a])},"mouse:up":function(b){a.siblings(".fpd-snap-line-v, .fpd-snap-line-h").hide();var c=!1;if(b.target&&(c=b.target.__corner),"bl"==c&&(b.target.removable||f.options.editorMode)&&f.removeElement(b.target),"tl"==c&&(b.target.copyable||f.options.editorMode)&&!b.target.hasUploadZone){var d=f.getElementJSON();d.top=d.top+30,d.left=d.left+30,f.options.editorMode||(d.autoSelect=!0),f.addElement(FPDUtil.getType(b.target.type),b.target.source,"Copy "+b.target.title,d)}g=!1,e.trigger("canvas:mouseUp",[f,b])},"mouse:move":function(a){if(g&&f.dragStage){if(a.e.touches)var c=a.e.touches[0].clientX,h=a.e.touches[0].clientY;f.stage.relativePan(new fabric.Point(a.e.touches?c-b:a.e.movementX,a.e.touches?h-d:a.e.movementY)),a.e.touches&&(b=c,d=h)}e.trigger("canvas:mouseMove",[f,a])},"text:editing:entered":function(){},"text:changed":function(a){f.setElementParameters({text:a.target.text})},"text:editing:exited":function(){},"object:moving":function(a){j="moving",a.target.lockMovementX&&a.target.lockMovementY||(r(a.target),f.options.smartGuides&&"1.6.7"!==fabric.version&&s(a.target)),f.stage.contextContainer.strokeStyle="#990000",t(a.target),e.trigger("elementChange",[j,a.target])},"object:scaling":function(b){j="scaling",t(b.target),a.siblings(".fpd-snap-line-v, .fpd-snap-line-h").hide(),e.trigger("elementChange",[j,b.target])},"object:rotating":function(a){j="rotating",t(a.target),e.trigger("elementChange",[j,a.target])},"object:modified":function(a){if(i&&(a.target._ignore||(p({element:a.target,parameters:i,interaction:"modify"}),i=null)),"text"===FPDUtil.getType(a.target.type)&&"curvedText"!==a.target.type&&!a.target.uniScalingUnlockable){var b=a.target.fontSize*a.target.scaleX;b=parseFloat(Number(b).toFixed(0)),a.target.scaleX=1,a.target.scaleY=1,a.target._clearCache(),a.target.set("fontSize",b),a.target.fontSize=b}if(null!==j){var c={};switch(j){case"moving":c.left=Number(a.target.left),c.top=Number(a.target.top);break;case"scaling":"text"!==FPDUtil.getType(a.target.type)||"curvedText"===a.target.type||a.target.uniScalingUnlockable?(c.scaleX=parseFloat(a.target.scaleX),c.scaleY=parseFloat(a.target.scaleY)):c.fontSize=parseInt(a.target.fontSize);break;case"rotating":c.angle=a.target.angle}e.trigger("elementModify",[a.target,c])}j=null},"selection:updated":o,"object:selected":o}),f.stage.renderAll(),e.trigger("priceChange",[0,f.truePrice])},o=function(a){var b=a.target;return f.deselectElement(!1),f.dragStage?(f.deselectElement(),!1):(f.currentElement=b,e.trigger("elementSelect",[b]),b.setControlVisible("tr",!1),b._ignore||b.set({borderColor:f.options.selectedColor,rotatingPointOffset:0}),f.stage.hoverCursor=b.draggable?"move":"pointer",void(b.boundingBox&&!b.uploadZone&&f.renderElementBoundingBox(b)))},p=function(a,b,c){c="undefined"==typeof c?!0:c,a&&(f.undos.push(a),f.undos.length>20&&f.undos.shift()),b&&f.redos.push(b),f.isCustomized=!0,c&&e.trigger("undoRedoSet",[f.undos,f.redos])},q=function(){for(var a=f.stage.getObjects(),b=[],c=0;c<a.length;++c){var d=a[c];(d.topped||d.uploadZone&&f.options.uploadZonesTopped)&&b.push(d)}for(var c=0;c<b.length;++c)b[c].bringToFront();f.currentBoundingObject&&f.currentBoundingObject.bringToFront(),f.printingBoxObject&&f.printingBoxObject.bringToFront();var e=f.getElementByID("_snap_lines_group");e&&e.bringToFront(),f.stage.renderAll()},r=function(a){if(f._snapElements){var b=f.options.snapGridSize[0]?f.options.snapGridSize[0]:50,c=f.options.snapGridSize[1]?f.options.snapGridSize[1]:50,d=a.getPointByOrigin("left","top"),e=new fabric.Point(a.padding+Math.round(d.x/b)*b,a.padding+Math.round(d.y/c)*c);a.setPositionByOrigin(e,"left","top")}},s=function(b){a.siblings(".fpd-snap-line-v, .fpd-snap-line-h").hide();var c=f.stage.getObjects().filter(function(a){return a.hasRotatingPoint}),d=f.currentBoundingObject;d||(d={left:0,top:0,width:f.options.stageWidth,height:f.options.stageHeight});var e=f.stage.gridSnapMove({tolerance:8,guidlines:[{cx:d.left+d.width/2},{cy:d.top+d.height/2}],objects:c,target:b});delete f.stage.__snapCache,e&&(void 0!==e.x&&a.siblings(".fpd-snap-line-v").css("left",a.position().left+e.x*f.responsiveScale).show(),void 0!==e.y&&a.siblings(".fpd-snap-line-h").css("top",a.position().top+e.y*f.responsiveScale).show())},t=function(a){if(f.currentBoundingObject&&!a.hasUploadZone)if(a.setCoords(),"limitModify"===a.boundingBoxMode){var b=a.getBoundingRect(),c=f.currentBoundingObject.getBoundingRect(),d=c.left,g=c.left+c.width-b.width,h=c.top,i=c.top+c.height-b.height;a.isContainedWithinObject(f.currentBoundingObject)?(k={left:a.left,top:a.top,angle:a.angle,scaleX:a.scaleX,scaleY:a.scaleY},"text"==FPDUtil.getType(a.type)&&(k.fontSize=a.fontSize,k.lineHeight=a.lineHeight,k.charSpacing=a.charSpacing)):(0===a.__corner&&(b.left>d&&b.left<g&&(k.left=a.left),b.top>h&&b.top<i&&(k.top=a.top)),a.setOptions(k)),e.trigger("elementCheckContainemt",[a,"limitModify"])}else if("inside"===a.boundingBoxMode||"clipping"===a.boundingBoxMode){var j=!1,l=a.isOut;j=!a.isContainedWithinObject(f.currentBoundingObject),j?("inside"===a.boundingBoxMode&&(a.borderColor=f.options.outOfBoundaryColor),a.isOut=!0):("inside"===a.boundingBoxMode&&(a.borderColor=f.options.selectedColor),a.isOut=!1),l!=a.isOut&&void 0!=l&&(j?e.trigger("elementOut",[a]):e.trigger("elementIn",[a])),e.trigger("elementCheckContainemt",[a,a.boundingBoxMode])}f.stage.renderAll()},u=function(a,b,c,d){var e=a.getCenterPoint(),g=e.x,h=e.y;b&&(g=d?d.left+.5*d.width:.5*f.options.stageWidth),c&&(h=d?d.top+.5*d.height:.5*f.options.stageHeight),a.setPositionByOrigin(new fabric.Point(g,h),"center","center"),f.stage.renderAll(),a.setCoords(),t(a)},v=function(a,b){if(h&&a.colorPrices&&"object"==typeof a.colors&&a.colors.length>1)if(void 0!==a.currentColorPrice&&(a.price-=a.currentColorPrice,f.changePrice(a.currentColorPrice,"-")),"string"==typeof b){var c=b.replace("#","");if(a.colorPrices.hasOwnProperty(c)||a.colorPrices.hasOwnProperty(c.toUpperCase())){var d=void 0===a.colorPrices[c]?a.colorPrices[c.toUpperCase()]:a.colorPrices[c];a.currentColorPrice=d,a.price+=a.currentColorPrice,f.changePrice(a.currentColorPrice,"+")}else a.currentColorPrice=0}else a.currentColorPrice=0},w=function(a,b){var c=f.options._loadFromScript?f.options._loadFromScript:"";if(b&&(b=c+b),FPDUtil.isSVG(a))b&&fabric.util.loadImage(b,function(b){if("function"==typeof a.getObjects)for(var c=a.getObjects(),d=0;d<c.length;++d)c[d].set("fill",new fabric.Pattern({source:b,repeat:"repeat"}));else a.set("fill",new fabric.Pattern({source:b,repeat:"repeat"}));f.stage.renderAll()});else if("text"===FPDUtil.getType(a.type))if(b)fabric.util.loadImage(b,function(b){a.set("fill",new fabric.Pattern({source:b,repeat:"repeat"})),f.stage.renderAll()});else{var d=a.fill?a.fill:a.colors[0];d=d?d:"#000000",a.set("fill",d)}},x=function(a){var b=f.getBoundingBoxCoords(a)||a.clippingRect;b&&(a.clippingRect=b,a.clipTo=function(a){y(a,this)})},y=function(a,b,c){c=void 0===c?1:c;var d=b.clippingRect;a.save();var e=b.calcTransformMatrix(),f=fabric.util.invertTransform(e);a.transform.apply(a,f),a.beginPath(),a.rect(d.left,d.top,d.width*c,d.height*c),a.fillStyle="transparent",a.fill(),a.closePath(),a.restore()},z=function(a){if(a&&a.hasUploadZone){for(var b=f.stage.getObjects(),c=!0,d=0;d<b.length;++d){var e=b[d];if(e.replace==a.replace){c=!1;break}}var g=f.getUploadZone(a.replace);g&&(g.set("opacity",c?1:0),g.evented=c),f.stage.renderAll()}},A=function(a,b){for(a.set("text",b);a.__lineHeights.length>a.maxLines;)b=a.text,b=b.slice(0,-1),a.set("text",b),a.__lineHeights.length<=a.maxLines&&a.exitEditing();return b};this.getElementByID=function(a){for(var b=f.stage.getObjects(),c=0;c<b.length;++c)if(b[c].id==a)return b[c];return!1},this.addElement=function(a,b,c,d){if(void 0!==a&&void 0!==b&&void 0!==c){if(e.trigger("beforeElementAdd",[a,b,c,d]),d="undefined"!=typeof d?d:{},"text"===a&&(b=b.replace(/(<([^>]+)>)/gi,""),c=c.replace(/(<([^>]+)>)/gi,"")),"object"!=typeof d)return FPDUtil.showModal("The element "+c+" does not have a valid JSON object as parameters! Please check the syntax, maybe you set quotes wrong."),!1;"string"==typeof d.fill||$.isArray(d.fill)||(d.fill=!1),d=FPDUtil.rekeyDeprecatedKeys(d),d="text"===FPDUtil.getType(a)?$.extend({},f.options.elementParameters,f.options.textParameters,d):$.extend({},f.options.elementParameters,f.options.imageParameters,d);if(d.colors&&"string"==typeof d.colors&&0==d.colors.indexOf("#")){var g=d.colors.replace(/\s+/g,"").split(",");d.colors=g}if(d._isInitial=!h,"text"===FPDUtil.getType(a)){var i=d.colors[0]?d.colors[0]:"#000000";d.fill=d.fill?d.fill:i}var j={source:b,title:c,id:String((new Date).getTime()),cornerColor:f.options.cornerColor?f.options.cornerColor:f.options.selectedColor,cornerIconColor:f.options.cornerIconColor};if(f.options.editorMode?(d.__editorMode=f.options.editorMode,j.selectable=j.evented=!0):$.extend(j,{selectable:!1,lockRotation:!0,hasRotatingPoint:!1,lockScalingX:!0,lockScalingY:!0,lockMovementX:!0,lockMovementY:!0,hasControls:!1,evented:!1,lockScalingFlip:!0}),j=$.extend({},d,j),j.isCustom&&(f.isCustomized=!0),f.options.usePrintingBoxAsBounding&&!j.boundingBox&&FPDUtil.objectHasKeys(f.options.printingBox,["left","top","width","height"])&&(j.boundingBox={x:f.options.printingBox.left,y:f.options.printingBox.top,width:f.options.printingBox.width,height:f.options.printingBox.height}),"image"==a||"path"==a||a==FPDPathGroupName){if(j.crossOrigin="",j.lockUniScaling=f.options.editorMode?!1:!j.uniScalingUnlockable,-1===b.search("<svg ")){var k=b.split("?");b=j.source=k[0]}var l=function(a,b,c,d){a?(d=void 0===d?{}:d,$.extend(b,{originParams:$.extend({},b,d)}),a.setOptions(b),f.stage.add(a),f.setElementParameters(b,a,!1),a.originParams.angle=a.angle,a.originParams.z=f.getZIndex(a),f.options.improvedResizeQuality&&!c&&("1.6.7"===fabric.version?a.resizeFilters.push(new fabric.Image.filters.Resize({resizeType:"hermite"})):a.resizeFilter=new fabric.Image.filters.Resize({type:"hermite"})),a._isInitial||a._ignore||p({element:a,parameters:b,interaction:"add"})):FPDUtil.showModal("The image with the URL<br /><i style='font-size: 10px;'>"+b.source+"</i><br />can not be loaded into the canvas. <p><br />Troubleshooting<br/><ul><li>The URL is not correct!</li><li>The image has been blocked by <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS' target='_blank'>CORS policy</a>. You need to host the image under the same protocol and domain or enable 'Access-Control-Allow-Origin' on the server where you host the image. <a href='http://enable-cors.org/' target='_blank'>Read more about it here.</a></li></ul></p>"),e.trigger("elementAdd",[a])};if(void 0===b||0===b.length)return void FPDUtil.log("No image source set for: "+c);if(-1!==b.search("<svg "))fabric.loadSVGFromString(b,function(a,b){var c=fabric.util.groupSVGElements(a,b);l(c,j,!0)});else if(-1!=$.inArray("svg",b.split("."))){var m=Date.now().toString(),n=f.options._loadFromScript?f.options._loadFromScript:"",o=n+b;f.options.imageLoadTimestamp&&!f.options._loadFromScript&&(o+="?"+m),fabric.loadSVGFromURL(o,function(a,b){var c=a?fabric.util.groupSVGElements(a,b):null;if(j.fill)j.svgFill||(j.svgFill=j.fill),delete j.fill;else if(!j.fill&&!j.svgFill){if(a){d.colors=[];for(var e=0;e<a.length;++e){var f=a[e].fill.length>0?tinycolor(a[e].fill).toHexString():"transparent";d.colors.push(f)}d.svgFill=d.colors}j.svgFill=d.svgFill}l(c,j,!0,{svgFill:d.svgFill})})}else{var o,m=Date.now().toString(),n=f.options._loadFromScript?f.options._loadFromScript:"";-1==b.indexOf("data:image/")?(o=n+b,f.options.imageLoadTimestamp&&!f.options._loadFromScript&&(o+="?"+m)):o=b,new fabric.Image.fromURL(o,function(a){a=""===a.getSrc()?null:a,l(a,j,!1)},{crossOrigin:"anonymous"})}}else if("text"===FPDUtil.getType(a)){b=b.replace(/\\n/g,"\n"),d.text=d.text?d.text:b,j.resizable=d.widthFontSize?!1:d.resizable,$.extend(j,{spacing:d.curveSpacing,radius:d.curveRadius,reverse:d.curveReverse,originParams:$.extend({},d)}),d.originParams&&d.originParams.text&&(j.originParams.text=d.originParams.text);var q;if(d.curved&&"undefined"!=typeof fabric.CurvedText){var r=j.text;q=new fabric.CurvedText(b,j),j.text=r}else d.textBox?(j.lockUniScaling=!f.options.editorMode,j.resizable=f.options.editorMode!==!1,q=new fabric.Textbox(b,j),q.setControlVisible("bl",!0),f.options.inCanvasTextEditing||q.on({"editing:entered":function(){this.exitEditing()}})):(q=new fabric.IText(b,j),f.options.inCanvasTextEditing||q.on({"editing:entered":function(){this.exitEditing()}}));(j.textPlaceholder||j.numberPlaceholder)&&(j.textPlaceholder&&(f.textPlaceholder=q,j.removable=!1),j.numberPlaceholder&&(f.numberPlaceholder=q,j.removable=!1)),f.stage.add(q),f.setElementParameters(j,q,!1),q.originParams=$.extend({},q.toJSON(),q.originParams),delete q.originParams.clipTo,q.originParams.z=f.getZIndex(q),q._isInitial||q._ignore||p({element:q,parameters:j,interaction:"add"}),e.trigger("elementAdd",[q])}else FPDUtil.showModal("Sorry. This type of element is not allowed!")}},this.getElementByTitle=function(a){for(var b=f.stage.getObjects(),c=0;c<b.length;++c)if(b[c].title==a)return b[c]},this.deselectElement=function(a){a="undefined"==typeof a?!0:a,f.currentBoundingObject&&(f.stage.remove(f.currentBoundingObject),e.trigger("boundingBoxToggle",[f.currentBoundingObject,!1]),f.currentBoundingObject=null),a&&f.stage.discardActiveObject(),f.currentElement=null,f.stage.renderAll().calcOffset(),e.trigger("elementSelect",[null])},this.removeElement=function(a){if("string"==typeof a&&(a=f.getElementByTitle(a)),!a._ignore){var b=f.getElementJSON(a);b.z=f.getZIndex(a),p({element:a,parameters:b,interaction:"remove"})}this.deselectElement(),setTimeout(function(){f.stage.remove(a),z(a),e.trigger("elementRemove",[a])},1)},this.setElementParameters=function(a,b,c){if(b="undefined"==typeof b?f.stage.getActiveObject():b,c="undefined"==typeof c?!0:c,!b||void 0===a)return!1;"string"==typeof b&&(b=f.getElementByTitle(b));var d=FPDUtil.getType(b.type);if(c&&h){var g=f.getElementJSON();b._tempFill&&(g.fill=b._tempFill,b._tempFill=void 0),b._ignore||p({element:b,parameters:g,interaction:"modify"})}if("image"==FPDUtil.getType(b.type)&&!b._isInitial&&!b._addToUZ&&1===b.scaleX){var i=null;if(FPDUtil.isZero(b.resizeToW)&&FPDUtil.isZero(b.resizeToH)){if(b.boundingBox){var j=f.getBoundingBoxCoords(b);i=FPDUtil.getScalingByDimesions(b.width,b.height,j.width,j.height,b.scaleMode)}else if(f.options.fitImagesInCanvas){var k=3*b.cornerSize;(b.width*b.scaleX+k>f.options.stageWidth||b.height*b.scaleY+k>f.options.stageHeight)&&(i=FPDUtil.getScalingByDimesions(b.width,b.height,f.options.stageWidth-k,f.options.stageHeight-k))}}else{var l=b.resizeToW,m=b.resizeToH;l=isNaN(l)?parseFloat(l)/100*f.options.stageWidth:parseInt(l),m=isNaN(m)?parseFloat(m)/100*f.options.stageHeight:parseInt(m),i=FPDUtil.getScalingByDimesions(b.width,b.height,l,m,b.scaleMode)}null!==i&&$.extend(a,{scaleX:i,scaleY:i})}if(b._addToUZ&&""!=b._addToUZ){a.z=-1;var n=f.getElementByTitle(b._addToUZ),i=1;"image"==FPDUtil.getType(b.type)&&(i=FPDUtil.getScalingByDimesions(b.width,b.height,n.width*n.scaleX,n.height*n.scaleY,n.scaleMode)),$.extend(a,{boundingBox:b._addToUZ,boundingBoxMode:"clipping",scaleX:i,scaleY:i,autoCenter:!0,removable:!0,zChangeable:!1,autoSelect:!1,copyable:!1,hasUploadZone:!0,z:f.getZIndex(f.getElementByTitle(b._addToUZ)),rotatable:n.rotatable,draggable:n.draggable,resizable:n.resizable,price:n.price?n.price:a.price,replace:b._addToUZ,lockUniScaling:n.lockUniScaling,uniScalingUnlockable:n.uniScalingUnlockable}),$.extend(a.originParams,{boundingBox:a.boundingBox,replace:a.replace,rotatable:a.rotatable,draggable:a.draggable,resizable:a.resizable,lockUniScaling:a.lockUniScaling,uniScalingUnlockable:a.uniScalingUnlockable,price:a.price,scaleX:a.scaleX,scaleY:a.scaleY,hasUploadZone:!0,autoCenter:!0}),delete a[""],delete b._addToUZ}if(a.topped&&(a.zChangeable=!1),FPDUtil.elementIsEditable(a)&&(a.isEditable=a.evented=a.selectable=!0),(!a.uploadZone||f.options.editorMode)&&(a.draggable&&(a.lockMovementX=a.lockMovementY=!1),a.rotatable&&(a.lockRotation=!1,a.hasRotatingPoint=!0),a.resizable&&(a.lockScalingX=a.lockScalingY=!1),(a.resizable||a.rotatable||a.removable)&&(a.hasControls=!0)),a.uploadZone&&(f.options.editorMode||(a.uploadZoneMovable&&(a.lockMovementX=a.lockMovementY=!1),a.uploadZoneRemovable&&(a.removable=!0,a.copyable=!1,a.hasControls=!0)),a.lockRotation=!0,a.hasRotatingPoint=!1),a.replace&&""!=a.replace){var o=f.getElementByReplace(a.replace);null!==o&&o!==b&&(a.z=f.getZIndex(o),a.left=b.originParams.left=o.left,a.top=b.originParams.top=o.top,a.autoCenter=!1,f.options.applyFillWhenReplacing&&(a.fill=o.fill),f.removeElement(o))}if("string"==typeof a.text){var r=a.text;f.options.disableTextEmojis&&(r=r.replace(FPDEmojisRegex,""),r=r.replace(String.fromCharCode(65039),"")),0!=b.maxLength&&r.length>b.maxLength&&(r=r.substr(0,b.maxLength),b.selectionStart=b.maxLength),0!=b.maxLines&&("textbox"==b.type&&b.__lineHeights?r=A(b,r):r.split("\n").length>b.maxLines&&(r=r.replace(/([\s\S]*)\n/,"$1"),b.exitEditing())),b.set("text",r),a.text=r,b.chargeAfterEditing&&(b._isPriced||(f.changePrice(b.price,"+"),b._isPriced=!0),b.originParams.text===r&&b._isPriced&&(f.changePrice(b.price,"-"),b._isPriced=!1))}if("text"===d){if("1.6.7"!==fabric.version&&a.hasOwnProperty("textDecoration")&&(a.underline="underline"===a.textDecoration),void 0!==a.letterSpacing&&(a.charSpacing=100*a.letterSpacing),a.fontSize&&a.fontSize<b.minFontSize?a.fontSize=b.minFontSize:a.fontSize&&a.fontSize>b.maxFontSize&&(a.fontSize=b.maxFontSize),a.text&&("uppercase"===b.textTransform?r=r.toUpperCase():"lowercase"===b.textTransform&&(r=r.toLowerCase()),b.set("text",r),a.text=r),a.textTransform){var r=b.text;"uppercase"===a.textTransform?r=r.toUpperCase():"lowercase"===a.textTransform&&(r=r.toLowerCase()),b.set("text",r),a.text=r}(a.shadowColor||a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)&&!b.shadow&&b.setShadow({color:"rgba(0,0,0,0)"}),a.shadowColor&&(b.shadow.color=a.shadowColor),a.shadowBlur&&(b.shadow.blur=a.shadowBlur),a.shadowOffsetX&&(b.shadow.offsetX=a.shadowOffsetX),a.shadowOffsetY&&(b.shadow.offsetY=a.shadowOffsetY)}if(delete a.paths,b.setOptions(a),"i-text"==b.type&&b.widthFontSize&&b.text.length>0){var s;s=b.width>b.widthFontSize?b.fontSize*(b.widthFontSize/(b.width+1)):b.fontSize*(b.widthFontSize/(b.width-1)),s<b.minFontSize?s=b.minFontSize:s>b.maxFontSize&&(s=b.maxFontSize),s=parseInt(s),a.fontSize=s,b.set("fontSize",s)}if(a.autoCenter&&f.centerElement(!0,!0,b),void 0!==a.fill||void 0!==a.svgFill){var u=void 0!==a.svgFill?a.svgFill:a.fill;f.changeColor(b,u),b.pattern=void 0}if(void 0!==a.pattern&&(w(b,a.pattern),v(b,a.pattern)),a.filter){b.filters=[];var y=FPDUtil.getFilter(a.filter);null!=y&&b.filters.push(y),"undefined"!=typeof b.applyFilters&&b.applyFilters()}(b.boundingBox&&"clipping"===a.boundingBoxMode||a.hasUploadZone)&&x(b),b.canvas&&a.z>=0&&(b.moveTo(a.z),q()),b.curved&&(a.curveRadius&&b.set("radius",a.curveRadius),a.curveSpacing&&b.set("spacing",a.curveSpacing),void 0!==a.curveReverse&&b.set("reverse",a.curveReverse)),b.uploadZone?b.evented=0!==b.opacity:b.isEditable&&!f.options.editorMode&&(b.evented=!a.locked);for(var z=f.stage.getObjects(),B=0;B<z.length;++B){var C=z[B];C.uploadZone&&C.title==a.replace&&(C.opacity=0,C.evented=!1)}b.setCoords(),f.stage.renderAll().calcOffset(),e.trigger("elementModify",[b,a]),t(b),a.autoSelect&&b.isEditable&&!f.options.editorMode&&$(f.stage.getElement()).is(":visible")&&setTimeout(function(){f.stage.setActiveObject(b),f.stage.renderAll()},350)},this.getBoundingBoxCoords=function(a){if(a.boundingBox||a.uploadZone){if("object"==typeof a.boundingBox)return a.boundingBox.x&&a.boundingBox.y&&a.boundingBox.width&&a.boundingBox.height?{left:a.boundingBox.x,top:a.boundingBox.y,width:a.boundingBox.width,height:a.boundingBox.height}:!1;for(var b=f.stage.getObjects(),c=0;c<b.length;++c){var d=b[c];if(a.boundingBox==d.title){var e=d.getPointByOrigin("left","top");return{left:e.x,top:e.y,width:d.width*d.scaleX,height:d.height*d.scaleY}}}}return!1},this.toDataURL=function(a,b,c,d,e){a=void 0===a?function(){}:a,b=void 0===b?"transparent":b,c=void 0===c?{}:c,c.onlyExportable=void 0===c.onlyExportable?!1:c.onlyExportable,c.multiplier=void 0===c.multiplier?1:c.multiplier,c.enableRetinaScaling=void 0===c.enableRetinaScaling?!1:c.enableRetinaScaling,d=void 0===d?!1:d,e=void 0===e?!0:e;var g=["_snap_lines_group","_ruler_hor","_ruler_ver"],h=[],i=f.options.highlightEditableObjects;f.options.highlightEditableObjects="transparent",f.stage.getObjects().forEach(function(a){(-1!==g.indexOf(a.id)||a.excludeFromExport&&c.onlyExportable)&&(a.visible=!1,h.push(a))}),e&&f.deselectElement();var j=fabric.devicePixelRatio;fabric.devicePixelRatio=1,f.stage.setDimensions({width:f.options.stageWidth,height:f.options.stageHeight}).setZoom(1),f.maskObject&&f.maskObject._originParams&&(f.maskObject.left=f.maskObject._originParams.left*c.multiplier,f.maskObject.top=f.maskObject._originParams.top*c.multiplier,f.maskObject.scaleX=f.maskObject._originParams.scaleX*c.multiplier,f.maskObject.scaleY=f.maskObject._originParams.scaleY*c.multiplier,f.maskObject.setCoords()),f.stage.setBackgroundColor(b,function(){d&&(f.stage.add(d),d.center(),d.bringToFront()),a(f.stage.toDataURL(c)),d&&f.stage.remove(d),$(f.stage.wrapperEl).is(":visible")&&f.resetCanvasSize(),f.stage.setBackgroundColor("transparent",function(){f.stage.renderAll()});for(var b=0;b<h.length;++b)h[b].visible=!0;fabric.devicePixelRatio=j,f.options.highlightEditableObjects=i})},this.toSVG=function(a,b,c,d){a=void 0===a?{}:a,c=void 0===c?!1:c,d=void 0===d?null:d;var e;if(f.deselectElement(),c&&FPDUtil.objectHasKeys(f.options.printingBox,["left","top","width","height"])){var g=0,h=0;FPDUtil.objectHasKeys(f.options.output,["bleed","width","height"])&&(g=f.options.output.bleed/f.options.output.width*f.options.printingBox.width,h=f.options.output.bleed/f.options.output.height*f.options.printingBox.height),a.viewBox={x:f.options.printingBox.left-g,y:f.options.printingBox.top-h,width:f.options.printingBox.width+2*g,height:f.options.printingBox.height+2*h},f.stage.setDimensions({width:f.options.printingBox.width,height:f.options.printingBox.height}).setZoom(1)}else f.stage.setDimensions({width:f.options.stageWidth,height:f.options.stageHeight}).setZoom(1);var i=f.stage.backgroundColor;"transparent"==i&&(f.stage.backgroundColor=!1),d&&(f.stage.add(d),d.center(),d.bringToFront()),e=f.stage.toSVG(a,b),d&&f.stage.remove(d),f.stage.backgroundColor=i,$(f.stage.wrapperEl).is(":visible")&&f.resetCanvasSize();var j=$(e);return e=$("<div>").append(j.clone()).html().replace(/(?:\r\n|\r|\n)/g,"")},this.reset=function(a){a=void 0===a?!0:a,f.undos=[],f.redos=[],f.elements=[],f.totalPrice=f.truePrice=0,f.stage.clear(),a&&f.stage.wrapperEl.remove(),e.trigger("clear"),e.trigger("priceChange",[0,0])},this.undo=function(){if(f.undos.length>0){var a=f.undos.pop();if("remove"===a.interaction)f.stage.add(a.element),a.interaction="add",e.trigger("elementAdd",[a.element]);else if("add"===a.interaction){var b=a.element.replace;f.stage.remove(a.element),a.interaction="remove",e.trigger("elementRemove",[a.element]),b&&f.undos.length&&f.undos[f.undos.length-1].element.replace==b&&(a=f.undos.pop(),
f.stage.add(a.element),e.trigger("elementAdd",[a.element]))}a.element._ignore||p(!1,{element:a.element,parameters:f.getElementJSON(a.element),interaction:a.interaction}),f.setElementParameters(a.parameters,a.element,!1),this.deselectElement(),z(a.element)}return f.undos},this.redo=function(){if(f.redos.length>0){var a=f.redos.pop();"remove"===a.interaction?(f.stage.add(a.element),a.interaction="add",e.trigger("elementAdd",[a.element])):"add"===a.interaction&&(f.stage.remove(a.element),a.interaction="remove",e.trigger("elementRemove",[a.element])),a.element._ignore||p({element:a.element,parameters:f.getElementJSON(a.element),interaction:a.interaction}),f.setElementParameters(a.parameters,a.element,!1),this.deselectElement(),z(a.element)}return f.redos},this.getJSON=function(){var a=l.getParameterKeys();return a=a.concat(f.propertiesToInclude),f.stage.toJSON(a)},this.resetCanvasSize=function(){f.responsiveScale=a.outerWidth()<f.options.stageWidth?a.outerWidth()/f.options.stageWidth:1,f.responsiveScale=parseFloat(Number(f.responsiveScale.toFixed(7))),f.responsiveScale=Math.min(f.responsiveScale,1),f.options.responsive||(f.responsiveScale=1),f.maskObject&&f.maskObject._originParams&&(f.maskObject.left=f.maskObject._originParams.left*f.responsiveScale,f.maskObject.top=f.maskObject._originParams.top*f.responsiveScale,f.maskObject.scaleX=f.maskObject._originParams.scaleX*f.responsiveScale,f.maskObject.scaleY=f.maskObject._originParams.scaleY*f.responsiveScale,f.maskObject.setCoords()),f.stage.setDimensions({width:a.width(),height:f.options.stageHeight*f.responsiveScale}).setZoom(f.responsiveScale).calcOffset().renderAll(),a.height(f.stage.height).parent(".fpd-main-wrapper").css("min-height",f.stage.height);var b=a.parents(".fpd-container:first");return b.length>0&&(b.height(b.hasClass("fpd-sidebar")?f.stage.height:"auto"),b.width(b.hasClass("fpd-topbar")?f.options.stageWidth:"auto")),f.responsiveScale},this.getElementByReplace=function(a){for(var b=f.stage.getObjects(),c=0;c<b.length;++c){var d=b[c];if(d.replace===a)return d}return null},this.getElementJSON=function(a,b){if(a=void 0===a?f.stage.getActiveObject():a,b=void 0===b?!1:b,!a)return{};var c=Object.keys(f.options.elementParameters),d=Object.keys("text"===FPDUtil.getType(a.type)?f.options.textParameters:f.options.imageParameters);c=$.merge(c,d),b&&(c=$.merge(c,f.propertiesToInclude)),a.uploadZone&&(c.push("customAdds"),c.push("designCategories"),c.push("designCategories[]")),"text"===FPDUtil.getType(a.type)&&c.push("text"),a.type===FPDPathGroupName&&c.push("svgFill"),c.push("width"),c.push("height"),c.push("isEditable"),c.push("hasUploadZone"),c.push("clippingRect"),c.push("evented"),c.push("isCustom"),c.push("currentColorPrice"),c.push("_isPriced"),c.push("originParams"),c.push("originSource"),c.push("depositphotos"),c=c.sort();var e=a.getPointByOrigin("left","top");if(b){var g=a.toJSON(c);return g.topLeftX=e.x,g.topLeftY=e.y,g}for(var g={},h=0;h<c.length;++h){var i=c[h];void 0!==a[i]&&(g[i]=a[i])}return g.topLeftX=e.x,g.topLeftY=e.y,g},this.centerElement=function(a,b,c){c="undefined"==typeof c?f.stage.getActiveObject():c,u(c,a,b,f.getBoundingBoxCoords(c)),c.autoCenter=!1},this.alignElement=function(a,b){b="undefined"==typeof b?f.stage.getActiveObject():b;var c=b.getPointByOrigin("left","top"),d=f.getBoundingBoxCoords(b),e="left",g="top";"left"===a?(c.x=d?d.left:0,c.x+=b.padding+1):"top"===a?(c.y=d?d.top:0,c.y+=b.padding+1):"right"===a?(c.x=d?d.left+d.width-b.padding:f.options.stageWidth-b.padding,c.x-="text"==FPDUtil.getType(b.type)?4:0,e="right"):(c.y=d?d.top+d.height-b.padding:f.options.stageHeight,c.y-="text"==FPDUtil.getType(b.type)?4:0,g="bottom"),b.setPositionByOrigin(c,e,g),f.stage.renderAll(),b.setCoords(),t(b)},this.getZIndex=function(a){a="undefined"==typeof a?f.stage.getActiveObject():a;var b=f.stage.getObjects();return b.indexOf(a)},this.changeColor=function(a,b,c){c="undefined"==typeof c?!0:c;var d=FPDUtil.elementIsColorizable(a);if("string"==typeof b&&4==b.length&&(b+=b.substr(1,b.length)),"text"===FPDUtil.getType(a.type))b=b===!1?"#000000":b,"object"==typeof b&&(b=b[0]),a.set("fill",b),f.stage.renderAll(),a.pattern=null,a.fill=b;else if(a.type==FPDPathGroupName&&"object"==typeof b){for(var g=0;g<b.length;++g)a.getObjects()[g].set("fill",b[g]);f.stage.renderAll(),a.svgFill=b,delete a.fill}else"object"==typeof b&&(b=b[0]),"string"!=typeof b&&(b=!1),"png"==d||"dataurl"==d?(a.filters=[],"undefined"!=typeof fabric.Image.filters.BlendColor?setTimeout(function(){b&&a.filters.push(new fabric.Image.filters.BlendColor({mode:"tint",color:b})),a.applyFilters(),f.stage.renderAll(),e.trigger("elementColorChange",[a,b,c])},1):(b&&a.filters.push(new fabric.Image.filters.Tint({color:b})),a.applyFilters(function(){f.stage.renderAll(),e.trigger("elementColorChange",[a,b,c])})),a.fill=b):"svg"==d&&(a.set("fill",b),f.stage.renderAll(),e.trigger("elementColorChange",[a,b,c]));v(a,b),e.trigger("elementColorChange",[a,b,c])},this.getIndex=function(){return a.children(".fpd-view-stage").index(f.stage.wrapperEl)},this.getUploadZone=function(a){for(var b=f.stage.getObjects(),c=0;c<b.length;++c)if(b[c].uploadZone&&b[c].title==a)return b[c]},this.changePrice=function(a,b){return"+"===b?f.totalPrice+=a:f.totalPrice-=a,f.truePrice=f.totalPrice,"number"==typeof f.options.maxPrice&&-1!==f.options.maxPrice&&f.truePrice>f.options.maxPrice&&(f.truePrice=f.options.maxPrice),f.truePrice%1!=0&&(f.truePrice=Number(f.truePrice.toFixed(2))),e.trigger("priceChange",[a,f.truePrice]),f.truePrice},this.setMask=function(a,b){if(b="undefined"!=typeof b?b:function(){},a&&a.url&&-1!=$.inArray("svg",a.url.split("."))){f.mask=a;var c=Date.now().toString(),d=f.options._loadFromScript?f.options._loadFromScript:"",e=d+a.url;f.options.imageLoadTimestamp&&!f.options._loadFromScript&&(e+="?"+c),$.get(e).done(function(){fabric.loadSVGFromURL(e,function(c,d){var e=null;c&&(e=c?fabric.util.groupSVGElements(c,d):null,e.setOptions({left:a.left?Number(a.left):0,top:a.top?Number(a.top):0,scaleX:a.scaleX?Number(a.scaleX):1,scaleY:a.scaleY?Number(a.scaleY):1,selectable:!0,evented:!1,resizable:!0,lockUniScaling:!1,lockRotation:!0,borderColor:"transparent",fill:"rgba(0,0,0,0)",transparentCorners:!0,cornerColor:f.options.cornerColor?f.options.cornerColor:f.options.selectedColor,cornerIconColor:f.options.cornerIconColor,cornerSize:24,originX:"left",originY:"top",name:"view-mask",objectCaching:!1,excludeFromExport:!0,_ignore:!0,_originParams:{left:a.left?Number(a.left):0,top:a.top?Number(a.top):0,scaleX:a.scaleX?Number(a.scaleX):1,scaleY:a.scaleY?Number(a.scaleY):1}}),f.stage.clipTo=function(a){e.render(a)},f.stage.renderAll(),f.maskObject=e,f.resetCanvasSize()),b(e)})}).fail(b)}else f.stage.clipTo=f.maskObject=f.mask=null,f.stage.renderAll()},this.getOptions=function(){var a={};return"object"==typeof FancyProductDesignerView.relevantOptions&&FancyProductDesignerView.relevantOptions.forEach(function(b){a[b]=f.options[b]}),a},this.toggleLock=function(a){return a=void 0===a?!0:a,f.locked=a,e.trigger("priceChange",[0,f.truePrice]),a},this.loadElements=function(a,b){h&&f.reset(!1),f.elements=[],f.addElements(a,b)},this.addElements=function(a,b){function c(){if(g++,g<a.length){var h=a[g];d(h)||f.addElement(h.type,h.source,h.title,h.parameters)}else e.off("elementAdd",c),"undefined"!=typeof b&&b.call(b,f)}function d(b){if(void 0===b.type||void 0===b.source||void 0===b.title){var d=a.indexOf(b);if(-1!==d)return FPDUtil.log("Element index "+d+" from elements removed, its not a valid element object!","info"),c(),!0}else f.elements.push(b);return!1}var g=0,h=a[0];h?(e.on("elementAdd",c),d(h)||f.addElement(h.type,h.source,h.title,h.parameters)):"undefined"!=typeof b&&b.call(b,f)},this.renderElementBoundingBox=function(a){if(f.currentBoundingObject&&(f.stage.remove(f.currentBoundingObject),f.currentBoundingObject=null),a){var b=f.getBoundingBoxCoords(a);if(b){var c={left:b.left,top:b.top,width:b.width,height:b.height,stroke:f.options.boundingBoxColor,strokeWidth:1,strokeLineCap:"square",strokeDashArray:[5,5],fill:!1,selectable:!1,evented:!1,originX:"left",originY:"top",name:"bounding-box",excludeFromExport:!0,_ignore:!0};c=$.extend({},c,f.options.boundingBoxProps),f.currentBoundingObject=new fabric.Rect(c),f.stage.add(f.currentBoundingObject),f.currentBoundingObject.bringToFront(),e.trigger("boundingBoxToggle",[f.currentBoundingObject,!0])}else a.clipTo=null;t(a)}},this.renderPrintingBox=function(){if(f.printingBoxObject&&(f.stage.remove(f.printingBoxObject),f.printingBoxObject=null),FPDUtil.objectHasKeys(f.options.printingBox,["left","top","width","height"])){var a=new fabric.Rect({left:0,top:0,width:f.options.printingBox.width,height:f.options.printingBox.height,stroke:f.options.printingBox.visibility||f.options.editorMode?"#db2828":"transparent",strokeWidth:1.5,strokeLineCap:"square",fill:!1,selectable:!0,evented:!0,originX:"left",originY:"top",name:"printing-box",excludeFromExport:!0,_ignore:!0});f.printingBoxObject=new fabric.Group([a],{left:f.options.printingBox.left,top:f.options.printingBox.top,selectable:!0,evented:!1,resizable:!0,lockUniScaling:!0,lockRotation:!0,borderColor:"transparent",transparentCorners:!0,cornerColor:f.options.cornerColor?f.options.cornerColor:f.options.selectedColor,cornerIconColor:f.options.cornerIconColor,cornerSize:24,originX:"left",originY:"top",name:"printing-boxes",excludeFromExport:!0,_ignore:!0}),f.stage.add(f.printingBoxObject),f.printingBoxObject.setCoords(),f.stage.renderAll()}},this.setup=function(){this.loadElements(b.elements,n)},m()};FancyProductDesignerView.relevantOptions=["stageWidth","stageHeight","customAdds","customImageParameters","customTextParameters","maxPrice","optionalView","designCategories","printingBox","output","layouts"];var FPDFilters={none:{name:"None",preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABGhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNDlGNUFEOERDNDhFNDExOThFMDgyRUM1NERENjU5QTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+QzA2NTAzMzhGRDBGRjNDNTQ2NjQ5MTdERjU4RTZBOUY8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6NDJBOTU5NjZBQTVFMTFFNDg3MTc5QzUzNEZBREI5NjI8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NDJBOTU5NjVBQTVFMTFFNDg3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"},grayscale:{name:"Grayscale",preview:"data:image/png;base64,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"},sepia:{name:"Sepia",preview:"data:image/png;base64,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"},sepia2:{name:"Sepia Second",preview:"data:image/png;base64,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"
},cold:{name:"Cold",array:[1,0,0,0,0,0,1,0,0,0,-.2,.2,.1,.4,0,0,0,0,1,0],preview:"data:image/png;base64,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"},black_white:{name:"Black & White",array:[0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,1,0],preview:"data:image/png;base64,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"},old:{name:"Old",array:[1,0,0,0,0,-.4,1.3,-.4,.2,-.1,0,0,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"},milk:{name:"Milk",array:[0,1,0,0,0,0,1,0,0,0,0,.6,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"
},purple:{name:"Purple",array:[1,-.2,0,0,0,0,1,0,-.1,0,0,1.2,1,.1,0,0,0,1.7,1,0],preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAAAJcEhZcwAACxMAAAsTAQCanBgAABUnSURBVGgFbZrLj2TXWcC/e+tWdVV3T/f0THt63uNXbGODo9hOICR4ESmOgmBBhBcgsQPJWzassrAQO1YIWID4E7IhElEEkazIlvLOBMd2HHvsGc94uqffz3pX3cvvd6qqM5E49u177jnf+c73/r5zarI3vldVtVpEzmOreEr+DI8jjnYi3rkZce8WY2XEaBjRH0cM6Fc+wGY8DdY2G7x5Wk2eVsTcfER9jjffvgveBXAF/bRfwcKc/3lqIvGhn968bA7Z3MeWsXcFjA/dqAAop99FAvZjuioRJxRjbujGQ5kYwQDjPd4J84wL1jnkkpFwPEPmagzUeNsXNehSc9lswPEs/aHDXrOuIKk5QPNVuRCY1OjbHTNRYz+FrFwmkM64KVTJccZTMKt05XrAtI+LxjwS4JPzyEginrf9h5lxoOAZ+0gsa0fsU8CoViB9NtCc4jwdsDOVgOtkRriwz8sxm/QWSRPMSnjiejKXCHSsiUlkMDSCi8qNeTQ9GXAT12eO0Z+p2XfSkBvzYJFJOwpALaVJYGyJMPtTGpKAnHBMQhMAb/eeEp5gGXqY3kKpSEiyPdc9hEDT0u6z+kTSqnIkLMTIgPadNhAH/RyGZTr5G2POJXziFZ7nVJPA16aP+6c53i4TJjEifvs0+U/jfCcG0sB0AgbZ9qHGgPOnjQ8dVGdtoJkFmGqCfJ6nDkKdVFNqI/IOHQWW1k83nyETToZ8S7w4FZLfMu1bDgrmZsTOTOqUFjvApDbdKO3lH3FWU5NRIqcTAIpbpA1YfXwFHESh5eWIxUWYQUMN5tSA0un3Iw5OIraIdDs9vqe4ZvgSLj7cgz0nb/t8JOYgUEZPHxf8P+3UlERCS2AKH9xFQIR6mW2aDJoPGSwhrL4d8ZggrCogtsFcw3B6BkLQUk5f07gAwhvg2m9H3CFsPzgiOKAlQ7Oqmu79G0YYnjHy8JzEpe9EJR829tQvTxUCvtSmC/WdxAgwkWE2lZHlAIlC/GC9jP6nw6h2SqQG1lEHv0DcS4tRnUUt3TyyBdahpXyJB2HU0VoTBtXcylbE7Y20LIXJEhTuk9q0k2iVKB6FkXzFbyfSZIJOASMFCdbNphMKI4odBovo0kfy3e1xtD8ZRn+9FqO9TbjZh6sutpxDZJbMrEJNZb4Q2dxjZLozk71gXgHkmF+ycwRy5lzE0zC0AqMfr4Mb/iu0ZYAYs3HOY1+TqBCAkU26fTS/U/XRtTF92lSC2jkNvc7wXXTe68XJh9vRWz+MaoitoJJsdB97zaJWIOIBnlw1ImsuMz+A6HqMT/bAVDDfgikQIYjwLTMyxW4uvXSDPARDH90FDQKTRtvD72QdDCQnn0xP/jL2MAO//cFc4og3QMm0Nr/zHaRzNmr1izCxFWV/I/JyCGKVSMvrAJYsGMNcLS0cdXGWqhfV6lMwyI6AVvKmqWmiGrNUkEzPXo54irG7n0yCAt3UEgPTvi/Bkw8wobZOuXVy2tSEbVYeneYVxvPxyTpqgrDur6Nqf0D2OkC9EI3BlsM2+ExnPMNOFI2FpNYKykvsc3ikhpiWgpQBeftt30dZYDpnLkRcvobS0JrESM9UTPQmTdptU1onH7MBgZ1wrXht0zH3R+5sU3aiNthHClBT9mCgwIRgrEaMRd/jPuGrsYS5KMs8ag2cvY8Z1hss7ce4N5eyNUqdICdapSTI8iRZoyKaWYYZi84dNQfVv2VKD1MvgarrobGZJiQ+8QMzMqRZlTLCu8j4OxrgFxI+RhNKFxPCvSeLpMZBVpVRJ6HNIewqMpjVZ8YHVeSXgdZpZ74C8gp0p04rcZjd8hV8BVQWnqJMDKsKzUmieJLJCU8z0p2qTiYQRD6dA0Wq2WRoWjQCrW4MHTKjL/CfIsvSDrLO6toSrxGmBOHCRiPG7e2oNedx+PmJ3bqRRIkGxpIEZUhwCC+I2kvnMUkjpRQrH6fTn0nfqJbQT7dlOkZEvTGazhkzpojSCmNAB9tJ1XmhJnIcWjQ5Yh2XmNKoDyFAqn/K1nFnkzmcfgSmM9cZAwa4fOEi0shjBDajFJEZ7DzKgXfSCn2/k2LZZh6YNubWheChcGxjySJf8mMzznj20DV74PZsJIz4RJ9MiflWB8aAJfUxX29OJD9Fk0F8pTZkgpnKSIXGRt1Po754Kcou+QWtVTJOqi973RhvNqL2eG6UTptJSAoCfkOARCnl1EdTC2T/k3sEDPyqfjZPkkXBKeKlGkwZyhkkYL2T/vQb1DEEZwl8Ca45mFmF4aLEwBLNAOSYUK7/yxRa0YRyGcMrSqJWFWjAgwUBoqhbo2BeffzrqIp671xkmE2KVhAapCT7GZvIoCJXNMaMOYgb/+w9YshqLL9wMbpI+uiQyRb7L+fRAXCB6qBmIp2ZK+tnYVe8YxmDkRIN49o6+5hUoeWxekwUSt6jkiEe0ktNDYZq9UW0sodWzgDWR8rDKBYuw1iP8bkY7sH0OTSJyKxoNS2ZSbFeJhgv70LwrVHsv9dlt/Mxt7BC3sLcMEu1dXSrFx/tnMR72M5LX1iLczDYkmCbqtDDJY0xXyNItprus7b2jdU/eV1vS6Zk6AEk0+Fx7ByKMADGGowyhr3oU7XGCtaFx+LZWY3cMkCc1SLSn1NZVDZsc0yoAJ2ZX42X6xSUP2B4EwtYqkf98nLUzqJ9iWIL0MRgoR5vvfNJ/Pj7/xwn2/V45onHYo7QrVmC4jfNDznh0fd8ihHelGmQOHxWK5AmxFihwYwsmNE1+JLza8XZd3T4cdSbK0SrS4RtdD9Xx282Yrx7BxU/GbXlVpQHx2jsMOr3L0T9Cpxghce41lCfuESeEqUM8NBNuSAQQBMtXuck91bnThzv/JyjwleS9AFJGpHg1FwkI3wrCKNZ0TsxIpHoatRT9RZSxPkLIxSRix11aoN+xe1DpX8AW413cK4sitYaJ6oHYGoSuTaI+3UkszoJAP29qLY/iXh3MfKnno/qUXYk/NoMt6mMUWOidwypGZmevXElzhACS/OUxDIusTYLSoULWNJC6jgPXNHfJxfAQNFCt0SngnI9xyYwMFayxB0sVwsyOWFXhko8cDj4hMVHlO54uGdhxDUa7Ea2jyAaZ4Eto739bpRnfpfcgaAASckMorRgaRP1Mc8JW3khMcd2rcuteOnJr8VhnypDzekXU0ZUxMRM7NCcY62aLeqPPh+dOz+PgjhXcPwz9NYgOrEPhox4WOHYvsdopEz3QkQXjXfQAS/BgkxXa15gEzJ9fydKtDMcHBOJjqL12J/GmAhkhGHPJESjzDaE78LcAPkhx9TYJsnsxl/+eew9aMc6axYZmwO+CbzCEIl1XmoinDFy+ZW/jb23vxcHP/s2yWeXrIl2FlxlmUIzWOu1Q0zNdeYVZgzbQyJWrU846LUjJ6LlXIKpjdGwFwd7d0l6q7F08ZpYUtQy/q8jxUPd5jJbGBhIdp0N3iCXwSbmt3qlFa3VVhwTxvvItAEDTTTXIL7M65YaCjiT6aktIl9Rov6VZ78Yi89+KfZufjeObn47Bm0YalEo1sn66LzKiVZoR3+p1DVIK0K1wWGIfUwYbJAjOJ/AcH9wFDvH96N56aWorxbJRA6R7AZO34SBJbWDYx9TQLZhJpUroLXAUGa7W9BmLqLf5e1xuSJE11H6PowUrFsBXkGrRQko0iHphNL9kcux+vVXYx7HfPBf/xbtE6JTdyWZVI6X5XU0pO+giTLVEGjFgxZiKbwXhaFR5wBDq+LwcDt2ENMTa8+mq9JdNju8Mrm4YKvYp+zwilW3HCDNHprQWmSuQcfsbiC1sFRTPdZX1iF8m1AHq2iRKLgCk+yc1hb1L3w5Bh98GsO773PNORfN33861ta+GZvf+o/orv+Q0MZJkPFsaAlfx6Hxk3RGAasyoSYzMam1MdoY9IexARvHMY953IgBhLRvkKkhensd/5Ro4AmKQdqIebTU3Z4QrA9Q8SRTSvmFtUpdZ69hckR1ki8CoL/IaXQf+BbaWQQoz9tZzF19LBqP/wEmQA4hmtaunovLf/N3sfLya3Dbil4cUqxpMl1YGDJG7ZV6nPGhqNvpoMGTOOp3YxvYB9SkfX1tfiXaSxCMBA82J8RbcitCJX0MYRbeZ8gv6b4LU5qF3JnPADa5fwYunbqBkdkDhMIxKQZXIzZhBCN35oRIS8bmAqtEQl5Aj7HJtT9+JeYwj43v/lOcHL+LYAqCwXzkSLq3cztphuzCO4e2GuQPYxddbHOjcSEnknkptgYDEMEZLMV7bTpFdKaUuhcTLZx/iX29JDe/6DO4nxF/UhW4Bo5mvmSUc24HoS+hmfoNGTk+imoOR36O0AtAZd2PAxZsbFm+8sWr0bj+97H74zdj8+3/ibvnz8byn6GtWz+Jrf/8BzSjqdXRWi/20dtetOOI/iXKmLxZi1ycSPUMhBqVuhBlBCewnTYrXN1Mn9CMEqO8jVZ+9wwurEk3lOJjTKY1u32qI0N0MdjhxuRzTybJZTvMYK9e1UOLV1niibmVVlz++ivx9txC3Dy4E2fu3o4XP/+HsfDgr+LOj/4F0BxTymCgj2F1+aukno0ckzH5WZ54hLHfUspoW40PlTSwZvchhBkASpghWEYHR1aTKaVBhE5uZrcpCItNY45+JWxRUYZHhxVjrnkAKnEkE06KsmyQbY3J9rX4yb1fx48+/XF0MMz+g/fiFxj1Z7/6F3F9+Vq8/d//iF/cgqExOrFGa8Ti0tUokZ4RSAnPJCgRjnlus+ayoFRY+ogX5l7urd+JeIRQa0g6QAiO+2uAGpU2T6GGaQnW5JIZjvwx472PIrvwe1FysSZij5DmwQqNZIhoa30n3rrzZrTJ7BUXFCOC++H27fglGf25L385/uj6M3Hr+9+KjzfejPWTWzDT5j5rlUAAEcjIKHMCLmsile3RtcQvkinJCI/EGAjaSLe9xTUSZo0VxxhhHDJWZ96LcwUh4+YcmfA3HO+PixJjzS48mTKsh5QgEpSbALkRK8oPe/HTez+ILW5a0gDxc0z5MejNR3fvdtz5eC5GV1bjmW+8Fl/ceC12Th7Er371ZpxZuhIEsxixbPkyxGDLXia02NjaM0UnhQqjytLolcbQ1uJ1xtHGEVEtETvVKsupqRhzPbRZi6WbfL6L7PxncHLOFPeRdp/zQZPQenuHa9Q8JbxjvOkDjrlDxGVpInM5hwyvJsbUWocHnzBeRW/+XDwOwovnL8baV19NZrC9RwC4Xcb5G/OxSgg23CpJ84FJLmVymUGy3nkZsbz4riNQg8IJYVaHt3xPGpialipRs5pmyuya6nDjl1xUc8hZejyq+9z7bvG9ciXGa+ejurUTtw5/GHtco45Nu5TXNWzAS+16dg3TOaRA3OVnhU50l67jE/gFvysse2/8yCWi3yDW767H9Z1nwiL5BAb2MRsJ9rdJLyL8SUKTkbB0hYbGvMjk2iwJI0MzKR1AtM3IpQmqwYd/AePMjggo/oa7/4sNN2OILZRdKt31DbSyGffb92NMbKzVODBx6Kql88oCzruDTihXSIgZmlFD98Deq1+NZ7pnY8m6ZP/T6NY24oObq/H8y6upJDnGxDj6IOKJRCXMbK8zW1CjnNMAAEpr1dPAYIkiPyxNjOpXmqlSKLImZkWFNqaC9cak5LJutLkNQJf+Hj9H78W4OE/ZjvgwTustrzuygm9KV02uCaNDfK2Nf/TrR3GUPRo3Ntfj4vGH/Eydxfu/fjvmWy/Gk59fjhWiUQeJNwi/Om4Pxzca+TuLv1cOGUtXRsCoJb+9yJodjTRtw7bf5tsm6/w1rai4US/J7CU/SY0QS4XU5XvEHXBFIM+5//V6tIpzPNx7oesRXpuhiRpYi3wZppZgfBfJdin6urHHz7hH87Xo4CMr7SruZPtx8+2cSvlz8eQLyymL7xP19RlQJv/wJ3BLD8Oy1e7+lFiZsbD0lzJNz1sZHdyI5xrPfHXW5MVXXuSHm0e4hNvhUESWr51DEk3sj3yA1Fe4QMoGaAzCK5gduBpT1NMqbh/9TU5tmNDGiLhHXhp01qNXbMWdS09gWmtRP+7FBhHup7/4Udx8c4tjApLEjCiovbhJ0U0GUo6BsQ4MmQxTbgFGZiwWhdf2DA5UQ5jTRAjiKhqPcjRd/VKUbyzH8J2fRXVyD+0AgTeOke4K0q+T4ttcXGcNTAyn7+Nl6VSYea7Gn8o2PsQYlxYZ1PhfDiUUzPHLee5ftqo4an+EX42j826XsuK5+OwLj8f5C3ns7yFxKNVkUvJUA8jJ/KAJeYo2/3QRFNaYmhWCJmdps7g8iYC1V19+/XXroeKpC1Fce5pFjRhwshke7SL9bozITpsclPa54/VQ5bndqJVRV1TsUOLgo9EB6zx4cV5xF68NwTNGAH3uh9rD/Whv/ioduIbYxN7Jdty/fxKj40asXVicFH4QrPzmWJqSMkyYL/QbKwO1Q0mY/mmIIXkeY+CSNDZ3xvHTd7iq+td/ryqzZkr7uIeJZriOPd5aj/59KqcHW3Fv+/14g/NGxwsGDh8ZYTjjB8Mxv6elm0Z2qXFGrSFG62CZZGu0ByyB3nzT3fkwOts3o7HyaMxRvtRa+BY4VpYuxfUbvxPXHl2NR1ZXYmUZ++F/q2I1omZSEcnYHH1/AetiZnsUt1to88HuiBMne37zr6vKAOTBhZMqG7CYb6OIzCGkJJkjsvQx9mzZodP1KElPCPjdbicGZLEBJyg39uA1xI/0F4/D+l2f++Jhbz/6h/ejf7zBL8JXuLE8i0CaCI4rJEJYa36NOuszsXZ+NS5d52e7S0gdWpKQYSCFWsxLpjQ1kyRXaukf8chgcXQPYqeABqyUbVEve4TfMiZTJrDzwvHOUGuWbhnp+HMDSNMz3cCyQp0YF3wb66EhfaSClHH30ZSM5jptosFvhJfG0YABwDqM/ydvYFNdNh1zXKdPjp/SPYjTTkg8XfUaNYjjSiFtCGOJQTY37M2YTSmFb4lIfTeWEMbEaxjVibV5zSWV4fQTcYmK6TzTtgRnR+5hXhDH0tv1029eE2thwjHpLMysqVhzgRunVa5gXCibKuVbfj0DJHilzmYi8V8UGV0k2jXSccoYOCeUTDY3kfk922e2nWNpjdPTQWHtJniQij8NCDudc0jBFB5YJCgtgMjEDEAiTT4CZNIC32bYhNQxHiNJkpiLp48vTUPGE0FO2Z++03o/aElDvKefaWz2AepZdzLO34TT8Sk+YRKNfP8f++Cp7zlZpnQAAAAASUVORK5CYII="},yellow:{name:"Yellow",array:[1,0,0,0,0,-.2,1,.3,.1,0,-.1,0,1,0,0,0,0,0,1,0],preview:"data:image/png;base64,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"},vintage:{name:"Vintage",array:[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],preview:"data:image/png;base64,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"},kodachrome:{name:"Kodachrome",array:[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],preview:"data:image/png;base64,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"
},technicolor:{name:"Technicolor",array:[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],preview:"data:image/png;base64,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"},monochrome:{name:"Monochrome",array:[.95,0,0,0,.05,.85,0,0,0,.15,.5,0,0,0,.5,0,0,0,1,0],preview:"data:image/png;base64,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"}},FPDToolbar=function(a,b){var c=this,d=$("body"),e=a.children(".fpd-sub-panel"),f=a.find(".fpd-color-wrapper"),g=a.find(".fpd-tool-font-family"),h=!1;this.isTransforming=!1,this.placement=b.mainOptions.toolbarPlacement;var i=function(){a.data("instance",c),c.setPlacement(c.placement),d.on("mousedown touchstart",function(a){$(a.target).parents(".fpd-range-slider").length>0&&($(a.target).parents(".fpd-range-slider").prev("input").change(),c.isTransforming=!0)}).on("mouseup touchend",function(){c.isTransforming=!1});for(var i=Object.keys(b.mainOptions.maxValues),j=0;j<i.length;++j){var k=i[j];a.find('[data-control="'+k+'"]').attr("max",b.mainOptions.maxValues[k])}if(a.find(".fpd-row > div").click(function(){var d=$(this);if(a.find(".fpd-row > div").not(d).removeClass("fpd-active"),d.data("panel")){d.tooltipster("hide"),d.toggleClass("fpd-active"),e.toggle(d.hasClass("fpd-active")).children().removeClass("fpd-active").filter(".fpd-panel-"+d.data("panel")).addClass("fpd-active");var g=b.currentElement;if("fill"==d.data("panel")){if(FPDUtil.elementHasColorSelection(g)){var i;if(i=g.colorLinkGroup?b.colorLinkGroups[g.colorLinkGroup].colors:g.colors,f.children("input").spectrum("destroy"),f.empty().removeClass("fpd-colorpicker-group"),g.type==FPDPathGroupName&&(g.getObjects().length>1||1==i)){for(var j=g.getObjects(),k=0;k<j.length;++k){var l=j[k],n=tinycolor(l.fill);f.append('<input type="text" value="'+n.toHexString()+'" />')}f.addClass("fpd-colorpicker-group").children("input").spectrum("destroy").spectrum({showPaletteOnly:$.isArray(g.colors),preferredFormat:"hex",showInput:!0,showInitial:!0,showButtons:!1,showPalette:b.mainOptions.colorPickerPalette&&b.mainOptions.colorPickerPalette.length>0,palette:$.isArray(g.colors)?g.colors:b.mainOptions.colorPickerPalette,show:function(a){var c=FPDUtil.changePathColor(b.currentElement,f.children("input").index(this),a);FPDUtil.spectrumColorNames($(this).spectrum("container"),b),g._tempFill=c},move:function(a){var c=FPDUtil.changePathColor(g,f.children("input").index(this),a);b.currentViewInstance.setElementParameters({fill:c},g)},change:function(a){var c=FPDUtil.changePathColor(g,f.children("input").index(this),a);$(document).unbind("click.spectrum"),b.currentViewInstance.setElementParameters({fill:c},g)}})}else if(i.length>1||g.type==FPDPathGroupName&&1===g.getObjects().length){f.html('<div class="fpd-color-palette fpd-grid"></div>');for(var k=0;k<i.length;++k){var n=i[k],o=b.mainOptions.hexNames[n.replace("#","").toLowerCase()];o=o?o:n,f.children(".fpd-grid").append('<div class="fpd-item fpd-tooltip" title="'+o+'" style="background-color: '+n+';"></div>').children(".fpd-item:last").click(function(){var c=tinycolor($(this).css("backgroundColor"));a.find(".fpd-current-fill").css("background",c.toHexString());var d=c.toHexString();b.currentElement.type==FPDPathGroupName&&(d=FPDUtil.changePathColor(g,0,c)),b.currentViewInstance.setElementParameters({fill:d})})}FPDUtil.updateTooltip()}else f.html('<input type="text" value="'+(g.fill?g.fill:i[0])+'" />'),f.children("input").spectrum({flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:b.mainOptions.colorPickerPalette&&b.mainOptions.colorPickerPalette.length>0,palette:b.mainOptions.colorPickerPalette,show:function(a){FPDUtil.spectrumColorNames($(this).spectrum("container").next(".sp-container"),b),g._tempFill=a.toHexString()},move:function(a){(h===!1||"png"!==FPDUtil.elementIsColorizable(g))&&m(a.toHexString())},change:function(a){$(document).unbind("click.spectrum"),b.currentViewInstance.setElementParameters({fill:a.toHexString()},g)}}).on("dragstart.spectrum",function(){h=!0}).on("dragstop.spectrum",function(a,b){h=!1,m(b.toHexString())})}if((FPDUtil.isSVG(g)||"text"===FPDUtil.getType(g.type))&&g.patterns&&g.patterns.length){e.find(".fpd-patterns > .fpd-grid").empty();for(var k=0;k<g.patterns.length;++k){var p=g.patterns[k];e.find(".fpd-patterns > .fpd-grid").append('<div class="fpd-item" data-pattern="'+p+'"><picture style="background-image: url('+p+');"></picture></div>').children(":last").click(function(){var c=$(this).data("pattern");a.find(".fpd-current-fill").css("background","url("+c+")"),b.currentViewInstance.setElementParameters({pattern:c})})}}}else if("stroke"==d.data("panel")){var q=b.currentElement.stroke?b.currentElement.stroke:"#000";e.find(".fpd-stroke-color-picker input").spectrum("destroy").spectrum({color:q,flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:b.mainOptions.colorPickerPalette&&b.mainOptions.colorPickerPalette.length>0,palette:b.mainOptions.colorPickerPalette,move:function(a){c.isTransforming=!0,b.currentViewInstance.setElementParameters({stroke:a.toHexString()})},change:function(a){b.currentViewInstance.setElementParameters({stroke:a.toHexString()})}})}e.css({top:d.parent(".fpd-row").position().top+d.position().top+d.outerHeight(!0),left:d.parent().position().left-5}),c.updatePosition(b.currentElement)}else e.hide()}),e.find(".fpd-slider-range").rangeslider({polyfill:!1,rangeClass:"fpd-range-slider",disabledClass:"fpd-range-slider--disabled",horizontalClass:"fpd-range-slider--horizontal",verticalClass:"fpd-range-slider--vertical",fillClass:"fpd-range-slider__fill",handleClass:"fpd-range-slider__handle",onSlide:function(a,d){c.isTransforming&&(this.$element.parent().prev(".fpd-slider-number").val(d).change(),"scaleX"===this.$element.data("control")&&b.currentElement&&b.currentElement.lockUniScaling&&e.find('.fpd-slider-number[data-control="scaleY"]').val(d).change())},onSlideEnd:function(){c.isTransforming=!1,c.updatePosition(b.currentElement)}}),e.find(".fpd-panel-position .fpd-icon-button-group > span").click(function(){var a=$(this);a.hasClass("fpd-align-left")?b.currentViewInstance.alignElement("left"):a.hasClass("fpd-align-top")?b.currentViewInstance.alignElement("top"):a.hasClass("fpd-align-right")?b.currentViewInstance.alignElement("right"):a.hasClass("fpd-align-bottom")?b.currentViewInstance.alignElement("bottom"):a.hasClass("fpd-align-center-h")?b.currentViewInstance.centerElement(!0,!1):a.hasClass("fpd-align-center-v")?b.currentViewInstance.centerElement(!1,!0):a.hasClass("fpd-flip-h")?b.currentViewInstance.setElementParameters({flipX:!b.currentElement.get("flipX")}):a.hasClass("fpd-flip-v")&&b.currentViewInstance.setElementParameters({flipY:!b.currentElement.get("flipY")}),c.updatePosition(b.currentElement)}),a.find(".fpd-tool-move-up, .fpd-tool-move-down").click(function(){var a=b.currentViewInstance.getZIndex();a=$(this).hasClass("fpd-tool-move-up")?a+1:a-1,a=0>a?0:a,b.currentViewInstance.setElementParameters({z:a})}),a.find(".fpd-tool-reset").click(function(){$(document).unbind("click.spectrum"),a.find(".tooltipstered").tooltipster("destroy"),b.currentElement.boundingBox&&(b.currentElement.scaleX=1),b.currentViewInstance.setElementParameters(b.currentElement.originParams),b.currentViewInstance.deselectElement(),FPDUtil.updateTooltip()}),b.mainOptions.fonts&&b.mainOptions.fonts.length>0){"object"==typeof b.mainOptions.fonts[0]?b.mainOptions.fonts.sort(function(a,b){var c=a.name.toUpperCase(),d=b.name.toUpperCase();return d>c?-1:c>d?1:0}):b.mainOptions.fonts.sort();for(var j=0;j<b.mainOptions.fonts.length;++j){var l=b.mainOptions.fonts[j],o=l;"object"==typeof l&&(o=l.name),g.children(".fpd-dropdown-list").append('<span class="fpd-item" data-value="'+o+'">'+o+"</span>").children(":last").css("font-family",o)}}else g.hide();var p=null;e.find(".fpd-panel-edit-text textarea").keyup(function(a){a.stopPropagation,a.preventDefault();var c=this.selectionStart,d=this.selectionEnd;b.currentViewInstance.currentElement.isEditing=!0,b.currentViewInstance.setElementParameters({text:this.value}),this.selectionStart=c,this.selectionEnd=d}).focus(function(){p=b.currentViewInstance.currentElement,p.isEditing=!0}).focusout(function(){p.isEditing=!1,p=null}),e.find(".fpd-panel-tabs > span").click(function(){var a=$(this);a.addClass("fpd-active").siblings().removeClass("fpd-active"),a.parent().nextAll(".fpd-panel-tabs-content").children('[data-id="'+this.id+'"]').addClass("fpd-active").siblings().removeClass("fpd-active"),f.children("input").spectrum("hide")}),a.find(".fpd-number").change(function(){var d=$(this),e={};this.value>Number(d.attr("max"))&&(this.value=Number(d.attr("max"))),this.value<Number(d.attr("min"))&&(this.value=Number(d.attr("min")));var f=Number(this.value);d.hasClass("fpd-slider-number")&&(d.next(".fpd-range-wrapper").children("input").val(this.value).rangeslider("update",!0,!1),"scaleX"===d.data("control")&&b.currentElement&&b.currentElement.lockUniScaling&&a.find('[data-control="scaleY"]').val(f).change()),e[d.data("control")]=f,b.currentViewInstance&&b.currentViewInstance.setElementParameters(e,b.currentViewInstance.currentElement,!c.isTransforming)}),a.find(".fpd-toggle").click(function(){var a=$(this).toggleClass("fpd-enabled"),c={};a.hasClass("fpd-curved-text-switcher")||(c[a.data("control")]=a.data(a.hasClass("fpd-enabled")?"enabled":"disabled"),a.hasClass("fpd-tool-uniscaling-locker")&&n(a.hasClass("fpd-enabled")),b.currentViewInstance.setElementParameters(c))}),a.find(".fpd-dropdown .fpd-item").click(function(a){a.stopPropagation();{var c=$(this),d=c.parent().prevAll(".fpd-dropdown-current:first"),e=c.data("value"),f={};d.is("input")?d.val(e):d.html(c.clone()).data("value",e)}f[d.data("control")]=e,"fontFamily"===d.data("control")&&d.css("font-family",e),b.currentViewInstance.setElementParameters(f),c.siblings(".fpd-item").show()}),a.find(".fpd-dropdown.fpd-search > input").keyup(function(){var a=$(this).css("font-family","Helvetica").nextAll(".fpd-dropdown-list:first").children(".fpd-item").hide();0===this.value.length?a.show():a.filter(':containsCaseInsensitive("'+this.value+'")').show()}),a.find(".fpd-tool-advanced-editing").click(function(){if(b.currentViewInstance&&b.currentViewInstance.currentElement&&b.currentViewInstance.currentElement.source){var a=b.currentViewInstance.currentElement.source,c=FPDUtil.showModal($(b.translatedUI).children(".fpd-image-editor-container").clone(),!0),d=new FPDImageEditor(c.find(".fpd-image-editor-container"),b.currentViewInstance.currentElement,b);d.loadImage(a)}})},j=function(b,c){c=void 0===c?!0:c;var d=a.find(".fpd-tool-"+b).toggle(c);return c&&d.parent(".fpd-row").show(),d},k=function(a,b,c){return c=Boolean(c),e.children(".fpd-panel-"+a).children(".fpd-tool-"+b).toggle(c)},l=function(a,b,c){e.children(".fpd-panel-"+a).find(".fpd-panel-tabs #"+b).toggleClass("fpd-disabled",!c)},m=function(c){a.find(".fpd-current-fill").css("background",c),b.currentViewInstance.changeColor(b.currentViewInstance.currentElement,c)},n=function(a){e.find(".fpd-tool-uniscaling-locker > span").removeClass().addClass(a?"fpd-icon-locked":"fpd-icon-unlocked"),e.find(".fpd-tool-scaleY").toggleClass("fpd-disabled",a)};this.update=function(b){this.hideTools(),j("reset");var d=b.source,f=["png","jpg","jpeg"];if(d){d=d.split("?")[0];var g=d.split("."),h=g.pop().toLowerCase()}b.advancedEditing&&d&&(-1!==$.inArray(h,f)||-1!==h.search(/data:image\/(jpeg|png);/))&&j("advanced-editing"),FPDUtil.elementHasColorSelection(b)&&(j("fill"),l("fill","color",!0)),(b.resizable&&"image"===FPDUtil.getType(b.type)||b.rotatable)&&(j("transform"),k("transform","scale",b.resizable&&"image"===FPDUtil.getType(b.type)),n(b.lockUniScaling),k("transform","uniscaling-locker",b.resizable&&b.uniScalingUnlockable),k("transform","angle",b.rotatable)),b.draggable&&j("position"),b.zChangeable&&j("move"),(FPDUtil.isSVG(b)||"text"===FPDUtil.getType(b.type))&&b.patterns&&b.patterns.length&&(j("fill"),l("fill","pattern",!0)),"text"===FPDUtil.getType(b.type)&&b.editable&&(j("font-family"),j("text-size",b.resizable),j("text-line-height"),j("text-letter-spacing"),j("text-bold"),j("text-italic"),j("text-underline"),j("text-transform"),j("text-align"),j("text-stroke"),b.curvable&&j("curved-text"),e.find(".fpd-panel-edit-text textarea").val(b.get("text")),j("edit-text",!b.textPlaceholder&&!b.numberPlaceholder)),e.find(".fpd-panel-tabs").each(function(a,b){var c=$(b);c.toggle(c.children(":not(.fpd-disabled)").length>1),c.children(":not(.fpd-disabled):first").addClass("fpd-active").click()}),a.find("[data-control]").each(function(a,c){var d=$(c),e=d.data("control");if(d.hasClass("fpd-number")){if(void 0!==b[e]){var f=d.attr("step")&&d.attr("step").length>1?parseFloat(b[e]).toFixed(2):parseInt(b[e]);d.val(f),d.prev(".fpd-range-wrapper")&&d.prev(".fpd-range-wrapper").children("input").val(f).rangeslider("update",!0,!1)}}else if(d.hasClass("fpd-toggle"))d.toggleClass("fpd-enabled",b[e]===d.data("enabled"));else if(d.hasClass("fpd-current-fill")){var g=b[e];"string"==typeof g?d.css("background",g):"object"==typeof g?g.source?(g=g.source.src,d.css("background","url("+g+")")):(g=g[0],d.css("background",g)):b.colors===!0&&b.type===FPDPathGroupName?(g=tinycolor(b.getObjects()[0].fill),d.css("background",g)):g===!1&&b.colors&&b.colors[0]&&(g=b.colors[0],d.css("background",g))}else if(d.hasClass("fpd-dropdown-current")&&void 0!==b[e]){var h=d.nextAll(".fpd-dropdown-list:first").children('[data-value="'+b[e]+'"]').html();d.is("input")?d.val(h):d.html(h).data("value"),"fontFamily"===e&&d.css("font-family",h)}}),c.updatePosition(b)},this.hideTools=function(){a.children(".fpd-row").hide().children("div").hide().removeClass("fpd-active"),e.hide().children().removeClass("fpd-active").find(".fpd-panel-tabs > span").addClass("fpd-disabled")},this.updatePosition=function(d,e){if(e="undefined"==typeof e?!0:e,!d)return void this.toggle(!1);var f=d.oCoords,g=f.mb.y,h=b.$productStage.offset(),i=b.$mainWrapper.offset();if("inside-bottom"==c.placement||"inside-top"==c.placement){var j=b.$container.parents(".fpd-modal-wrapper").length>0?b.$container.parents(".fpd-modal-wrapper").scrollTop():document.body.scrollTop;g="inside-top"==c.placement?b.$container.parents(".fpd-modal-wrapper").length>0?j?Math.abs(i.top):0:j>i.top?j-i.top:0:b.$container.parents(".fpd-modal-wrapper").length>0?j?Math.abs(i.top):0:j>i.top?j-i.top:0,a.css({top:g})}else{a.width(320);var k=Math.max.apply(null,$(a.children(".fpd-row")).map(function(){return $(this).outerWidth(!0)}).get());a.width(k+2);var l=d.getBoundingRect(),m=b.mainOptions.modalMode?parseInt(b.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper").css("padding-top")):h.top,n=l.top+l.height,o=d.padding+d.cornerSize+m;g=n+o,g=g>b.$productStage.height()+m?b.$productStage.height()+m+5:g;var p=b.mainOptions.modalMode?b.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper")[0].scrollHeight:document.body.scrollHeight;

g=g+a.height()>p?m+l.top-(a.height()+d.padding+d.cornerSize):g;var q=h.left+f.mb.x,r=.5*a.outerWidth();q=r>q?r:q,q=q>$(window).width()-r?$(window).width()-r:q,a.css({left:q,top:g})}a.toggleClass("fpd-show",e)},this.updateUIValue=function(b,c){var d=a.find('[data-control="'+b+'"]');d.val(c),d.filter(".fpd-slider-range").rangeslider("update",!0,!1)},this.toggle=function(b,c){c=void 0===c?!0:c,!b&&c&&f.spectrum("destroy"),a.toggleClass("fpd-show",b)},this.setPlacement=function(d){c.placement=d,a.removeClass(function(a,b){return(b.match(/(^|\s)fpd-toolbar-placement-\S+/g)||[]).join(" ")}),a.addClass("fpd-toolbar-placement-"+d),a.appendTo("inside-bottom"==c.placement||"inside-top"==c.placement?b.$mainWrapper:b.$container.parents(".fpd-modal-product-designer").length>0?b.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper"):b.mainOptions.toolbarDynamicContext)},i()},FPDToolbarSmart=function(a,b){"use strict";$=jQuery;var c=this,d=$("body"),e=a.children(".fpd-sub-panel"),f=a.find(".fpd-color-wrapper"),g=!1;this.isTransforming=!1,this.placement=b.mainOptions.toolbarPlacement;var h=function(){a.data("instance",c).addClass("fpd-theme-"+b.mainOptions.toolbarTheme),c.setPlacement(b.mainOptions.toolbarPlacement),a.length>0&&a.get(0).addEventListener("touchmove",function(a){"text"!==a.target.dataset.control&&a.preventDefault()},!1),a.children(".fpd-scroll-area").mCustomScrollbar({axis:"x",scrollInertia:200,mouseWheel:{enable:!0},advanced:{autoExpandHorizontalScroll:!0}}),d.on("mousedown touchstart",function(a){$(a.target).parents(".fpd-range-slider").length>0&&(c.isTransforming=!0)}).on("mouseup touchend",function(){c.isTransforming=!1}),a.on("click",".fpd-close-panel",function(){a.find(".fpd-panel-font-family input").val("").keyup(),f.children("input").spectrum("hide"),e.hide(),b.currentElement&&"function"===b.currentElement.exitEditing&&b.currentElement.exitEditing(),b.$container.trigger("toolbarPanelClose")});for(var h=Object.keys(b.mainOptions.maxValues),i=0;i<h.length;++i){var j=h[i];a.find('[data-control="'+j+'"]').attr("max",b.mainOptions.maxValues[j])}a.find('[class^="fpd-tool-"]').click(function(){var d=$(this);if(d.data("panel")){d.tooltipster("hide"),e.show().children().removeClass("fpd-active").filter(".fpd-panel-"+d.data("panel")).addClass("fpd-active"),e.find(".fpd-slider-range").rangeslider("update",!1,!1);var h=b.currentElement;if("color"==d.data("panel")){if(FPDUtil.elementHasColorSelection(h)){var i;if(i=h.__editorMode?["#000"]:h.colorLinkGroup?b.colorLinkGroups[h.colorLinkGroup].colors:h.colors,f.children("input").spectrum("destroy"),f.empty().removeClass("fpd-colorpicker-group"),h.type==FPDPathGroupName&&(h.getObjects().length>1||1==i||h.__editorMode)){for(var j=h.getObjects(),k=0;k<j.length;++k){var m=j[k],n=tinycolor(m.fill);f.append('<input type="text" value="'+n.toHexString()+'" />')}f.addClass("fpd-colorpicker-group").children("input").spectrum("destroy").spectrum({showPaletteOnly:$.isArray(h.colors)&&!h.__editorMode,preferredFormat:"hex",showInput:!0,showInitial:!0,showButtons:!1,showPalette:b.mainOptions.colorPickerPalette&&b.mainOptions.colorPickerPalette.length>0,palette:$.isArray(h.colors)?h.colors:b.mainOptions.colorPickerPalette,containerClassName:"fpd-theme-"+b.mainOptions.toolbarTheme,show:function(a){var c=FPDUtil.changePathColor(b.currentElement,f.children("input").index(this),a);FPDUtil.spectrumColorNames($(this).spectrum("container"),b),h._tempFill=c},move:function(a){var c=FPDUtil.changePathColor(h,f.children("input").index(this),a);b.currentViewInstance.setElementParameters({fill:c},h)},change:function(a){var c=FPDUtil.changePathColor(h,f.children("input").index(this),a);$(document).unbind("click.spectrum"),b.currentViewInstance.setElementParameters({fill:c},h)}})}else if(i.length>1||h.type==FPDPathGroupName&&1===h.getObjects().length){f.html('<div class="fpd-scroll-area"><div class="fpd-color-palette fpd-grid"></div></div>');for(var k=0;k<i.length;++k){var n=i[k],o=b.mainOptions.hexNames[n.replace("#","").toLowerCase()];o=o?o:n,f.find(".fpd-grid").append('<div class="fpd-item fpd-tooltip" title="'+o+'" style="background-color: '+n+';"></div>').children(".fpd-item:last").click(function(){var c=tinycolor($(this).css("backgroundColor"));a.find(".fpd-tool-color").css("background",c.toHexString());var d=c.toHexString();b.currentElement.type==FPDPathGroupName&&(d=FPDUtil.changePathColor(h,0,c)),b.currentViewInstance.setElementParameters({fill:d})})}FPDUtil.updateTooltip(),f.children(".fpd-scroll-area").mCustomScrollbar({scrollInertia:200,documentTouchScroll:!1,contentTouchScroll:!0,mouseWheel:{enable:!0,preventDefault:!0}})}else f.html('<input type="text" value="'+(h.fill?h.fill:i[0])+'" />'),f.children("input").spectrum({flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:b.mainOptions.colorPickerPalette&&b.mainOptions.colorPickerPalette.length>0,palette:b.mainOptions.colorPickerPalette,containerClassName:"fpd-theme-"+b.mainOptions.toolbarTheme,allowEmpty:Boolean(h.__editorMode),show:function(a){FPDUtil.spectrumColorNames($(this).spectrum("container").next(".sp-container"),b),h._tempFill=a.toHexString()},move:function(a){(g===!1||"png"!==FPDUtil.elementIsColorizable(h))&&l(a?a.toHexString():"")},change:function(a){$(document).unbind("click.spectrum"),b.currentViewInstance.setElementParameters({fill:a?a.toHexString():!1},h)}}).on("dragstart.spectrum",function(){g=!0}).on("dragstop.spectrum",function(a,b){g=!1,l(b.toHexString())})}if((FPDUtil.isSVG(h)||"text"===FPDUtil.getType(h.type))&&h.patterns&&h.patterns.length){e.find(".fpd-tool-patterns .fpd-grid").empty();for(var k=0;k<h.patterns.length;++k){var p=h.patterns[k],q=$("<div/>",{"class":"fpd-item","data-pattern":p,html:'<picture style="background-image: url('+p+');"></picture>'}).appendTo(e.find(".fpd-tool-patterns .fpd-grid"));q.click(function(){var c=$(this).data("pattern");a.find(".fpd-tool-color").css("background","url("+c+")"),b.currentViewInstance.setElementParameters({pattern:c})})}e.find(".fpd-tool-patterns .fpd-scroll-area").mCustomScrollbar({scrollInertia:200,documentTouchScroll:!1,contentTouchScroll:!0,mouseWheel:{enable:!0,preventDefault:!0}})}e.find(".fpd-stroke-color-picker input").spectrum("destroy").spectrum({color:h.stroke?h.stroke:"#000",flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,palette:h.strokeColors,showPaletteOnly:h.strokeColors&&h.strokeColors.length>0,containerClassName:"fpd-theme-"+b.mainOptions.toolbarTheme,move:function(a){c.isTransforming=!0,b.currentViewInstance.setElementParameters({stroke:a.toHexString()})},change:function(a){b.currentViewInstance.setElementParameters({stroke:a.toHexString()})}}),e.find(".fpd-shadow-color-picker input").spectrum("destroy").spectrum({color:h.stroke?h.stroke:"#000",flat:!0,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:b.mainOptions.colorPickerPalette&&b.mainOptions.colorPickerPalette.length>0,palette:b.mainOptions.colorPickerPalette,containerClassName:"fpd-theme-"+b.mainOptions.toolbarTheme,move:function(a){c.isTransforming=!0,b.currentViewInstance.setElementParameters({shadowColor:a.toHexString()})},change:function(a){b.currentViewInstance.setElementParameters({shadowColor:a.toHexString()})}})}a.find(".fpd-panel-font-family .fpd-fonts-list").mCustomScrollbar({axis:"y",scrollInertia:200,documentTouchScroll:!1,contentTouchScroll:!0,mouseWheel:{enable:!0,preventDefault:!0},advanced:{autoExpandHorizontalScroll:!0}}),c.updatePosition(b.currentElement),b.$container.trigger("toolbarPanelOpen",[d.data("panel")])}}),e.find(".fpd-panel-tabs > span").click(function(){var a=$(this);a.addClass("fpd-active").siblings().removeClass("fpd-active"),a.parent().siblings(".fpd-panel-tabs-content").children('[data-id="'+this.dataset.tab+'"]').addClass("fpd-active").siblings().removeClass("fpd-active"),c.updatePosition(b.currentElement)});var k=!0;if(e.find(".fpd-slider-range").rangeslider({polyfill:!1,rangeClass:"fpd-range-slider",disabledClass:"fpd-range-slider--disabled",horizontalClass:"fpd-range-slider--horizontal",verticalClass:"fpd-range-slider--vertical",fillClass:"fpd-range-slider__fill",handleClass:"fpd-range-slider__handle",onSlide:function(a,c){if(b.currentViewInstance&&b.currentViewInstance.currentElement){if(!this.$element.is(":visible"))return;var d={},e=this.$element.data("control");if(d[e]=c,"scaleX"===e&&b.currentElement&&b.currentElement.lockUniScaling&&(d.scaleY=c),"scaleX"==e&&0==c||"scaleY"==e&&0==c)return;b.currentViewInstance.setElementParameters(d,b.currentViewInstance.currentElement,k),this.$element.parent().siblings(".fpd-slider-number").val(c),k=!1}},onSlideEnd:function(d,e){"scaleX"===this.$element.data("control")&&b.currentElement&&b.currentElement.lockUniScaling&&a.find('[data-control="scaleY"]').val(e).filter(".fpd-slider-range").rangeslider("update",!0,!1),c.isTransforming=!1,k=!0}}),a.on("click",".fpd-btn-options",function(a){a.preventDefault();var c=$(this),d=c.data("options"),e=Object.keys(d),f=b.currentElement?b.currentElement[this.dataset.control]:e[0],g=e.indexOf(f)==e.length-1?e[0]:e[e.indexOf(f)+1],h={};h[this.dataset.control]=g,c.children("span").removeClass().addClass(d[g]),b.currentViewInstance.setElementParameters(h)}),a.find(".fpd-toggle").click(function(){var a=$(this).toggleClass("fpd-enabled"),c={};a.hasClass("fpd-curved-text-switcher")||(c[a.data("control")]=a.data(a.hasClass("fpd-enabled")?"enabled":"disabled"),a.hasClass("fpd-tool-uniscaling-locker")&&m(a.hasClass("fpd-enabled")),b.currentViewInstance.setElementParameters(c))}),a.find(".fpd-number").change(function(){var c=$(this),d={};this.value>Number(c.attr("max"))&&(this.value=Number(c.attr("max"))),this.value<Number(c.attr("min"))&&(this.value=Number(c.attr("min")));var e=Number(this.value);c.hasClass("fpd-slider-number")&&(c.siblings(".fpd-range-wrapper").children("input").val(this.value).rangeslider("update",!0,!1),"scaleX"===c.data("control")&&b.currentElement&&b.currentElement.lockUniScaling&&a.find('[data-control="scaleY"]').val(e).change()),d[c.data("control")]=e,b.currentViewInstance&&$(document.activeElement).is(":not(textarea)")&&b.currentViewInstance.setElementParameters(d,b.currentViewInstance.currentElement)}),b.mainOptions.fonts&&b.mainOptions.fonts.length>0){for(var n=e.find(".fpd-fonts-list"),i=0;i<b.mainOptions.fonts.length;++i){var o=b.mainOptions.fonts[i],p=o;"object"==typeof o&&(p=o.name),$("<span/>",{"class":"fpd-item","data-value":p,html:p,css:{fontFamily:p}}).appendTo(n)}a.on("keyup",".fpd-panel-font-family input",function(){var a=$(this).css("font-family","Helvetica").nextAll(".fpd-fonts-list").find(".fpd-item").hide();0===this.value.length?a.show():a.filter(':containsCaseInsensitive("'+this.value+'")').show()}).on("click",".fpd-fonts-list .fpd-item",function(){var c=this.dataset.value;a.find(".fpd-tool-font-family .fpd-current-val").text(c).css("fontFamily",c),b.currentViewInstance.setElementParameters({fontFamily:c})})}a.on("click",".fpd-tool-edit-text",function(){var a=e.find(".fpd-panel-edit-text textarea").val();e.find(".fpd-panel-edit-text textarea").focus().val("").val(a)}),a.find('textarea[data-control="text"]').on("keyup",function(a){a.stopPropagation,a.preventDefault();var c=this.selectionStart,d=this.selectionEnd;b.currentViewInstance.setElementParameters({text:this.value}),this.selectionStart=c,this.selectionEnd=d}),a.find(".fpd-tool-advanced-editing").click(function(){if(b.currentViewInstance&&b.currentViewInstance.currentElement&&b.currentViewInstance.currentElement.source){var a=b.currentViewInstance.currentElement.source,c=FPDUtil.showModal($(b.translatedUI).children(".fpd-image-editor-container").clone(),!0),d=new FPDImageEditor(c.find(".fpd-image-editor-container"),b.currentViewInstance.currentElement,b);d.loadImage(a)}}),e.on("click",".fpd-panel-position.fpd-icon-button-group > span",function(){var a=$(this);a.hasClass("fpd-align-left")?b.currentViewInstance.alignElement("left"):a.hasClass("fpd-align-top")?b.currentViewInstance.alignElement("top"):a.hasClass("fpd-align-right")?b.currentViewInstance.alignElement("right"):a.hasClass("fpd-align-bottom")?b.currentViewInstance.alignElement("bottom"):a.hasClass("fpd-align-center-h")?b.currentViewInstance.centerElement(!0,!1):a.hasClass("fpd-align-center-v")?b.currentViewInstance.centerElement(!1,!0):a.hasClass("fpd-flip-h")?b.currentViewInstance.setElementParameters({flipX:!b.currentElement.get("flipX")}):a.hasClass("fpd-flip-v")&&b.currentViewInstance.setElementParameters({flipY:!b.currentElement.get("flipY")}),c.updatePosition(b.currentElement)}),a.find(".fpd-tool-move-up, .fpd-tool-move-down").click(function(){var a=b.currentViewInstance.getZIndex();a=$(this).hasClass("fpd-tool-move-up")?a+1:a-1,a=0>a?0:a,b.currentViewInstance.setElementParameters({z:a})}),a.find(".fpd-tool-reset").click(function(){$(document).unbind("click.spectrum"),a.find(".tooltipstered").tooltipster("destroy"),b.currentElement.boundingBox&&(b.currentElement.scaleX=1),b.currentViewInstance.setElementParameters(b.currentElement.originParams),b.currentViewInstance.deselectElement(),FPDUtil.updateTooltip()}),b.$container.on("elementModify",function(b,c,d){d.fontSize&&a.find(".fpd-tool-text-size > .fpd-current-val").text(parseInt(d.fontSize))})},i=function(b,c){return c=void 0===c?!0:c,a.find(".fpd-tool-"+b).toggleClass("fpd-hidden",!c)},j=function(a,b,c){return c=Boolean(c),e.children(".fpd-panel-"+a).children(".fpd-tool-"+b).toggleClass("fpd-hidden",!c)},k=function(a,b,c){e.children(".fpd-panel-"+a).find('.fpd-panel-tabs [data-tab="'+b+'"]').toggleClass("fpd-disabled",!c)},l=function(c){a.find(".fpd-tool-color").css("background",c),b.currentViewInstance.changeColor(b.currentViewInstance.currentElement,c)},m=function(a){e.find(".fpd-tool-uniscaling-locker > span").removeClass().addClass(a?"fpd-icon-locked":"fpd-icon-unlocked"),e.find(".fpd-tool-scaleY").toggleClass("fpd-disabled",a)};this.update=function(d){this.hideTools(),a.removeClass("fpd-type-image"),i("reset");var g=d.source,h=["png","jpg","jpeg","svg"];if(g){g=g.split("?")[0];var l=g.split("."),n=l.pop().toLowerCase()}d.advancedEditing&&g&&(-1!==$.inArray(n,h)||-1!==n.search(/data:image\/(jpeg|png);/))&&i("advanced-editing"),FPDUtil.elementHasColorSelection(d)&&(i("color"),k("color","fill",!0),f.removeClass("fpd-hidden"));var o=d.resizable&&"image"===FPDUtil.getType(d.type)||d.uniScalingUnlockable||d.__editorMode;(o||d.rotatable||d.__editorMode)&&(i("transform"),j("transform","scale",o),m(d.lockUniScaling),j("transform","uniscaling-locker",d.uniScalingUnlockable||d.__editorMode),j("transform","angle",Boolean(d.rotatable||d.__editorMode)&&!d.uploadZone)),(d.draggable||d.__editorMode)&&i("position"),(d.zChangeable||d.__editorMode)&&i("layer-depth"),(FPDUtil.isSVG(d)||"text"===FPDUtil.getType(d.type))&&d.patterns&&d.patterns.length?(i("color"),k("color","fill",!0),i("patterns",!0)):i("patterns",!1),"text"===FPDUtil.getType(d.type)&&(d.editable||d.__editorMode)?(i("font-family"),i("text-size",Boolean(d.resizable||d.__editorMode)),i("text-line-height"),i("text-letter-spacing"),i("text-styles"),i("text-transform"),i("text-align"),k("color","stroke",!0),k("color","shadow",!0),d.curvable&&!d.textBox&&i("curved-text"),a.find('textarea[data-control="text"]').val(d.get("text")),"smart"==b.mainOptions.toolbarPlacement&&"top"==b.mainOptions.toolbarTextareaPosition?a.children(".fpd-panel-edit-text").toggleClass("fpd-hidden",d.textPlaceholder||d.numberPlaceholder):i("edit-text",!d.textPlaceholder&&!d.numberPlaceholder)):a.addClass("fpd-type-image"),a.find(".fpd-top-tools, .fpd-bottom-tools").children("div").removeClass("fpd-no-margin").filter(":visible:last").addClass("fpd-no-margin"),e.find(".fpd-panel-tabs").each(function(a,b){var c=$(b);c.toggle(c.children(":not(.fpd-disabled)").length>1),c.children(":not(.fpd-disabled):first").addClass("fpd-active").click()}),a.find("[data-control]").each(function(b,c){var e=$(c),f=e.data("control");if(e.hasClass("fpd-number")){if(void 0!==d[f]){var g=e.attr("step")&&e.attr("step").length>1?parseFloat(d[f]).toFixed(2):parseInt(d[f]);e.val(g),e.prev(".fpd-range-wrapper")&&("fontSize"==f?e.prev(".fpd-range-wrapper").children("input").attr("min",d.minFontSize).attr("max",d.maxFontSize):("scaleX"==f||"scaleY"==f)&&e.prev(".fpd-range-wrapper").children("input").attr("min",d.minScaleLimit),e.prev(".fpd-range-wrapper").children("input").val(g).rangeslider("update",!0,!1))}}else if(e.hasClass("fpd-toggle"))e.toggleClass("fpd-enabled",d[f]===e.data("enabled"));else if(e.hasClass("fpd-btn-options"))e.children("span").removeClass().addClass(e.data("options")[d[f]]);else if(e.hasClass("fpd-tool-color")){var h=d[f];"string"==typeof h?e.css("background",h):"object"==typeof h?h.source?(h=h.source.src,e.css("background","url("+h+")")):(h=h[0],e.css("background",h)):d.colors===!0&&d.type===FPDPathGroupName?(h=tinycolor(d.getObjects()[0].fill),e.css("background",h)):h===!1&&d.colors&&d.colors[0]&&(h=d.colors[0],e.css("background",h))}else"fontSize"==f?a.find(".fpd-tool-text-size > .fpd-current-val").text(parseInt(d[f])):"fontFamily"==f&&void 0!==d[f]&&a.find(".fpd-tool-font-family > .fpd-current-val").text(d[f]).css("font-family",d[f])}),a.children(".fpd-scroll-area").mCustomScrollbar("update"),c.updatePosition(d)},this.updateUIValue=function(b,c){var d=a.find('[data-control="'+b+'"]');d.val(c),d.filter(".fpd-slider-range").rangeslider("update",!0,!1)},this.hideTools=function(){a.find(".fpd-top-tools > div, .fpd-bottom-tools > div").addClass("fpd-hidden").removeClass("fpd-active"),e.hide().children().removeClass("fpd-active").find(".fpd-panel-tabs > span").addClass("fpd-disabled"),e.find(".fpd-panel-tabs-content, .fpd-panel-tabs").children().removeClass("fpd-active"),f.addClass("fpd-hidden"),a.children(".fpd-panel-edit-text").addClass("fpd-hidden")},this.updatePosition=function(c,d){if(d="undefined"==typeof d?!0:d,!c)return void this.toggle(!1);var e=c.oCoords,f=e.mb.y,g=b.$productStage.offset(),h=c.getBoundingRect(),i=b.mainOptions.modalMode?parseInt(b.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper").css("padding-top")):g.top,j=h.top+h.height,k=c.padding+c.cornerSize+i;f=j+k,f=f>b.$productStage.height()+i?b.$productStage.height()+i+5:f;var l=b.mainOptions.modalMode?b.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper")[0].scrollHeight:document.body.scrollHeight;f=f+a.children(".fpd-sub-panel").height()>l?i+h.top-(a.children(".fpd-sub-panel").height()+c.padding+c.cornerSize):f;var m=g.left+e.mb.x,n=.5*a.outerWidth();m=n>m?n:m,m=m>$(window).width()-n?$(window).width()-n:m,a.css({left:m,top:f}),this.toggle(d,!1)},this.toggle=function(b,c){c=void 0===c?!0:c,!b&&c&&f.spectrum("destroy"),b=0==a.find(".fpd-top-tools > div:visible, .fpd-bottom-tools > div:visible").length?!1:b,a.toggleClass("fpd-show",b)},this.setPlacement=function(d){c.placement=d,a.removeClass(function(a,b){return(b.match(/(^|\s)fpd-toolbar-placement-\S+/g)||[]).join(" ")}),a.addClass("fpd-toolbar-placement-"+d),-1!==["inside-bottom","inside-top"].indexOf(d)?(a.appendTo(b.$mainWrapper),a.children(".fpd-scroll-area").mCustomScrollbar("disable")):(a.appendTo(b.$container.parents(".fpd-modal-product-designer").length>0?b.$container.parents(".fpd-modal-product-designer:first > .fpd-modal-wrapper"):b.mainOptions.toolbarDynamicContext),a.children(".fpd-scroll-area").mCustomScrollbar("update"))},h()},FPDMainBar=function(a,b,c,d){"use strict";$=jQuery;var e,f=this,g=$("body"),h=b.children(".fpd-navigation");this.currentModules=a.mainOptions.mainBarModules,this.$selectedModule=null,this.$container=b,this.mainBarShowing=!0;var i=function(){if(d.toggleClass("fpd-hidden",a.$container.hasClass("fpd-main-bar-container-enabled")),e=a.$container.hasClass("fpd-topbar")&&!a.$container.hasClass("fpd-main-bar-container-enabled")&&0===a.$container.filter('[class*="fpd-off-canvas-"]').length?d.addClass("fpd-grid-columns-"+a.mainOptions.gridColumns).append('<div class="fpd-content"></div>').children(".fpd-content"):b.append('<div class="fpd-content"></div>').children(".fpd-content"),f.$content=e,a.$container.filter('[class*="fpd-off-canvas-"]').length>0){var c=0,i=0,j=0,k=b.children(".fpd-close-off-canvas");e.on("touchstart",function(b){c=b.originalEvent.touches[0].pageX,j=parseInt(k.css(a.$container.hasClass("fpd-off-canvas-left")?"left":"right"))}).on("touchmove",function(b){b.preventDefault();var d=b.originalEvent.touches[0].pageX;i=c-d,targetPos=a.$container.hasClass("fpd-off-canvas-left")?"left":"right",i=Math.abs(i)<0?0:Math.abs(i),e.css(targetPos,-i),k.css(targetPos,j-i)}).on("touchend",function(){var b=a.$container.hasClass("fpd-off-canvas-left")?"left":"right";Math.abs(i)>100?f.toggleDialog(!1):(e.css(b,0),k.css(b,j)),i=0})}b.on("click",".fpd-close-off-canvas",function(a){a.stopPropagation(),h.children("div").removeClass("fpd-active"),f.toggleDialog(!1)});var l=a.mainOptions.modalMode?$(".fpd-modal-product-designer"):g;l.append(d),d.draggable({handle:d.find(".fpd-dialog-head"),containment:l}),h.on("click","> div",function(b){b.stopPropagation();var c=$(this);a.deselectElement(),a.currentViewInstance&&(a.currentViewInstance.currentUploadZone=null),e.find(".fpd-manage-layers-panel").find(".fpd-current-color, .fpd-path-colorpicker").spectrum("destroy"),a.$container.hasClass("fpd-topbar")&&c.hasClass("fpd-active")?(c.removeClass("fpd-active"),f.toggleDialog(!1)):f.callModule(c.data("module"))}),d.on("mousewheel",function(a){a.preventDefault()}),e.on("click",".fpd-bottom-nav > div",function(){var a=$(this);a.addClass("fpd-active").siblings().removeClass("fpd-active");var b=a.parent().next().children('[data-module="'+a.data("module")+'"]').addClass("fpd-active");b.siblings().removeClass("fpd-active"),setTimeout(function(){FPDUtil.refreshLazyLoad(b.find(".fpd-grid"),!1)},10)}),g.on("click touchend",".fpd-close-dialog",function(){a.currentViewInstance&&a.currentViewInstance.currentUploadZone&&a.currentViewInstance.deselectElement(),f.toggleDialog(!1)}),a.$container.on("viewSelect",function(){f.$selectedModule&&(f.$selectedModule.filter('[data-module="manage-layers"]').length>0?FPDLayersModule.createList(a,f.$selectedModule):f.$selectedModule.filter('[data-module="text-layers"]').length>0?FPDTextLayersModule.createList(a,f.$selectedModule):"undefined"!=typeof FPDNamesNumbersModule&&f.$selectedModule.filter('[data-module="names-numbers"]').length>0&&FPDNamesNumbersModule.setup(a,f.$selectedModule)),a.$container.trigger("layersListUpdate")}),a.$container.on("fabricObject:added fabricObject:removed",function(b,c){a.productCreated&&!c._ignore&&(f.$selectedModule&&(f.$selectedModule.filter('[data-module="manage-layers"]').length>0?FPDLayersModule.createList(a,f.$selectedModule):f.$selectedModule.filter('[data-module="text-layers"]').length>0&&FPDTextLayersModule.createList(a,f.$selectedModule)),a.$container.trigger("layersListUpdate"))}),f.setup(f.currentModules)};this.callModule=function(c){var g=h.children("div").removeClass("fpd-active").filter('[data-module="'+c+'"]').addClass("fpd-active");f.$selectedModule=e.children("div").removeClass("fpd-active").filter('[data-module="'+c+'"]').addClass("fpd-active"),e.parent(".fpd-draggable-dialog").length>0&&((void 0===d.attr("style")||""===d.attr("style"))&&d.css("top",b.offset().top+b.height()),d.addClass("fpd-active").find(".fpd-dialog-title").text(g.find(".fpd-label").text())),"text"===c?f.$selectedModule.find("textarea").focus():"manage-layers"===c?a.productCreated&&FPDLayersModule.createList(a,f.$selectedModule):"text-layers"===c?a.productCreated&&FPDTextLayersModule.createList(a,f.$selectedModule):"undefined"!=typeof FPDNamesNumbersModule&&"names-numbers"===c&&a.productCreated&&FPDNamesNumbersModule.setup(a,f.$selectedModule),f.toggleDialog(!0),FPDUtil.refreshLazyLoad(f.$selectedModule.find(".fpd-grid"),!1)},this.callSecondary=function(b){f.callModule("secondary"),e.children(".fpd-secondary-module").children("."+b).addClass("fpd-active").siblings().removeClass("fpd-active");var c=null;"fpd-upload-zone-adds-panel"===b?e.find(".fpd-upload-zone-adds-panel .fpd-bottom-nav > :not(.fpd-hidden)").first().click():"fpd-saved-designs-panel"===b&&(c=a.getTranslation("actions","load")),e.parent(".fpd-draggable-dialog").length>0&&c&&d.addClass("fpd-active").find(".fpd-dialog-title").text(c),a.$container.trigger("secondaryModuleCalled",[b,e.children(".fpd-secondary-module").children(".fpd-active")])},this.setContentWrapper=function(c){d.removeClass("fpd-active"),"sidebar"===c?(0===h.children(".fpd-active").length&&h.children().first().addClass("fpd-active"),e.appendTo(b)):"draggable-dialog"===c&&(e.appendTo(d),h.removeClass("fpd-hidden")),f.currentModules.length<=1&&!a.$container.hasClass("fpd-topbar")?(selectedModule=f.currentModules[0]?f.currentModules[0]:"",h.addClass("fpd-hidden")):h.removeClass("fpd-hidden"),h.children().each(function(b,c){var d=$(c);d.filter(".tooltipstered").tooltipster("destroy"),a.$container.hasClass("fpd-sidebar")?d.addClass("fpd-tooltip").attr("title",d.children(".fpd-label").text()):d.removeClass("fpd-tooltip").removeAttr("title")}),FPDUtil.updateTooltip(h),h.children(".fpd-active").click()},this.toggleDialog=function(b){b="undefined"==typeof b?!0:b,a.$container.hasClass("fpd-topbar")&&0===a.$container.filter('[class*="fpd-off-canvas-"]').length&&(d.toggleClass("fpd-active",b),!b&&f.mainBarShowing),a.$container.filter('[class*="fpd-off-canvas-"]').length>0&&(f.$container.toggleClass("fpd-show",b).children(".fpd-close-off-canvas").removeAttr("style"),f.$content.removeAttr("style").height(a.$mainWrapper.height()),0===h.children("div").length?f.$content.css("top",0):f.$content.css("top",h.height()),!b&&f.mainBarShowing&&a.deselectElement()),b||h.children(".fpd-active").removeClass("fpd-active"),f.mainBarShowing=b},this.toggleUploadZonePanel=function(b){b="undefined"==typeof b?!0:b,a._loadingCustomImage||(b?f.callSecondary("fpd-upload-zone-adds-panel"):(a.currentViewInstance.currentUploadZone=null,a.$container.hasClass("fpd-sidebar")?f.callModule(a.mainBar.currentModules[0]):f.toggleDialog(!1)))},this.toggleUploadZoneAdds=function(b){var c=e.find(".fpd-upload-zone-adds-panel");c.find(".fpd-add-image").toggleClass("fpd-hidden",!Boolean(b.uploads)),c.find(".fpd-add-text").toggleClass("fpd-hidden",!Boolean(b.texts)),c.find(".fpd-add-design").toggleClass("fpd-hidden",!Boolean(b.designs)),c.find('[data-module="text"] .fpd-btn > .fpd-price').html(a.currentElement.price?" - "+a.formatPrice(a.currentElement.price):""),a.UZmoduleInstance_designs&&a.UZmoduleInstance_designs.toggleCategories(),c.find(".fpd-off-canvas-nav > :not(.fpd-hidden)").first().click()},this.setup=function(b){f.currentModules=b;var d=a.mainOptions.initialActiveModule;f.currentModules.length<=1&&!a.$container.hasClass("fpd-topbar")?(d=f.currentModules[0]?f.currentModules[0]:"",h.addClass("fpd-hidden")):h.removeClass("fpd-hidden"),h.empty(),e.empty(),b.forEach(function(b){var d,f=c.children('[data-module="'+b+'"]'),g=f.clone(),i=a.$container.hasClass("fpd-sidebar")?'class="fpd-tooltip"':"",j=a.$container.hasClass("fpd-sidebar")?'title="'+f.data("title")+'"':"";h.append('<div data-module="'+b+'" '+i+" "+j+'><span class="'+f.data("moduleicon")+'"></span><span class="fpd-label">'+f.data("title")+"</span></div>"),e.append(g),"products"===b?d=new FPDProductsModule(a,g):"text"===b?d=new FPDTextModule(a,g):"designs"===b?d=new FPDDesignsModule(a,g):"images"===b?d=new FPDImagesModule(a,g):"layouts"===b?d=new FPDLayoutsModule(a,g):"undefined"!=typeof FPDDrawingModule&&"drawing"===b?d=new FPDDrawingModule(a,g):"undefined"!=typeof FPDDynamicViews&&"dynamic-views"===b&&(d=new FPDDynamicViews(a,g)),d&&(a["moduleInstance_"+b]=d)}),0===e.children('[data-module="manage-layers"]').length&&e.append(c.children('[data-module="manage-layers"]').clone()),e.append(c.children('[data-module="secondary"]').clone());for(var g=["images","text","designs"],i=0;i<g.length;++i){var j,k=g[i],l=c.children('[data-module="'+k+'"]'),m=l.clone();e.find(".fpd-upload-zone-content").append(m),"text"===k?j=new FPDTextModule(a,m):"designs"===k?j=new FPDDesignsModule(a,m):"images"===k&&(j=new FPDImagesModule(a,m)),j&&(a["UZmoduleInstance_"+k]=j)}a.$container.hasClass("fpd-sidebar")&&""==d&&(d=h.children().first().data("module")),h.children('[data-module="'+d+'"]').click()},i()};FPDMainBar.availableModules=["products","images","text","designs","manage-layers","text-layers","layouts"];var FPDActions=function(a,b){"use strict";$=jQuery;var c,d=this;this.currentActions=a.mainOptions.actions;var e=function(){b&&(d.setup(d.currentActions),a.$container.on("click",".fpd-actions-wrapper .fpd-action-btn",function(){var a=$(this);a.hasClass("tooltipstered")&&a.tooltipster("hide"),d.doAction(a)})),a.$container.on("viewSelect",function(b,c){d.resetAllActions(),a.$mainWrapper.find('[data-action="previous-view"], [data-action="next-view"]').toggleClass("fpd-hidden",a.viewInstances.length<=1),a.$mainWrapper.find('[data-action="previous-view"]').toggleClass("fpd-disabled",0===c),a.$mainWrapper.find('[data-action="next-view"]').toggleClass("fpd-disabled",c===a.viewInstances.length-1)})},f=function(c){a.$container.find(".fpd-actions-container").append('<div class="fpd-actions-wrapper fpd-pos-'+c+'"></div>');for(var e=d.currentActions[c],f=0;f<e.length;++f){var g=e[f],h=b.children('[data-action="'+g+'"]');a.$container.find(".fpd-actions-wrapper.fpd-pos-"+c).append(h.clone())}},g=function(){return FPDUtil.localStorageAvailable()?JSON.parse(window.localStorage.getItem(a.$container.attr("id"))):!1};this.downloadFile=function(b,c){if(c=void 0===c?!1:c,"jpeg"===b||"png"===b){var d=document.createElement("a"),e="jpeg"===b?"#fff":"transparent";"undefined"!=typeof d.download?c?a.currentViewInstance.toDataURL(function(a){download(a,"Product."+b,"image/"+b)},e,{format:b},a.watermarkImg):a.getProductDataURL(function(a){download(a,"Product."+b,"image/"+b)},e,{format:b}):a.createImage(!0,!1,e,{format:b},c)}else if("svg"===b)download(a.currentViewInstance.toSVG({suppressPreamble:!1},null,!1,a.watermarkImg),"Product_"+a.currentViewIndex+".svg","image/svg+xml");else{var f=function(b){b="string"==typeof b?[b]:b;for(var c,d=0;d<b.length;++d){var e=a.viewInstances[d].options.stageWidth,f=a.viewInstances[d].options.stageHeight,g=e>f?"l":"p";0!=d?c.addPage([e,f],g):c=new jsPDF({orientation:g,unit:"px",format:[e,f]}),c.addImage(b[d],"PNG",0,0,c.internal.pageSize.getWidth(),c.internal.pageSize.getHeight())}c.save("Product.pdf")};c?a.currentViewInstance.toDataURL(f,"transparent",{format:"png"},a.watermarkImg):a.getViewsDataURL(f,"transparent",{format:"png"})}},this.setup=function(b){this.currentActions=b,a.$container.find(".fpd-actions-container").empty();for(var c=Object.keys(b),d=0;d<c.length;++d){var e=b[c[d]];"object"==typeof e&&e.length>0&&f(c[d])}},this.doAction=function(b){var e=b.data("action");if(a.deselectElement(),"print"===e)a.print();else if("reset-product"===e){var f=confirm(a.getTranslation("misc","reset_confirm"));f&&a.loadProduct(a.currentViews)}else if("undo"===e)a.currentViewInstance.undo();else if("redo"===e)a.currentViewInstance.redo();else if("info"===e)FPDUtil.showModal(b.children(".fpd-info-content").text(),!1,"",a.$modalContainer);else if("preview-lightbox"===e)a.getProductDataURL(function(a){var b=new Image;b.src=a,b.onload=function(){FPDUtil.showModal('<img src="'+this.src+'" download="product.png" />',!0)}});else if("save"===e){a.mainBar.toggleDialog(!1);var h=FPDUtil.showModal(a.getTranslation("actions","save_placeholder"),!1,"prompt",a.$modalContainer);h.find(".fpd-btn").text(a.getTranslation("actions","save")).click(function(){a.doUnsavedAlert=!1;var b=$(this).siblings("input:first").val();a.currentViewInstance.toDataURL(function(c){{var d=a.getProduct();FPDUtil.getScalingByDimesions(a.currentViewInstance.options.stageWidth,a.currentViewInstance.options.stageHeight,300,300,"cover")}if(d&&a.mainOptions.saveActionBrowserStorage){var e=g();e||(e=[]),e.push({thumbnail:c,product:d,title:b}),window.localStorage.setItem(a.$container.attr("id"),JSON.stringify(e)),
FPDUtil.showMessage(a.getTranslation("misc","product_saved"))}h.find(".fpd-modal-close").click(),a.$container.trigger("actionSave",[b,c,d])},"transparent",{multiplier:w,format:"png"})})}else if("load"===e){if(a.mainBar.$content.find(".fpd-saved-designs-panel .fpd-grid").empty(),a.mainOptions.saveActionBrowserStorage){var i=g();if(i&&i.length>0){for(var j=0;j<i.length;++j){var k=i[j];d.addSavedProduct(k.thumbnail,k.product,k.title)}FPDUtil.createScrollbar(a.mainBar.$content.find(".fpd-saved-designs-panel .fpd-scroll-area"))}else a.mainBar.$content.find(".fpd-saved-designs-panel .fpd-empty-saved-designs").toggleClass("fpd-hidden",!1)}a.$container.trigger("actionLoad"),a.mainBar.callSecondary("fpd-saved-designs-panel")}else if("manage-layers"===e)a.mainBar.callModule("manage-layers");else if("snap"===e)if(b.toggleClass("fpd-active"),a.currentViewInstance._snapElements=b.hasClass("fpd-active"),a.$mainWrapper.children(".fpd-snap-line-h, .fpd-snap-line-v").hide(),b.hasClass("fpd-active")){for(var l=[],m=a.mainOptions.snapGridSize[0]?a.mainOptions.snapGridSize[0]:50,n=a.mainOptions.snapGridSize[1]?a.mainOptions.snapGridSize[1]:50,o=Math.ceil(a.currentViewInstance.options.stageWidth/m),p=Math.ceil(a.currentViewInstance.options.stageHeight/n),j=0;o>j;++j){var q=new fabric.Rect({width:1,height:a.currentViewInstance.options.stageHeight,fill:"#ccc",opacity:.6,left:j*m,top:0});l.push(q)}for(var j=0;p>j;++j){var r=new fabric.Rect({width:a.currentViewInstance.options.stageWidth,height:1,fill:"#ccc",opacity:.6,top:j*n,left:0});l.push(r)}c=new fabric.Group(l,{id:"_snap_lines_group",left:0,top:0,evented:!1,selectable:!1,_ignore:!0}),a.currentViewInstance.stage.add(c)}else c&&a.currentViewInstance.stage.remove(c);else if("qr-code"===e){var s=FPDUtil.showModal(b.children(".fpd-modal-context").clone(),!1,"",a.$modalContainer),t=s.find(".fpd-qrcode-colors input").spectrum({preferredFormat:"hex",showInput:!0,showInitial:!0,showButtons:!1,replacerClassName:"fpd-spectrum-replacer"});s.find(".fpd-add-qr-code").click(function(){var b=s.find(".fpd-modal-context > input").val();if(b&&0!==b.length){{var c=s.find(".fpd-qrcode-wrapper").empty();new QRCode(c.get(0),{text:b,width:256,height:256,colorDark:t.filter(".fpd-qrcode-color-dark").spectrum("get").toHexString(),colorLight:t.filter(".fpd-qrcode-color-light").spectrum("get").toHexString(),correctLevel:QRCode.CorrectLevel.H})}c.find("img").on("load",function(){a.addElement("image",this.src,"QR-Code - "+b,a.currentViewInstance.options.qrCodeProps),s.find(".fpd-modal-close").click()})}}),s.on("modalRemove",function(){t.spectrum("destroy")})}else if("zoom"===e){if(b.hasClass("fpd-active"))a.currentViewInstance.dragStage=!1,a.$productStage.removeClass("fpd-drag"),a.$mainWrapper.children(".fpd-action-context").remove();else{var u=b.children(".fpd-action-context").clone();a.$mainWrapper.append(u);var v=a.currentViewInstance.stage.getZoom()/a.currentViewInstance.responsiveScale;u.find(".fpd-zoom-slider").attr("step",a.mainOptions.zoomStep).attr("max",a.mainOptions.maxZoom).val(v).rangeslider({polyfill:!1,rangeClass:"fpd-range-slider",disabledClass:"fpd-range-slider--disabled",horizontalClass:"fpd-range-slider--horizontal",verticalClass:"fpd-range-slider--vertical",fillClass:"fpd-range-slider__fill",handleClass:"fpd-range-slider__handle",onSlide:function(b,c){a.setZoom(c)}}),u.find(".fpd-stage-pan").click(function(){a.currentViewInstance.dragStage=!a.currentViewInstance.dragStage,a.$productStage.toggleClass("fpd-drag")})}b.toggleClass("fpd-active")}else if("download"===e){var s=FPDUtil.showModal(b.children(".fpd-modal-context").clone(),!1,"",a.$modalContainer);s.find(".fpd-modal-context span[data-value]").click(function(){var a=$(this);d.downloadFile(a.data("value"),a.siblings(".fpd-checkbox:first").children("input").is(":checked")),s.find(".fpd-modal-close").click()})}else if("magnify-glass"===e){if(a.resetZoom(),b.hasClass("fpd-active"))$(".fpd-zoom-image,.zoomContainer").remove(),a.$productStage.children(".fpd-view-stage").eq(a.currentViewIndex).removeClass("fpd-hidden");else{a.toggleSpinner();var w=Number(2e3/a.currentViewInstance.options.stageWidth).toFixed(2),x=a.currentViewInstance.stage.toDataURL({multiplier:w,format:"png"});a.$productStage.append('<img src="'+x+'" class="fpd-zoom-image" />').children(".fpd-zoom-image").elevateZoom({scrollZoom:!0,borderSize:1,zoomType:"lens",lensShape:"round",lensSize:200,responsive:!0,onZoomedImageLoaded:function(){$(".zoomContainer").appendTo(".fpd-modal-product-designer .fpd-main-wrapper"),a.toggleSpinner(!1)}}),a.$productStage.children(".fpd-view-stage").addClass("fpd-hidden")}b.toggleClass("fpd-active")}else if("ruler"===e){if(b.hasClass("fpd-active")){var y=a.currentViewInstance.getElementByID("_ruler_hor");y&&a.currentViewInstance.stage.remove(y);var z=a.currentViewInstance.getElementByID("_ruler_ver");z&&a.currentViewInstance.stage.remove(z)}else{var A={fill:"#979797",fontSize:10,fontFamily:"Arial"};fabric.util.loadImage(FPDActions.rulerHorImg,function(b){var c=new fabric.Group([],{left:0,top:0,originX:"left",originY:"top",evented:!1,selectable:!1,id:"_ruler_hor"}),d=new fabric.Rect({width:a.currentViewInstance.options.stageWidth,height:30});d.setPatternFill({source:b,repeat:"repeat-x"}),c.addWithUpdate(d);for(var e=Math.ceil(a.currentViewInstance.options.stageWidth/100),f=1;e>f;++f){var g=new fabric.Text(String(100*f),$.extend({},A,{top:3,left:100*f+3}));c.addWithUpdate(g)}a.currentViewInstance.stage.add(c).renderAll()}),fabric.util.loadImage(FPDActions.rulerVerImg,function(b){var c=new fabric.Group([],{left:0,top:0,originX:"left",originY:"top",evented:!1,selectable:!1,id:"_ruler_ver"}),d=new fabric.Rect({width:30,height:a.currentViewInstance.options.stageHeight});d.setPatternFill({source:b,repeat:"repeat-y"}),c.addWithUpdate(d);for(var e=Math.ceil(a.currentViewInstance.options.stageWidth/100),f=1;e>f;++f){var g=new fabric.Text(String(100*f),$.extend({},A,{top:100*f+3,left:12,angle:90,originY:"bottom"}));c.addWithUpdate(g)}a.currentViewInstance.stage.add(c).renderAll()})}b.toggleClass("fpd-active")}else if("previous-view"===e)a.selectView(a.currentViewIndex-1);else if("next-view"===e)a.selectView(a.currentViewIndex+1);else if("guided-tour"===e&&a.mainOptions.guidedTour&&Object.keys(a.mainOptions.guidedTour).length>0){var B=Object.keys(a.mainOptions.guidedTour)[0];a.selectGuidedTourStep(B)}},this.resetAllActions=function(){$(".fpd-zoom-image,.zoomContainer").remove(),a.$productStage.children(".fpd-view-stage").eq(a.currentViewIndex).removeClass("fpd-hidden"),a.$mainWrapper.find(".fpd-action-btn").removeClass("fpd-active")},this.hideAllTooltips=function(){a.$mainWrapper.find(".fpd-action-btn.tooltipstered").tooltipster("hide")},this.addSavedProduct=function(b,c,d){d=d?d:"";var e=a.mainBar.$content.find(".fpd-saved-designs-panel .fpd-grid"),f=""!==d?'title="'+d+'"':"";return e.append('<div class="fpd-item fpd-tooltip" '+f+'><picture style="background-image: url('+b+')" ></picture><div class="fpd-remove-design"><span class="fpd-icon-remove"></span></div></div>').children(".fpd-item:last").click(function(){a.loadProduct($(this).data("product")),a.currentProductIndex=-1}).data("product",c).children(".fpd-remove-design").click(function(b){b.stopPropagation();var c=$(this).parent(".fpd-item"),d=c.parent(".fpd-grid").children(".fpd-item").index(c);if(a.mainOptions.saveActionBrowserStorage){var e=g();e.splice(d,1),window.localStorage.setItem(a.$container.attr("id"),JSON.stringify(e))}a.$container.trigger("actionLoad:Remove",[d,c]),c.remove()}),FPDUtil.updateTooltip(e),e.children(".fpd-item:last")},e()};FPDActions.availableActions=["print","reset-product","undo","redo","info","save","load","manage-layers","snap","qr-code","zoom","download","magnify-glass","preview-lightbox","ruler","previous-view","next-view","guided-tour"],FPDActions.rulerHorImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAAAAXNSR0IArs4c6QAAAMtJREFUaAXt0bENAkEMBVGgJVranja5lq4myH50wUr+wQRDZCHWWPPee+/fdV33yw+iwAdxhUekgCBJwRgEYTjkCkGSgjEIwnDIFYIkBWMQhOGQKwRJCsYgCMMhVwiSFIxBEIZDrhAkKRiDIAyHXCFIUjAGQRgOuUKQpGAMgjAccoUgScEYjkHWWt+Tk/3dc6XTLscgz3/jt+0CgrSLDvcJMgzYfi5Iu+hwnyDDgO3ngrSLDvcJMgzYfi5Iu+hwnyDDgO3ngrSLDvf9ARH1Efg/D4CQAAAAAElFTkSuQmCC",FPDActions.rulerVerImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAABkCAYAAACRiYAFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAA40lEQVRoBe2UwQ3CUBTD+KzUYXvpSHQmECzgIlk8CbnXRonqvGZt2/a4DTz3gcxPZME/Ix/q/0e99n1/Xv3M4zjOq1rSrZaLEFnv+48tkugTakRkCVouiyT6dNWIyBKE2iKJPmOoWy7sxhKMdVywVSH6hBoRWYKWyyKJPl01IrIEobZIos8Y6pYLu7EEYx0XbFWIPqFGRJag5bJIok9XjYgsQagtkugzhrrlwm4swVjHBVsVok+oEZElaLkskujTVSMiSxBqiyT6jKFuubAbSzDWccFWhegTakRkCb5aLiv07fMCuAVB+Jp9DBgAAAAASUVORK5CYII=";var FPDImageEditor=function(a,b,c){"use strict";$=jQuery;var d,e,f=c.mainOptions.imageEditorSettings,g="#2ecc71",h=this,i=0,j=0,k=a.children(".fpd-image-editor-main"),l=!1,m=null,n={opacity:.3,cornerColor:g,borderColor:g,borderScaleFactor:3,borderDashArray:[5,5],hasRotatingPoint:!0,centeredScaling:!0,objectCaching:!1,__editorMode:!0,__imageEditor:!0},o=function(){b.originSource=b.originSource?b.originSource:b.source,h.responsiveScale=1,a.addClass("fpd-container"),k.append("<canvas>");var o={containerClass:"fpd-image-editor-canvas-wrapper",selection:!1,hoverCursor:"pointer",controlsAboveOverlay:!0,centeredScaling:!0,allowTouchScrolling:!0,preserveObjectStacking:!0,enableRetinaScaling:!1};d=new fabric.Canvas(k.children("canvas:last").get(0),o);var t={},u=!1;d.on({"mouse:down":function(a){if(!m&&l){u=!0;var b=d.getPointer(a.e);t.x=b.x,t.y=b.y,m=new fabric.Rect($.extend({},{width:0,height:0,left:b.x/h.responsiveScale,top:b.y/h.responsiveScale,fill:"#000"},n)),r(),d.add(m),d.renderAll(),d.setActiveObject(m)}},"mouse:move":function(a){if(u){var b=d.getPointer(a.e),c=Math.abs(b.x-t.x),e=Math.abs(b.y-t.y);if(!c||!e)return!1;m.setOptions({width:c/h.responsiveScale,height:e/h.responsiveScale}),m.setCoords(),d.renderAll()}},"mouse:up":function(){u=!1}}),a.on("click",".fpd-image-editor-menu > span",function(){var b=$(this),c=b.data("id");b.addClass("fpd-active").siblings().removeClass("fpd-active"),a.find(".fpd-tab-content > div").removeClass("fpd-active").filter('[data-id="'+c+'"]').addClass("fpd-active")}),f.masks&&$.isArray(f.masks)&&f.masks.forEach(function(b){var c=b.split(/[\\/]/).pop();c=c.substr(0,c.lastIndexOf(".")),a.find(".fpd-mask-selection").append('<span data-mask="'+b+'" class="fpd-tooltip" title="'+c+'" style="background-image: url('+b+')"></span>')}),a.on("click",".fpd-mask-selection > span",function(){if(!e)return!1;var b=$(this),c=b.data("mask");d.discardActiveObject(),e.evented=!1,d.clipTo=null,m=null,"custom-rect"===c?l=!0:fabric.loadSVGFromURL(c,function(a,b){var c=a?fabric.util.groupSVGElements(a,b):null;d.add(c),c.setOptions($.extend({},n,{opacity:1,fill:"rgba(0,0,0,0)"})),d.width>d.height?c.scaleToHeight((d.height-80)/h.responsiveScale):c.scaleToWidth((d.width-80)/h.responsiveScale),"1.6.7"===fabric.version?c.getObjects()[0].set("stroke",g).set("strokeWidth",3/c.scaleX):c.set("stroke",g).set("strokeWidth",3/c.scaleX),m=c,r(),c.left=0,c.top=0,c.setPositionByOrigin(new fabric.Point(.5*i,.5*j),"center","center"),c.setCoords(),d.renderAll()}),d.renderAll(),a.addClass("fpd-show-secondary")}),a.on("click",".fpd-mask-cancel, .fpd-mask-save",function(){return e?(e.evented=!0,l=!1,d.discardActiveObject(),m&&($(this).hasClass("fpd-mask-save")&&(r(),m.set("strokeWidth",0),m.set("fill","transparent"),d.clipTo=function(a){m.render(a)}),d.remove(m)),void a.removeClass("fpd-show-secondary")):!1});var v=["none","grayscale","sepia","cold","black_white","old","milk","purple","yellow","monochrome"];"1.6.7"===fabric.version&&(v=v.concat(["sepia2","technicolor","kodachrome","vintage"])),v.forEach(function(b){a.find(".fpd-content-filters").append('<div data-type="'+b+'" style="background-image: url('+FPDFilters[b].preview+')" data-defaulttext="'+FPDFilters[b].name+'" title="image_editor.filter_'+b+'" class="fpd-tooltip"></div>')}),a.find(".fpd-content-filters [data-defaulttext]").each(function(a,b){c.translateElement($(b))}),a.on("click",".fpd-content-filters > div",function(){if(!e)return!1;var a=["Grayscale","Sepia","Sepia2","ColorMatrix"];e.filters=e.filters.filter(function(b){return b&&-1===a.indexOf(b.type)}),e.filters.push(FPDUtil.getFilter($(this).data("type"))),s()}),a.on("click",".fpd-switch-container",function(){if(!e)return!1;var a=$(this),b=a.data("filter");if(a.toggleClass("fpd-enabled"),a.nextAll(".fpd-range-tooltip:first").toggleClass("fpd-enabled",a.hasClass("fpd-enabled")),a.hasClass("fpd-enabled")){var c={};a.parent().find(".fpd-input-range").each(function(a,b){c[b.name]=parseFloat(b.value)}),q(b,c)}else p(b)});var w=null;a.on("input change",".fpd-input-range",function(){if(!e)return!1;var a=$(this),b=a.parent(".fpd-range-tooltip").siblings(".fpd-switch-container:first"),c=b.data("filter"),d=parseFloat(this.min),f=parseFloat(this.max),g=parseFloat(this.value),h=(this.value-d)/(f-d);b.parent().siblings(".fpd-left").find(".fpd-range-tooltip").removeClass("fpd-moving"),a.parent(".fpd-range-tooltip").addClass("fpd-moving").children(".fpd-tooltip").text(g.toFixed(2)).css("left",String(100*h)+"%");var i={};"1.6.7"===fabric.version?g*=255:i.color="#fff",i[a.attr("name")]=g,q(c,i),w&&(clearTimeout(w),w=null),w=setTimeout(function(){a.parent(".fpd-range-tooltip").removeClass("fpd-moving"),clearTimeout(w),w=null},2e3)}),a.on("click",".fpd-action-restore",function(){return e?(e.source=b.originSource,e.setSrc(b.originSource,function(){e.setCoords(),d.renderAll()}),void h.reset()):!1}),a.on("click",".fpd-action-save",function(){var d=h.getImage();if("image"!==b.type){var e=c.currentViewInstance.getElementJSON(b);delete e.fill,c.currentViewInstance.removeElement(b.title,b),c.currentViewInstance.addElement("image",d,b.title,e)}else b.source=d,b.setSrc(d,function(){b.setCoords(),b.canvas.renderAll()});a.parent().siblings(".fpd-modal-close").click()}),FPDUtil.updateTooltip(a)},p=function(a){e.filters=e.filters.filter(function(b){return b.type!==a}),s()},q=function(a,b){b=void 0===b?{}:b;var c=e.filters.filter(function(b){return b&&"RemoveColor"===b.type&&(b.type="RemoveWhite"),b.type===a});if(c.length>0)$.extend(c[0],b);else{var d=FPDUtil.getFilter(a,b);e.filters.push(d)}s()},r=function(){var b=a.children(".fpd-image-editor-main");h.responsiveScale=b.outerWidth()<i?b.outerWidth()/i:1,h.responsiveScale=parseFloat(Number(h.responsiveScale.toFixed(7))),h.responsiveScale=h.responsiveScale>1?1:h.responsiveScale,m&&(m.left=m.left*h.responsiveScale,m.top=m.top*h.responsiveScale,m.scaleX=m.scaleX*h.responsiveScale,m.scaleY=m.scaleY*h.responsiveScale,m.setCoords()),d.setDimensions({width:b.width(),height:j*h.responsiveScale}).setZoom(h.responsiveScale).calcOffset().renderAll()},s=function(){"1.6.7"===fabric.version?e.applyFilters(function(){d.renderAll()}):(e.applyFilters(),d.renderAll())};this.loadImage=function(a){this.reset(),new fabric.Image.fromURL(a,function(a){e=a,i=a.width,j=a.height,e.setOptions({cornerColor:g,borderColor:g,__editorMode:!0,__imageEditor:!0}),d.setDimensions({width:i,height:j}),d.add(a),r()},{crossOrigin:"anonymous"})},this.getImage=function(){d.setDimensions({width:i,height:j}).setZoom(1),m&&(m.left=m.left/h.responsiveScale,m.top=m.top/h.responsiveScale,m.scaleX=m.scaleX/h.responsiveScale,m.scaleY=m.scaleY/h.responsiveScale,m.setCoords()),d.renderAll();var a=d.toDataURL({});return r(),a},this.reset=function(){a.find(".fpd-switch-container").removeClass("fpd-enabled"),d.clipTo=null,m=null,d.discardActiveObject(),e&&(e.setOptions({scaleX:1,scaleY:1,angle:0,left:0,top:0}),e.filters=[],s())},o()},FPDDesignsModule=function(a,b){"use strict";$=jQuery;var c=this,d="",e=b.find(".fpd-head"),f=b.find(".fpd-scroll-area"),g=b.find(".fpd-grid"),h=a.mainOptions.lazyLoad?"fpd-hidden":"",i=null,j=!1,k=[],l=function(){d=a.getTranslation("modules","designs_search_in").toUpperCase(),e.find(".fpd-input-search input").keyup(function(){if(""==this.value)g.children(".fpd-item").css("display","block");else{g.children(".fpd-item").css("display","none");var a=this.value.toLowerCase().trim().split(" ");g.children(".fpd-item").filter(function(){var b=0,c=this;return $.each(a,function(a,d){b+=$(c).is("[data-search*='"+d+"']")}),b==a.length?1:void 0}).css("display","block")}}),e.find(".fpd-back").click(function(){g.children(".fpd-category").length>0&&k.pop();var b,d=a.designs;k.forEach(function(a){b=d[a],d=b.category}),i=d,d&&m(i,b),void 0===b&&c.toggleCategories()}),a.$container.on("designsSet",function(a,d){$.isArray(d)&&0!==d.length&&(d[0].hasOwnProperty("source")?(b.addClass("fpd-single-cat"),o(d)):d.length>1||d[0].category?(j=!0,c.toggleCategories()):1===d.length&&d[0].designs&&(b.addClass("fpd-single-cat"),o(d[0].designs)))}).on("viewSelect",function(){c.toggleCategories()})},m=function(a,c){f.find(".fpd-grid").empty(),e.find(".fpd-input-search input").val(""),b.removeClass("fpd-designs-active").addClass("fpd-categories-active"),a.forEach(function(a){n(a)}),c&&e.find(".fpd-input-search input").attr("placeholder",d+" "+c.title.toUpperCase()),FPDUtil.refreshLazyLoad(g,!1),FPDUtil.createScrollbar(f)},n=function(a){var c=a.thumbnail?'<picture data-img="'+a.thumbnail+'"></picture>':"",f=(a.thumbnail?h:h+" fpd-title-centered",$("<div/>",{"class":"fpd-category fpd-item "+h,"data-search":a.title.toLowerCase(),html:c+"<span>"+a.title+"</span>"}).appendTo(g));f.click(function(){var a=$(this),c=a.parent().children(".fpd-item").index(a),f=i[c];f.category?(k.push(c),i=f.category,m(i,f)):o(f.designs,f.parameters),b.addClass("fpd-head-visible"),e.find(".fpd-input-search input").attr("placeholder",d+" "+a.children("span").text().toUpperCase())}),""===h&&a.thumbnail&&FPDUtil.loadGridImage(f.children("picture"),a.thumbnail)},o=function(a,c){f.find(".fpd-grid").empty(),e.find(".fpd-input-search input").val(""),b.removeClass("fpd-categories-active").addClass("fpd-designs-active");var c=c?c:{};a.forEach(function(a){a.parameters=$.extend({},c,a.parameters),p(a)}),FPDUtil.refreshLazyLoad(g,!1),FPDUtil.createScrollbar(f),FPDUtil.updateTooltip()},p=function(b){b.thumbnail=void 0===b.thumbnail?b.source:b.thumbnail;var c=$("<div/>",{"class":"fpd-item "+h,"data-title":b.title,"data-source":b.source,"data-search":b.title.toLowerCase(),html:'<picture data-img="'+b.thumbnail+'"></picture><span class="fpd-price"></span>'}).appendTo(g);c.click(function(){a.toggleSpinner(!0,a.getTranslation("misc","loading_image"));var b=$(this),c=b.data("parameters"),d=b.data("source");c=$.extend({},a.currentViewInstance.options.customImageParameters,c),c.isCustom=!0,c._addToUZ=a.currentViewInstance.currentUploadZone,a.addElement("image",d,b.data("title"),c),a.productCreated&&a.mainOptions.hideDialogOnAdd&&a.$container.hasClass("fpd-topbar")&&a.mainBar&&a.mainBar.toggleDialog(!1)}).data("parameters",b.parameters),FPDUtil.setItemPrice(c,a),""===h&&FPDUtil.loadGridImage(c.children("picture"),b.thumbnail)};this.toggleCategories=function(){if(j){b.removeClass("fpd-head-visible fpd-single-cat"),i=a.designs,m(i);var c=[];if(a.currentViewInstance){var d=a.currentViewInstance.currentElement;c=d&&d.uploadZone&&d.designCategories?a.currentViewInstance.currentElement.designCategories:a.currentViewInstance.options.designCategories}var e=g.find(".fpd-category");if(c.length>0){var f=e.hide().filter(function(){var a=$(this).children("span").text();return $.inArray(a,c)>-1}).show(f);1===f.length&&(f.first().click(),b.toggleClass("fpd-single-cat"))}else e.show()}},l()},FPDProductsModule=function(a,b){"use strict";$=jQuery;var c=this,d=0,e=b.find(".fpd-product-categories"),f=b.children(".fpd-scroll-area"),g=b.find(".fpd-grid"),h=a.mainOptions.lazyLoad?"fpd-hidden":"",i=function(){k(),e.children("input").keyup(function(){var a=e.find(".fpd-dropdown-list .fpd-item");a.hide(),0===this.value.length?a.show():a.filter(':containsCaseInsensitive("'+this.value+'")').show()}),e.on("click",".fpd-dropdown-list .fpd-item",function(){var a=$(this);d=a.data("value"),a.parent().prevAll(".fpd-dropdown-current:first").val(a.text()),c.selectCategory(d),a.siblings(".fpd-item").show(),FPDUtil.refreshLazyLoad(g,!1)}),a.$container.on("productsSet",function(a,d){e.find(".fpd-dropdown-list .fpd-item").remove(),g.empty(),d&&d.length>0&&(void 0!==d[0].category&&d.length>1&&(b.addClass("fpd-categories-enabled"),d.forEach(function(a,b){e.find(".fpd-dropdown-list > .fpd-scroll-area").append('<span class="fpd-item" data-value="'+b+'">'+a.category+"</span>")})),k(),c.selectCategory(0)),FPDUtil.createScrollbar(e.find(".fpd-dropdown-list .fpd-scroll-area"))}),a.$container.on("productAdd",function(a,b,c,e){e==d&&j(b)})},j=function(b){var c=b[0].productThumbnail?b[0].productThumbnail:b[0].thumbnail,e=b[0].productTitle?b[0].productTitle:b[0].title,f=$("<div/>",{"class":"fpd-item fpd-tooltip "+h,"data-title":e,"data-source":c,html:'<picture data-img="'+c+'"></picture>'}).appendTo(g);f.click(function(b){b.preventDefault();var c=$(this),e=g.children(".fpd-item").index(c);if(a.mainOptions.swapProductConfirmation){var f=FPDUtil.showModal(a.getTranslation("modules","products_confirm_replacement"),!1,"confirm",a.$modalContainer);f.find(".fpd-confirm").text(a.getTranslation("modules","products_confirm_button")).click(function(){a.selectProduct(e,d),f.find(".fpd-modal-close").click()})}else a.selectProduct(e,d)}).data("views",b),""===h?FPDUtil.loadGridImage(f.children("picture"),c):FPDUtil.refreshLazyLoad(g,!1),FPDUtil.updateTooltip(g)},k=function(){if(!a.mainOptions.editorMode){var b=a.products[0],c=void 0===b;void 0!==b&&(c=!b.hasOwnProperty("category")&&a.products.length<2||b.hasOwnProperty("category")&&b.products.length<2&&a.products.length<2?!0:!1),a.$container.toggleClass("fpd-products-module-hidden",c)}};this.selectCategory=function(b){if(f.find(".fpd-grid").empty(),a.products&&a.products.length>0){var c;void 0!==a.products[0].category?(c=a.products[b].products,e.children("input").val(a.products[b].category)):c=a.products,c.forEach(function(a){j(a)}),FPDUtil.createScrollbar(f)}},i()},FPDTextModule=function(a,b){"use strict";$=jQuery;var c,d=function(){a.$container.on("viewSelect",function(d,e,f){if(c=f.options,c.customTextParameters&&c.customTextParameters.price){var g=a.formatPrice(c.customTextParameters.price);b.find(".fpd-btn > .fpd-price").html(" - "+g)}else b.find(".fpd-btn > .fpd-price").html("")}),b.on("click",".fpd-btn",function(){var b=$(this).prevAll("textarea:first"),d=b.val();if(d&&d.length>0){var e=$.extend({},c.customTextParameters,{isCustom:!0,_addToUZ:a.currentViewInstance.currentUploadZone});a.addElement("text",d,d,e)}b.val("")}),b.on("input change","textarea",function(){var b=this.value,d=c?c.customTextParameters.maxLength:0,e=c?c.customTextParameters.maxLines:0;a.mainOptions.disableTextEmojis&&(b=b.replace(FPDEmojisRegex,""),b=b.replace(String.fromCharCode(65039),"")),0!=d&&b.length>d&&(b=b.substr(0,d)),0!=e&&b.split("\n").length>e&&(b=b.replace(/([\s\S]*)\n/,"$1")),this.value=b})};d()},FPDLayersModule={createList:function(a,b){var c,d=!1;b.off();var e=function(c){var d="<span></span>";if(FPDUtil.elementHasColorSelection(c)){var e=FPDUtil.elementAvailableColors(c,a),f="";c.uploadZone?d="<span></span>":c.type==FPDPathGroupName&&c.getObjects().length>1?(f=e[0],d='<span class="fpd-current-color" style="background: '+f+'"></span>'):1!=e&&(e.length>1||c.type==FPDPathGroupName&&1===c.getObjects().length)?(f=c.fill?c.fill:e[0],d='<span class="fpd-current-color" style="background: '+f+'" data-colors=""></span>'):(f=c.fill?c.fill:e[0],d='<input class="fpd-current-color" type="text" value="'+f+'" />')}var g=c.title;"text"===FPDUtil.getType(c.type)&&c.editable&&(g="<textarea>"+c.text+"</textarea>"),b.find(".fpd-list").append('<div class="fpd-list-row" id="'+c.id+'"><div class="fpd-cell-0">'+d+'</div><div class="fpd-cell-1">'+g+'</div><div class="fpd-cell-2"></div></div>');var h=b.find(".fpd-list-row:last").data("element",c).data("colors",e);if(c.uploadZone)h.addClass("fpd-add-layer").find(".fpd-cell-2").append('<span class="fpd-icon-add"></span>'),c.uploadZoneRemovable&&h.find(".fpd-icon-add").after('<span class="fpd-remove-element"><span class="fpd-icon-remove"></span></span>');else{var i=c.locked?"fpd-icon-locked-full":"fpd-icon-unlocked",j=c.zChangeable?'<span class="fpd-icon-reorder"></span>':"";h.find(".fpd-cell-2").append(j+'<span class="fpd-lock-element"><span class="'+i+'"></span></span>'),(c.removable||c.__editorMode)&&h.find(".fpd-lock-element").after('<span class="fpd-remove-element"><span class="fpd-icon-remove"></span></span>'),h.toggleClass("fpd-locked",c.locked)}};b.find(".fpd-current-color").spectrum("destroy"),b.find(".fpd-list").empty(),a.getElements(a.currentViewIndex).forEach(function(a){FPDUtil.elementIsEditable(a)&&e(a)}),FPDUtil.createScrollbar(b.find(".fpd-scroll-area"));var f=0;b.find(".fpd-list").sortable({handle:".fpd-icon-reorder",placeholder:"fpd-list-row fpd-sortable-placeholder",scroll:!1,axis:"y",containment:"parent",items:".fpd-list-row:not(.fpd-locked)",start:function(a,b){f=b.originalPosition.top},change:function(b,c){var d,e=a.getElementByID(c.item.attr("id"));d=c.position.top>f?c.placeholder.prevAll(".fpd-list-row:not(.ui-sortable-helper)").first():c.placeholder.nextAll(".fpd-list-row:not(.ui-sortable-helper)").first();var g=a.currentViewInstance.getElementByID(d.attr("id")),h=a.currentViewInstance.getZIndex(g);a.setElementParameters({z:h},e),f=c.position.top}}),b.find("input.fpd-current-color").spectrum("destroy").spectrum({flat:!1,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:a.mainOptions.colorPickerPalette&&a.mainOptions.colorPickerPalette.length>0,palette:a.mainOptions.colorPickerPalette,showButtons:!1,show:function(b){FPDUtil.spectrumColorNames($(this).spectrum("container"),a);var c=$(this).parents(".fpd-list-row:first").data("element");c._tempFill=b.toHexString()},move:function(b){var c=$(this).parents(".fpd-list-row:first").data("element");(d===!1||"png"!==FPDUtil.elementIsColorizable(c))&&a.currentViewInstance.changeColor(c,b.toHexString())},change:function(b){$(document).unbind("click.spectrum");var c=$(this).parents(".fpd-list-row:first").data("element");a.currentViewInstance.setElementParameters({fill:b.toHexString()},c)}}).on("beforeShow.spectrum",function(){c&&(c.remove(),c=null)}).on("dragstart.spectrum",function(){d=!0}).on("dragstop.spectrum",function(b,c){d=!1;var e=$(this).parents(".fpd-list-row:first").data("element");a.currentViewInstance.changeColor(e,c.toHexString())}),b.off("click",".fpd-current-color").on("click",".fpd-current-color",function(d){d.stopPropagation(),b.find(".fpd-path-colorpicker").spectrum("destroy"),b.find("input.fpd-current-color").spectrum("hide");var e=$(this).parents(".fpd-list-row"),f=e.data("element"),g=e.data("colors");if(c&&e.children(".fpd-scroll-area").length>0)return c.slideUp(200,function(){$(this).remove()}),void(c=null);if(c&&(c.slideUp(200,function(){$(this).remove()}),c=null),g.length>0){e.append('<div class="fpd-scroll-area"><div class="fpd-color-palette fpd-grid"></div></div>');for(var h=0;h<g.length;++h){var i;if(f.type===FPDPathGroupName&&f.getObjects().length>1)i='<input class="fpd-path-colorpicker" type="text" value="'+g[h]+'" />';else{var j=a.mainOptions.hexNames[g[h].replace("#","").toLowerCase()];j=j?j:g[h],i='<div class="fpd-item fpd-tooltip" title="'+j+'" style="background-color: '+g[h]+'" data-color="'+g[h]+'"></div>'}e.find(".fpd-color-palette").append(i)}FPDUtil.updateTooltip(e),f.type===FPDPathGroupName&&f.getObjects().length>1&&e.find(".fpd-path-colorpicker").spectrum({showPaletteOnly:$.isArray(f.colors),preferredFormat:"hex",showInput:!0,showInitial:!0,showButtons:!1,showPalette:a.mainOptions.colorPickerPalette&&a.mainOptions.colorPickerPalette.length>0,palette:$.isArray(f.colors)?f.colors:a.mainOptions.colorPickerPalette,show:function(b){var c=$(this).parents(".fpd-list-row"),d=c.data("element"),e=FPDUtil.changePathColor(d,c.find(".fpd-path-colorpicker").index(this),b);FPDUtil.spectrumColorNames($(this).spectrum("container"),a),d._tempFill=e},move:function(b){var c=$(this).parents(".fpd-list-row"),d=c.data("element"),e=FPDUtil.changePathColor(d,c.find(".fpd-path-colorpicker").index(this),b);a.currentViewInstance.changeColor(d,e)},change:function(b){var c=$(this).parents(".fpd-list-row"),d=c.data("element"),e=FPDUtil.changePathColor(d,c.find(".fpd-path-colorpicker").index(this),b);$(document).unbind("click.spectrum"),a.currentViewInstance.setElementParameters({fill:e},d)}}),c=e.children(".fpd-scroll-area").slideDown(300)}}),b.on("click",".fpd-color-palette .fpd-item",function(b){b.stopPropagation();var c=$(this),d=c.parents(".fpd-list-row"),e=d.data("element"),f=c.data("color");d.find(".fpd-current-color").css("background",f),e.type==FPDPathGroupName&&(f=FPDUtil.changePathColor(e,0,f)),a.currentViewInstance.setElementParameters({fill:f},e)}),b.on("click",".fpd-list-row",function(){if(!$(this).hasClass("fpd-locked")){var b=a.getElementByID(this.id);b&&b.canvas.setActiveObject(b).renderAll()}}),b.on("click",".fpd-lock-element",function(a){a.stopPropagation();var b=$(this),d=b.parents(".fpd-list-row").data("element");c&&(c.slideUp(200,function(){$(this).remove()}),c=null),d.evented=!d.evented,d.locked=!d.evented,b.children("span").toggleClass("fpd-icon-unlocked",d.evented).toggleClass("fpd-icon-locked-full",!d.evented),b.parents(".fpd-list-row").toggleClass("fpd-locked",!d.evented),b.parents(".fpd-list:first").sortable("refresh")}),b.on("click",".fpd-remove-element",function(b){b.stopPropagation();var c=$(this).parents(".fpd-list-row");a.currentViewInstance.removeElement(c.data("element"))}),b.on("keyup","textarea",function(b){b.stopPropagation();var c=$(this),d=c.parents(".fpd-list-row").data("element");a.mainOptions.disableTextEmojis&&(this.value=this.value.replace(FPDEmojisRegex,""),this.value=this.value.replace(String.fromCharCode(65039),"")),a.currentViewInstance.setElementParameters({text:this.value},d),this.value=d.text});var g=function(a,c,d){d.text&&b.find(".fpd-list").find('[id="'+c.id+'"] textarea').val(d.text)};a.$container.off("elementModify",g),a.$container.on("elementModify",g);var h=function(a,c,d){var e=b.find(".fpd-list").find('[id="'+c.id+'"] .fpd-current-color');e.is("input")?e.spectrum("set",d):e.css("background",d)};a.$container.off("elementColorChange",h),a.$container.on("elementColorChange",h)}},FPDImagesModule=function(a,b){"use strict";$=jQuery;var c=a.mainOptions.lazyLoad?"fpd-hidden":"",d=b.find(".fpd-input-image"),e=b.find('[data-context="upload"] .fpd-scroll-area'),f=e.find(".fpd-grid"),g=b.find(".fpd-facebook-albums"),h=b.find('[data-context="facebook"] .fpd-scroll-area'),i=h.find(".fpd-grid"),j=b.find('[data-context="instagram"] .fpd-scroll-area'),k=j.find(".fpd-grid"),l=a.mainOptions.facebookAppId,m=a.mainOptions.instagramClientId,n=a.mainOptions.instagramRedirectUri,o=null,p=!1,q=null,r=FPDUtil.localStorageAvailable(),s=a.getTranslation("misc","loading_image"),t=a.mainOptions.customImageAjaxSettings,u=t.data&&t.data.saveOnServer?1:0,v=t.data&&t.data.uploadsDir?t.data.uploadsDir:"",w=t.data&&t.data.uploadsDirURL?t.data.uploadsDirURL:"",x=a.mainOptions.allowedImageTypes,y=a.mainOptions.pixabayApiKey,z=b.find('[data-context="pixabay"] .fpd-scroll-area'),A=z.find(".fpd-grid"),B=!1,C="",D=1,E=a.mainOptions.depositphotosApiKey,F=b.find('[data-context="depositphotos"] .fpd-scroll-area'),G=F.find(".fpd-grid"),H=!1,I="",J="",K=null,L=0,M=function(){a.$container.on("viewSelect secondaryModuleCalled",function(){
var c=a.currentViewInstance.options,d=null;if(a.currentViewInstance.currentUploadZone){var e=a.currentViewInstance.getUploadZone(a.currentViewInstance.currentUploadZone);e&&e.price&&(d=e.price)}null==d&&c.customImageParameters&&c.customImageParameters.price&&(d=a.formatPrice(c.customImageParameters.price)),b.find(".fpd-upload-zone .fpd-price").html(d?d:"")}),b.on("click",".fpd-grid .fpd-item:not(.fpd-category):not(.fpd-loading)",function(){a._loadingCustomImage||W($(this))}),-1!==x.indexOf("jpeg")&&-1===x.indexOf("jpg")&&x.push("jpg");var c=[];x.forEach(function(a){"pdf"==a?c.push("application/pdf"):("svg"==a&&(a+="+xml"),c.push("image/"+a))}),d.attr("accept",c.join());var e=b.find(".fpd-upload-zone");e.click(function(a){a.preventDefault(),d.click()}).on("dragover dragleave",function(a){a.stopPropagation(),a.preventDefault(),$(this).toggleClass("fpd-hover","dragover"===a.type)});var g=function(b){b.stopPropagation(),b.preventDefault();var c=b.target.files||b.dataTransfer.files;if(a.mainOptions.uploadAgreementModal){var d=FPDUtil.showModal(a.getTranslation("modules","images_agreement"),!1,"confirm",a.$modalContainer);d.find(".fpd-confirm").text(a.getTranslation("modules","images_confirm_button")).click(function(){d.find(".fpd-modal-close").click(),setTimeout(function(){h(c)},300)})}else h(c)},h=function(b){if(window.FileReader){var c=!0;a._loadingCustomImage=!0;for(var f=0;f<b.length;++f){var g=b[f].name.split(".").pop().toLowerCase();x.indexOf(g)>-1&&(O(b[f],c),c=!1)}}e.removeClass("fpd-hover"),d.val("")};if(e.get(0)&&e.get(0).addEventListener("drop",g,!1),b.find(".fpd-upload-form").on("change",g),r&&window.localStorage.getItem("fpd_uploaded_images")){var i=JSON.parse(window.localStorage.getItem("fpd_uploaded_images"));i.forEach(function(a){P(a.url,a.title);var b=new Image;b.src=a.url,b.onerror=function(){var a=null;i.forEach(function(c,d){c.url==b.src&&(a=d)}),null!=a&&(i.splice(a,1),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(i)))}})}b.find('.fpd-module-tabs-content [data-context="upload"]').on("click",".fpd-icon-remove",function(a){a.stopPropagation();var b=$(this).parents(".fpd-item:first"),c=f.children(".fpd-item").index(b);if(!b.hasClass("fpd-loading")){var d=JSON.parse(window.localStorage.getItem("fpd_uploaded_images"));d.splice(c,1),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(d))}b.data("xhr")&&b.data("xhr").abort(),b.remove(),$(".fpd-thumbnail-preview").remove()}),l&&l.length>5&&(b.find('.fpd-module-tabs [data-context="facebook"]').removeClass("fpd-hidden"),R()),m&&m.length>5&&(b.find('.fpd-module-tabs [data-context="instagram"]').removeClass("fpd-hidden").on("click",function(){if(!(k.children(".fpd-item").length>0)){o=window.localStorage.getItem("fpd_instagram_access_token");var a="recent";r&&null!=o?T(a):S(function(){T(a)})}}),j.on("_sbOnTotalScroll",function(){null===q||p||T(q,!1)})),y&&y.length>5&&(b.find('.fpd-module-tabs [data-context="pixabay"]').removeClass("fpd-hidden").on("click",function(){A.children(".fpd-item").length>0||U()}),b.on("keypress",'.fpd-module-tabs-content [data-context="pixabay"] input[type="text"]',function(a){13==a.which&&(D=1,U(this.value))}),z.on("_sbOnTotalScroll",function(){B||(D++,U(void 0,!1))})),E&&E.length>5&&(b.find('.fpd-module-tabs [data-context="depositphotos"]').removeClass("fpd-hidden").on("click",function(){G.children(".fpd-item").length>0||V("list-cats",null)}),b.on("keypress",'.fpd-module-tabs-content [data-context="depositphotos"] input[type="text"]',function(a){13==a.which&&(L=0,V("search",this.value))}).on("click",'.fpd-module-tabs-content [data-context="depositphotos"] .fpd-category',function(){var c=$(this),d=c.text();b.find('.fpd-module-tabs-content [data-context="depositphotos"] .fpd-input-search input').attr("placeholder",a.getTranslation("modules","depositphotos_search_category")+d),K=c.data("category"),V("search-cats",K)}).on("click",'.fpd-module-tabs-content [data-context="depositphotos"] .fpd-back',function(){L=0,K=null,b.find('.fpd-module-tabs-content [data-context="depositphotos"] .fpd-input-search input').val("").attr("placeholder",a.getTranslation("modules","depositphotos_search")),V("list-cats",null)}),F.on("_sbOnTotalScroll",function(){H||0!=F.prev(".fpd-cats-shown").length||(L++,V(I,J,!1))})),b.find(".fpd-module-tabs > :not(.fpd-hidden)").length<2&&b.addClass("fpd-hide-tabs"),b.children(".fpd-module-tabs").children("div:not(.fpd-hidden):first").click()},N=function(b,c,d){d=void 0===d?{}:d,a._loadingCustomImage=!0,a.toggleSpinner(!0,s),a.$viewSelectionWrapper.addClass("fpd-disabled");var e=$.extend({},t);e.success=function(b){b&&void 0===b.error?a.addCustomImage(b.image_src,b.filename?b.filename:c,d):(a.toggleSpinner(!1),FPDUtil.showModal(b.error))},e.data={url:b,uploadsDir:v,uploadsDirURL:w,saveOnServer:u},$.ajax(e).fail(function(b){a.toggleSpinner(!1),FPDUtil.showModal(b.statusText)}),a.productCreated&&a.mainOptions.hideDialogOnAdd&&a.$container.hasClass("fpd-topbar")&&a.mainBar&&a.mainBar.toggleDialog(!1)},O=function(b,c){var d=1024*a.mainOptions.customImageParameters.maxSize*1024;if(b.size>d)return void FPDUtil.showMessage(a.getTranslation("misc","maximum_size_info").replace("%filename",b.name).replace("%mb",a.mainOptions.customImageParameters.maxSize));var e=new FileReader;e.onload=function(){if("application/pdf"!==b.type){if("image/jpeg"===b.type){var d=new JpegMeta.JpegFile(atob(this.result.replace(/^.*?,/,"")),b.name),e=null;if(d.tiff&&d.tiff.XResolution&&d.tiff.XResolution.value){var f=d.tiff.XResolution.value.den,g=d.tiff.XResolution.value.num;e=g/f}else d.jfif&&d.jfif.Xdensity&&d.jfif.Xdensity.value&&(e=d.jfif.Xdensity.value);if(null!==e){if(FPDUtil.log(b.name+" Real Resolution: "+e,"info"),e<a.mainOptions.customImageParameters.minDPI)return FPDUtil.showModal(a.getTranslation("misc","minimum_dpi_info").replace("%dpi",a.mainOptions.customImageParameters.minDPI),!1,"",a.$modalContainer),!1}else FPDUtil.log(b.name+": Resolution is not accessible.","info")}var h=this.result,i=P(h,b.name);u&&i.addClass("fpd-loading").append('<div class="fpd-loading-bar"><div class="fpd-loading-progress"></div></div>');var j=new Image;j.onload=function(){{var d=this.height,e=this.width;a.currentViewInstance.options.customImageParameters}if(FPDUtil.checkImageDimensions(a,e,d))if(u){var f=new FormData;f.append("uploadsDir",v),f.append("uploadsDirURL",w),f.append("images[]",b);var g=$.extend({},t);g.data=f,g.processData=!1,g.contentType=!1,g.xhr=function(){var a=$.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(a){if(a.lengthComputable){var b=a.total,c=a.loaded,d=parseInt(100*c/b);i.find(".fpd-loading-progress").css("width",d+"%")}},!1),a},g.success=function(a){0!=i.parents("body").length&&(a&&void 0===a.error?(Q(a.image_src,a.filename),i.data("source",a.image_src).removeClass("fpd-loading").children(".fpd-loading-bar").remove(),c&&W(i)):(i.remove(),FPDUtil.showModal(a.error)))};var j=$.ajax(g).fail(function(a){"abort"!==a.statusText&&(i.remove(),FPDUtil.showModal(a.statusText))});i.data("xhr",j)}else Q(h,b.name),c&&W(i);else i.remove()},j.src=h}else{var k=FPDUtil.showMessage(a.getTranslation("modules","images_pdf_upload_info"),!1),l=new FormData;l.append("uploadsDir",v),l.append("uploadsDirURL",w),l.append("pdf",b);var m=$.extend({},t);m.data=l,m.processData=!1,m.contentType=!1,m.success=function(a){a&&void 0===a.error?(a.pdf_images.forEach(function(a,b){var d=P(a.image_url,a.filename);0==b&&c&&W(d),Q(a.image_url,a.filename)}),k.remove()):(k.remove(),FPDUtil.showModal(a.error))};{$.ajax(m).fail(function(a){"abort"!==a.statusText&&(k.remove(),FPDUtil.showModal(a.statusText))})}}},e.readAsDataURL(b)},P=function(b,c){var d=f.append('<div class="fpd-item" data-title="'+c+'"><picture data-img="'+b+'"></picture><span class="fpd-price"></span><span class="fpd-icon-remove"></span></div>').children(".fpd-item:last").data("source",b);return FPDUtil.setItemPrice(d,a),FPDUtil.loadGridImage(d.children("picture"),b),FPDUtil.createScrollbar(e),d},Q=function(a,b){if(r){var c=window.localStorage.getItem("fpd_uploaded_images")?JSON.parse(window.localStorage.getItem("fpd_uploaded_images")):[],d={url:a,title:b};c.push(d),window.localStorage.setItem("fpd_uploaded_images",JSON.stringify(c))}},R=function(){var d=g.find(".fpd-dropdown-list .fpd-item");g.children("input").keyup(function(){d.hide(),0===this.value.length?d.show():d.filter(':containsCaseInsensitive("'+this.value+'")').show()}),g.on("click",".fpd-dropdown-list .fpd-item",function(){var a=$(this);a.parent().prevAll(".fpd-dropdown-current:first").val(a.text()),a.siblings(".fpd-item").show(),e(a.data("value"))});var e=function(b){i.empty(),g.addClass("fpd-on-loading"),FB.api("/"+b+"?fields=count",function(d){var e=d.count;FB.api("/"+b+"?fields=photos.limit("+e+").fields(source,images)",function(b){if(g.removeClass("fpd-on-loading"),!b.error){for(var d=b.photos.data,e=0;e<d.length;++e){var f=d[e],j=f.images[0]?f.images[0].source:f.source,k=f.images[f.images.length-1]?f.images[f.images.length-1].source:f.source,l=$("<div/>",{"class":"fpd-item "+c,"data-title":f.id,"data-source":j,html:'<picture data-img="'+k+'"></picture><span class="fpd-price"></span>'}).appendTo(i);FPDUtil.setItemPrice(l,a),""===c&&FPDUtil.loadGridImage(l.children("picture"),k)}FPDUtil.createScrollbar(h),FPDUtil.refreshLazyLoad(i,!1)}a.toggleSpinner(!1)})})};return"https:"!==location.protocol?void FPDUtil.log("Facebook Apps can only run in https","info"):($.ajaxSetup({cache:!0}),void $.getScript("//connect.facebook.com/en_US/sdk.js",function(){FB.init({appId:l,status:!0,cookie:!0,xfbml:!0,version:"v5.0"}),FB.Event.subscribe("auth.statusChange",function(a){"connected"===a.status&&(b.addClass("fpd-facebook-logged-in"),FB.api("/me/albums?fields=name,count,id",function(a){for(var b=a.data,c=0;c<b.length;++c){var e=b[c];e.count>0&&g.find(".fpd-dropdown-list").append('<span class="fpd-item" data-value="'+e.id+'">'+e.name+"</span>")}d=g.find(".fpd-dropdown-list .fpd-item"),g.removeClass("fpd-on-loading")}))})}))},S=function(b){var c=(window.screen.width-700)/2,d=(window.screen.height-500)/2,e="object"==typeof a.mainOptions.templatesType?a.mainOptions.templatesType[0]:a.mainOptions.templatesType,f=window.open(a.mainOptions.templatesDirectory+"/instagram_auth."+e,"","width=700,height=500,left="+c+",top="+d);FPDUtil.popupBlockerAlert(f,a),f.onload=function(){0==window.location.hash.length&&f.open("https://instagram.com/oauth/authorize/?client_id="+m+"&redirect_uri="+n+"&response_type=token","_self");var a=setInterval(function(){null===f.window&&clearInterval(a);try{f.location.hash.length&&(clearInterval(a),o=f.location.hash.slice(14),r&&window.localStorage.setItem("fpd_instagram_access_token",o),f.close(),b())}catch(c){}},100)}},T=function(b,d){d="undefined"==typeof d?!0:d,p=!0;var e;switch(b){case"liked":e="https://api.instagram.com/v1/users/self/media/liked?access_token="+o;break;case"recent":e="https://api.instagram.com/v1/users/self/media/recent?access_token="+o;break;default:e=b}d&&k.empty(),$.ajax({method:"GET",url:e,dataType:"jsonp",jsonp:"callback",jsonpCallback:"jsonpcallback",cache:!1,success:function(b){b.data?(q=b.pagination&&b.pagination.next_url?b.pagination.next_url:null,$.each(b.data,function(b,d){if("image"==d.type){var e=d.images.standard_resolution.url,f=$("<div/>",{"class":"fpd-item "+c,"data-title":d.id,"data-source":e,html:'<picture data-img="'+e+'"></picture><span class="fpd-price"></span>'}).appendTo(k);FPDUtil.setItemPrice(f,a),""===c&&FPDUtil.loadGridImage(f.children("picture"),e)}}),d&&(FPDUtil.createScrollbar(j),FPDUtil.refreshLazyLoad(k,!1))):(window.localStorage.removeItem("fpd_instagram_access_token"),b.meta&&b.meta.error_message&&FPDUtil.showModal("<strong>Instagram Error</strong><p>"+b.meta.error_message+"</p>")),p=!1},error:function(){window.localStorage.removeItem("fpd_instagram_access_token"),p=!1,FPDUtil.showModal("Could not load data from instagram. Please try again!")}})},U=function(b,d){if(C===b)return!1;B=!0,C=void 0===b?C:b,d=void 0===d?!0:d;var e=40,f=a.mainOptions.pixabayHighResImages?"&response_group=high_resolution":"",g="https://pixabay.com/api/?safesearch=true&key="+y+"&page="+D+"&per_page="+e+"&min_width="+a.mainOptions.customImageParameters.minW+"&min_height="+a.mainOptions.customImageParameters.minH+f+"&q="+encodeURIComponent(C)+"&lang="+a.mainOptions.pixabayLang;d&&A.empty(),z.prevAll(".fpd-loader-wrapper:first").removeClass("fpd-hidden"),$.getJSON(g,function(b){z.prevAll(".fpd-loader-wrapper:first").addClass("fpd-hidden"),b.hits.length>0&&b.hits.forEach(function(b){var e=b.imageURL?b.imageURL:b.webformatURL,f=$("<div/>",{"class":"fpd-item "+c,"data-title":b.id?b.id:b.id_hash,"data-source":e,html:'<picture data-img="'+b.webformatURL+'"></picture><span class="fpd-price"></span>'}).appendTo(A);FPDUtil.setItemPrice(f,a),""===c&&FPDUtil.loadGridImage(f.children("picture"),b.previewURL),d&&(FPDUtil.createScrollbar(z),FPDUtil.refreshLazyLoad(A,!1))}),B=!1}).fail(function(a,b){z.prevAll(".fpd-loader-wrapper:first").addClass("fpd-hidden"),FPDUtil.log(b)})},V=function(b,d,e){b=void 0===b?"search":b,e=void 0===e?!0:e,I=b,J=d,H=!0;var f=location.protocol+"//api.depositphotos.com?dp_apikey="+E;"search"==b?(f+="&dp_command=search&dp_search_limit=40&dp_search_offset="+L+"&dp_search_query="+encodeURIComponent(d),K&&(f+="&dp_search_categories="+encodeURIComponent(K))):"search-cats"==b?f+="&dp_command=search&dp_search_limit=40&dp_search_offset="+L+"&dp_search_categories="+encodeURIComponent(d):"list-cats"==b&&(f+="&dp_command=getCategoriesList&dp_lang="+a.mainOptions.depositphotosLang),e&&G.empty(),F.prev(".fpd-head").toggleClass("fpd-cats-shown","list-cats"==b).prev(".fpd-loader-wrapper").removeClass("fpd-hidden"),$.getJSON(f,function(d){F.prevAll(".fpd-loader-wrapper:first").addClass("fpd-hidden");var f;f="list-cats"==b?$.map(d.result,function(a,b){return[[b,a]]}):d.result,f.length>0&&f.forEach(function(d){if("list-cats"==b)$("<div/>",{"class":"fpd-category fpd-item","data-category":d[0],html:"<span>"+d[1]+"</span>"}).appendTo(G);else if(0==F.prev(".fpd-cats-shown").length){var f=$("<div/>",{"class":"fpd-item "+c,"data-title":d.title,"data-source":d.url_big,"data-price":a.mainOptions.depositphotosPrice,html:'<picture data-img="'+d.thumb_huge+'"></picture><span class="fpd-price"></span>'}).appendTo(G);f.data("options",{depositphotos:{id:d.id,itemURL:d.itemurl},price:a.mainOptions.depositphotosPrice}),FPDUtil.setItemPrice(f,a),""===c&&FPDUtil.loadGridImage(f.children("picture"),d.previewURL)}e&&(FPDUtil.createScrollbar(F),FPDUtil.refreshLazyLoad(G,!1))}),H=!1}).fail(function(a,b){FPDUtil.log(b)})},W=function(b){var c=b.data("title")?b.data("title"):null,d=b.data("options")?b.data("options"):{};d=$.extend({},d,{_addToUZ:a.currentViewInstance.currentUploadZone}),u&&0==b.parents('[data-context="upload"]').length?N(b.data("source"),c,d):(a._loadingCustomImage=!0,a.addCustomImage(b.data("source"),c,d))};M()},FPDTextLayersModule={createList:function(a,b){var c,d=!1;b.off();var e=function(c){var d="";if(FPDUtil.elementHasColorSelection(c)){var e=FPDUtil.elementAvailableColors(c,a),f="";if(e.length>1){d=$('<div class="fpd-color-palette fpd-grid"></div>');for(var g=0;g<e.length;++g){var h=a.mainOptions.hexNames[e[g].replace("#","").toLowerCase()];h=h?h:e[g];var i='<div class="fpd-item fpd-tooltip" title="'+h+'" style="background-color: '+e[g]+'" data-color="'+e[g]+'"></div>';d.append(i)}}else f=c.fill?c.fill:e[0],d=$('<div class="fpd-color-picker"><input class="fpd-current-color" type="text" value="'+f+'" /></div>')}var j=1===c.maxLines?'<input type="text" value="'+c.text+'">':"<textarea>"+c.text+"</textarea>";b.find(".fpd-list").append('<div class="fpd-text-layer-item" id="'+c.id+'"><div class="fpd-title">'+c.title+'</div><div class="fpd-text-layer-content">'+j+'<span class="fpd-text-layer-clear">'+a.getTranslation("modules","text_layers_clear")+'</span></div><div class="fpd-text-layer-meta"></div></div>');var k=b.find(".fpd-text-layer-item:last").data("element",c).data("colors",e),l=$.isArray(a.mainOptions.fonts)?a.mainOptions.fonts:[];k.find(".fpd-text-layer-meta").append('<div class="fpd-text-layer-styles"></div>'),l.length>0&&(k.find(".fpd-text-layer-styles").append('<div class="fpd-text-layer-font-family fpd-dropdown fpd-search"><input type="text" class="fpd-dropdown-current" value="'+c.fontFamily+'" style="font-family: '+c.fontFamily+'"><div class="fpd-dropdown-arrow"><span class="fpd-icon-arrow-dropdown"></span></div><div class="fpd-dropdown-list"><div class="fpd-scroll-area"></div></div></div>'),l.forEach(function(a){"object"==typeof a&&(a=a.name),$("<span/>",{"class":"fpd-item","data-value":a,html:a,css:{fontFamily:a}}).appendTo(k.find(".fpd-text-layer-font-family .fpd-scroll-area"))})),(c.resizable||c.__editorMode)&&k.find(".fpd-text-layer-styles").append('<input type="number" class="fpd-text-layer-font-size fpd-tooltip" title="'+a.getTranslation("toolbar","font_size")+'" value="'+c.fontSize+'" min="'+c.minFontSize+'" min="'+c.maxFontSize+'" />'),k.find(".fpd-text-layer-meta").append(d),FPDUtil.createScrollbar(k.find(".fpd-scroll-area")),FPDUtil.updateTooltip(k)};b.find(".fpd-current-color").spectrum("destroy"),b.find(".fpd-list").empty(),a.getElements(a.currentViewIndex).forEach(function(a){FPDUtil.elementIsEditable(a)&&"text"===FPDUtil.getType(a.type)&&e(a)}),b.find("input.fpd-current-color").spectrum("destroy").spectrum({flat:!1,preferredFormat:"hex",showInput:!0,showInitial:!0,showPalette:a.mainOptions.colorPickerPalette&&a.mainOptions.colorPickerPalette.length>0,palette:a.mainOptions.colorPickerPalette,showButtons:!1,show:function(b){FPDUtil.spectrumColorNames($(this).spectrum("container"),a);var c=$(this).parents(".fpd-text-layer-item:first").data("element");c._tempFill=b.toHexString()},move:function(b){var c=$(this).parents(".fpd-text-layer-item:first").data("element");(d===!1||"png"!==FPDUtil.elementIsColorizable(c))&&a.currentViewInstance.changeColor(c,b.toHexString())},change:function(b){$(document).unbind("click.spectrum");var c=$(this).parents(".fpd-text-layer-item:first").data("element");a.currentViewInstance.setElementParameters({fill:b.toHexString()},c)}}).on("beforeShow.spectrum",function(){c&&(c.remove(),c=null)}).on("dragstart.spectrum",function(){d=!0}).on("dragstop.spectrum",function(b,c){d=!1;var e=$(this).parents(".fpd-text-layer-item:first").data("element");a.currentViewInstance.changeColor(e,c.toHexString())}),b.on("click",".fpd-color-palette .fpd-item",function(b){b.stopPropagation();var c=$(this),d=c.parents(".fpd-text-layer-item"),e=d.data("element"),f=c.data("color");d.find(".fpd-current-color").css("background",f),a.currentViewInstance.setElementParameters({fill:f},e)}),b.on("click",".fpd-text-layer-clear",function(b){b.stopPropagation();var c=$(this),d=c.parents(".fpd-text-layer-item"),e=d.data("element");a.currentViewInstance.setElementParameters({text:""},e),d.find(".fpd-text-layer-content > *").val("")}),b.on("keyup",'textarea, .fpd-text-layer-content input[type="text"]',function(b){b.stopPropagation();var c=$(this),d=c.parents(".fpd-text-layer-item").data("element");a.mainOptions.disableTextEmojis&&(this.value=this.value.replace(FPDEmojisRegex,""),this.value=this.value.replace(String.fromCharCode(65039),"")),a.currentViewInstance.setElementParameters({text:this.value},d),this.value=d.text}).on("change",".fpd-text-layer-font-size",function(){var b=$(this),c=b.parents(".fpd-text-layer-item").data("element");a.currentViewInstance.setElementParameters({fontSize:parseInt(this.value)},c),this.value=c.fontSize}).on("click",".fpd-text-layer-font-family.fpd-dropdown",function(){$(this).toggleClass("fpd-active")}).on("keyup",".fpd-text-layer-font-family .fpd-dropdown-current",function(){var a=$(this).nextAll(".fpd-dropdown-list").find(".fpd-item");a.hide(),0===this.value.length?a.show():a.filter(':containsCaseInsensitive("'+this.value+'")').show()}).on("click",".fpd-text-layer-font-family .fpd-item",function(){var b=$(this),c=b.parents(".fpd-text-layer-item").data("element");b.parents(".fpd-dropdown").children(".fpd-dropdown-current").val(b.text()),a.currentViewInstance.setElementParameters({fontFamily:b.data("value")},c)});var f=function(a,c,d){d.text?b.find(".fpd-list").find('[id="'+c.id+'"] textarea, [id="'+c.id+'"] .fpd-text-layer-content input[type="text"]').val(d.text):d.fontSize?b.find(".fpd-list").find('[id="'+c.id+'"] .fpd-text-layer-font-size').val(d.fontSize):d.fontFamily&&b.find(".fpd-list").find('[id="'+c.id+'"] .fpd-text-layer-font-family > .fpd-dropdown-current').val(d.fontFamily).css("font-family",d.fontFamily)};a.$container.off("elementModify",f),a.$container.on("elementModify",f);var g=function(a,c,d){var e=b.find(".fpd-list").find('[id="'+c.id+'"] .fpd-current-color');e.is("input")?e.spectrum("set",d):e.css("background",d)};a.$container.off("elementColorChange",g),a.$container.on("elementColorChange",g)}},FPDLayoutsModule=function(a,b){"use strict";$=jQuery;var c=[],d=0,e=0,f=b.find(".fpd-scroll-area"),g=function(a){$.isArray(a)&&(c=a,f.find(".fpd-grid").empty(),a.forEach(function(a){$("<div/>",{"class":"fpd-item fpd-tooltip",title:a.title,html:'<picture style="background-image: url('+a.thumbnail+'");"></picture>'}).appendTo(f.find(".fpd-grid"))}),FPDUtil.updateTooltip(f.find(".fpd-grid")),FPDUtil.createScrollbar(f))},h=function(b,c,f,g){d++;var h=g+"<br>"+String(d)+"/"+e;a.$container.find(".fpd-loader-text").html(h)},i=function(){a.$container.on("productCreate",function(a,b){b.length>0&&g(b[0].options.layouts)}),f.on("click",".fpd-item",function(){if(a.productCreated){var b=FPDUtil.showModal(a.getTranslation("modules","layouts_confirm_replacement"),!1,"confirm",a.$modalContainer),g=f.find(".fpd-item").index($(this));b.find(".fpd-confirm").text(a.getTranslation("modules","layouts_confirm_button")).click(function(){d=0;var f=$(a.currentViewInstance);e=c[g].elements.length,f.on("beforeElementAdd",h),a.toggleSpinner(!0),a.currentViewInstance.loadElements(c[g].elements,function(){a.toggleSpinner(!1),f.off("beforeElementAdd",h)}),a.$viewSelectionWrapper.find(".fpd-item").eq(a.currentViewIndex).children("picture").css("background-image","url("+c[g].thumbnail+")"),b.find(".fpd-modal-close").click()})}})};i()},FancyProductDesigner=function(a,b){"use strict";$=jQuery;var c,d,e,f,g,h,i,j=this,k=$(window),l=$("body"),m=null,n=null,o=[],p=!1,q=!1,r=!1,s=!1,t="",u=0,v=0,w="";this.products=[],this.designs=[],this.currentCategoryIndex=0,this.currentProductIndex=0,this.currentViewIndex=0,this.currentPrice=0,this.singleProductPrice=0,this.currentViews=null,this.currentViewInstance=null,this.currentElement=null,this.langJson=null,this.mainOptions,this.$productStage=null,this.$elementTooltip=null,this.watermarkImg=null,this.productCreated=!1,this.doUnsavedAlert=!1,this.viewInstances=[],this.colorLinkGroups={},this.orderQuantity=1,this.bulkVariations=null,this.pricingRulesPrice=0,this.$modalContainer=$("body"),this.languageJSON={toolbar:{},actions:{},modules:{},misc:{},image_editor:{},plus:{}},this._order={},this._loadingCustomImage=!1;var x=new FancyProductDesignerOptions;this.mainOptions=x.merge(x.defaults,b);var y=function(){if($.expr[":"].containsCaseInsensitive=$.expr.createPseudo(function(a){return function(b){return $(b).text().toUpperCase().indexOf(a.toUpperCase())>=0}}),e=a instanceof jQuery?a:$(a),j.$modalContainer=j.mainOptions.openModalInDesigner?e:$("body"),t=e.attr("class")?e.attr("class"):"",j.mainOptions.mainBarContainer=j.mainOptions.modalMode!==!1?!1:j.mainOptions.mainBarContainer,j.mainOptions.mainBarContainer&&e.removeClass("fpd-sidebar").addClass("fpd-topbar"),j.mainOptions.fabricCanvasOptions.allowTouchScrolling||e.addClass("fpd-disable-touch-scrolling"),e.addClass("fpd-device-"+FPDUtil.getDeviceByScreenSize()),j.$container=e.data("instance",j),c=e.children(".fpd-category").length>0?e.children(".fpd-category").remove():e.children(".fpd-product").remove(),d=e.find(e.find(".fpd-design > .fpd-category").length>0?".fpd-design > .fpd-category":".fpd-design > img"),e.children(".fpd-design").remove(),j.mainOptions.modalMode){e.removeClass("fpd-hidden"),l.addClass("fpd-modal-mode-active");var b=e.wrap('<div class="fpd-modal-product-designer fpd-modal-overlay fpd-fullscreen"><div class="fpd-modal-wrapper"></div></div>').parents(".fpd-modal-overlay:first"),g=!1;b.children().append('<div class="fpd-done fpd-btn" data-defaulttext="Done">misc.modal_done</div><div class="fpd-modal-close"><span class="fpd-icon-close"></span></div>'),$(j.mainOptions.modalMode).addClass("fpd-modal-mode-btn").click(function(a){a.preventDefault(),l.addClass("fpd-overflow-hidden").removeClass("fpd-modal-mode-active"),b.addClass("fpd-fullscreen").fadeIn(300),j.currentViewInstance&&(j.currentViewInstance.resetCanvasSize(),j.resetZoom());var c=f.children(".fpd-navigation").children(".fpd-active");c.length>0&&j.mainBar.callModule(c.data("module"));var d=null;if(!g&&!j.mainOptions.editorMode&&j.currentViewInstance)for(var e=j.currentViewInstance.stage.getObjects(),h=0;h<e.length;++h){var i=e[h];i.autoSelect&&!i.hasUploadZone&&(d=i)}setTimeout(function(){d&&(j.currentViewInstance.stage.setActiveObject(d),j.currentViewInstance.stage.renderAll())},300),g=!0,j.$container.trigger("modalDesignerOpen")}),b.find(".fpd-done").click(function(){b.find(".fpd-modal-close").click(),j.$container.trigger("modalDesignerClose")})}var h=document.createElement("canvas"),i=Boolean(h.getContext&&h.getContext("2d")),k=j.mainOptions.templatesDirectory?9:8;if(!i||FPDUtil.isIE()&&Number(FPDUtil.isIE())<=k)return J("canvaserror",j.mainOptions.templatesType,0,function(a){e.append($.parseHTML(a)).fadeIn(300),e.trigger("templateLoad",[this.url])}),e.trigger("canvasFail"),!1;var m=Object.keys(j.mainOptions.hexNames),n=(m.length,{});Object.keys(j.mainOptions.hexNames).forEach(function(a){n[a.toLowerCase()]=j.mainOptions.hexNames[a]}),j.mainOptions.hexNames=n,j.mainOptions.fonts&&j.mainOptions.fonts.length>0&&("object"==typeof j.mainOptions.fonts[0]?j.mainOptions.fonts.sort(function(a,b){var c=a.name.toUpperCase(),d=b.name.toUpperCase();return d>c?-1:c>d?1:0}):j.mainOptions.fonts.sort()),"undefined"!=typeof FancyProductDesignerPlus&&FancyProductDesignerPlus.setup(e,j),"undefined"!=typeof FPDPricingRules&&(j.pricingRulesInstance=new FPDPricingRules(e,j)),j.mainOptions.langJSON!==!1?"object"==typeof j.mainOptions.langJSON?(j.langJson=j.mainOptions.langJSON,e.trigger("langJSONLoad",[j.langJson]),z()):$.getJSON(j.mainOptions.langJSON).done(function(a){j.langJson=a,e.trigger("langJSONLoad",[j.langJson]),z()}).fail(function(){FPDUtil.showModal('Language JSON "'+j.mainOptions.langJSON+'" could not be loaded or is not valid. Make sure you set the correct URL in the options and the JSON is valid!'),e.trigger("langJSONLoad",[j.langJson])}):z()},z=function(){var a='<div class="fpd-loader-wrapper"><div class="fpd-loader"><div class="fpd-loader-circle"></div><span class="fpd-loader-text" data-defaulttext="Initializing Product Designer">misc.initializing</span></div></div>',b='<div class="fpd-element-tooltip" style="display: none;">misc.out_of_bounding_box</div>';j.$mainWrapper=e.addClass("fpd-container fpd-clearfix fpd-grid-columns-"+j.mainOptions.gridColumns).html(a+'<div class="fpd-main-wrapper">'+b+'<div class="fpd-snap-line-h"></div><div class="fpd-snap-line-v"></div><div class="fpd-product-stage" style="width:'+j.mainOptions.stageWidth+"px;height: "+j.mainOptions.stageHeight+'px;"></div><div class="fpd-actions-container"></div></div>').children(".fpd-main-wrapper"),j.$actionsWrapper=j.$mainWrapper.children(".fpd-actions-container"),j.mainOptions.editorMode||e.after('<div class="fpd-device-info">'+j.getTranslation("misc","not_supported_device_info")+"</div>"),j.$mainWrapper.prepend('<div class="fpd-modal-lock"><div class="fpd-toggle-lock"><span class="fpd-icon-unlocked"></span><span class="fpd-icon-locked"></span><div>'+j.getTranslation("misc","view_optional_unlock")+"</div></div></div>"),j.$productStage=j.$mainWrapper.children(".fpd-product-stage"),j.$elementTooltip=j.$mainWrapper.children(".fpd-element-tooltip"),g=e.children(".fpd-loader-wrapper"),j.translateElement(g.find(".fpd-loader-text")),w=j.translateElement(j.$elementTooltip),j.mainOptions.modalMode&&j.translateElement(l.find(".fpd-modal-overlay .fpd-done")),"string"==typeof j.mainOptions.editorMode&&(m=$('<div class="fpd-editor-box"><h5></h5><div class="fpd-clearfix"></div></div>'),$(j.mainOptions.editorMode).append(m)),l.on("focus blur",'[class^="fpd-element-toolbar"] textarea, [class^="fpd-element-toolbar"] input[type="number"], [class^="fpd-element-toolbar"] input[type="text"]',function(a){s="focusin"==a.type}),j.$container.on("screenSizeChange",function(a,b){"smartphone"===b?j.$actionsWrapper.insertBefore(j.$mainWrapper):j.$actionsWrapper.appendTo(j.$mainWrapper)});var c="";k.resize(function(){if(!(s||(j.currentViewInstance&&j.currentViewInstance.resetCanvasSize(),j.mainBar&&j.mainBar.$content&&j.$container.filter('[class*="fpd-off-canvas-"]').length>0&&j.mainBar.$content.height(j.$mainWrapper.height()),j.actions&&(j.actions.hideAllTooltips(),q||j.resetZoom()),j.currentElement&&$(document.activeElement).is(":not(input)")&&$(document.activeElement).is(":not(textarea)")&&j.deselectElement(),j.currentElement&&j.currentElement.isEditing||j.mainOptions.editorMode))){var a=FPDUtil.getDeviceByScreenSize();"smartphone"==a?!j.$container.hasClass("fpd-topbar")&&j.mainBar&&(j.$container.removeClass("fpd-sidebar").addClass("fpd-topbar"),j.mainBar.setContentWrapper("draggable-dialog")):"tablet"==a||"desktop"==a&&-1===t.search("fpd-topbar")&&j.$container.hasClass("fpd-topbar")&&(j.$container.removeClass("fpd-topbar").addClass("fpd-sidebar"),j.mainBar&&!j.mainOptions.mainBarContainer&&j.mainBar.setContentWrapper("sidebar")),c!==a&&e.trigger("screenSizeChange",[a]),j.currentViewInstance&&j.currentViewInstance.resetCanvasSize(),c=a}}),j.loadFonts(j.mainOptions.fonts,function(){j.mainOptions.templatesDirectory?J("productdesigner",j.mainOptions.templatesType,0,A):B()})},A=function(a){e.trigger("templateLoad",[this.url]),h=$(a),h.find("[data-defaulttext]").each(function(a,b){j.translateElement($(b))}),j.translatedUI=h,j.mainOptions.mainBarContainer?(e.addClass("fpd-main-bar-container-enabled"),f=$(j.mainOptions.mainBarContainer).addClass("fpd-container fpd-main-bar-container fpd-tabs fpd-tabs-top fpd-sidebar fpd-grid-columns-"+j.mainOptions.gridColumns).html(h.children(".fpd-mainbar")).children(".fpd-mainbar")):f=e.prepend(h.children(".fpd-mainbar")).children(".fpd-mainbar"),i=h.children(".fpd-modules"),e.hasClass("fpd-sidebar")?e.height(j.mainOptions.stageHeight):e.width(j.mainOptions.stageWidth),l.on("click",".fpd-module-tabs > div",function(){var a=$(this),b=$(this).data("context");a.addClass("fpd-active").siblings().removeClass("fpd-active"),a.parent().next(".fpd-module-tabs-content").children().hide().filter('[data-context="'+b+'"]').show()}),j.mainOptions.mainBarModules&&(j.mainBar=new FPDMainBar(j,f,i,h.children(".fpd-draggable-dialog"))),j.mainOptions.actions&&(j.actions=new FPDActions(j,h.children(".fpd-actions"))),e.trigger("uiSet");var b=h.children(".fpd-element-toolbar");-1!==["smart","inside-bottom","inside-top"].indexOf(j.mainOptions.toolbarPlacement)?(b=h.children(".fpd-element-toolbar-smart"),j.toolbar=new FPDToolbarSmart(b,j)):j.toolbar=new FPDToolbar(b,j),e.on("elementSelect",function(a,c){if(a.stopPropagation(),a.preventDefault(),c&&!c._ignore&&j.currentViewInstance){if(c.uploadZone&&!j.mainOptions.editorMode){c.set("borderColor","transparent");var d=$.extend({},j.currentViewInstance.options.customAdds,c.customAdds?c.customAdds:{});return void setTimeout(function(){j.currentViewInstance.currentUploadZone=c.title,j.mainBar.toggleUploadZoneAdds(d),j.mainBar.toggleUploadZonePanel()},100)}j.currentViewInstance.currentUploadZone&&(j.mainBar.toggleDialog(!1),j.mainBar.toggleUploadZonePanel(!1)),j.toolbar.update(c),j.mainOptions.openTextInputOnSelect&&"text"===FPDUtil.getType(c.type)&&c.editable&&b.find(".fpd-tool-edit-text").click(),
G(c)}else j.toolbar.toggle(!1),l.children('[class^="fpd-element-toolbar"]').find("input").spectrum("destroy")}).on("elementChange",function(a,b,c){c._ignore||j.toolbar.toggle(!1,!1),j.mainOptions.fabricCanvasOptions.allowTouchScrolling&&(e.addClass("fpd-disable-touch-scrolling"),j.currentViewInstance.stage.allowTouchScrolling=!1)}).on("elementModify",function(a,b,c){if(j.productCreated&&!b._ignore&&(j.toolbar.isTransforming||(void 0!==c.fontSize&&j.toolbar.updateUIValue("fontSize",Number(c.fontSize)),void 0!==c.scaleX&&j.toolbar.updateUIValue("scaleX",parseFloat(Number(c.scaleX).toFixed(2))),void 0!==c.scaleY&&j.toolbar.updateUIValue("scaleY",parseFloat(Number(c.scaleY).toFixed(2))),void 0!==c.angle&&j.toolbar.updateUIValue("angle",parseInt(c.angle)),void 0!==c.text&&j.toolbar.updateUIValue("text",c.text),j.currentElement&&!j.currentElement.uploadZone&&j.toolbar.updatePosition(j.currentElement)),c.text&&b.textLinkGroup.length>0))for(var d=0;d<j.viewInstances.length;++d)j.viewInstances[d].fCanv.getObjects().forEach(function(a){a!==b&&"text"===FPDUtil.getType(a.type)&&a.textLinkGroup===b.textLinkGroup&&(a.set("text",b.text),e.trigger("_doPricingRules"))})}).on("screenSizeChange",function(a,b){e.removeClass("fpd-device-smartphone fpd-device-tablet fpd-device-desktop").addClass("fpd-device-"+b)}),$(".fpd-switch-container").click(function(){function a(b,c){j.currentViewInstance.stage.setActiveObject(c),e.off("elementAdd",a),setTimeout(function(){$(".fpd-tool-curved-text").click()},100)}var b=$(this);if(b.hasClass("fpd-curved-text-switcher")){var c=j.currentViewInstance.getZIndex(j.currentElement),d=j.currentElement.get("text"),f=j.currentViewInstance.getElementJSON(j.currentElement);f.z=c,f.curved="i-text"==j.currentElement.type,f.textAlign="center",e.on("elementAdd",a),j.currentViewInstance.removeElement(j.currentElement),j.currentViewInstance.addElement("text",d,d,f)}}),$(".fpd-dropdown").click(function(){$(this).toggleClass("fpd-active")}),B()},B=function(){j.mainOptions.watermark&&j.mainOptions.watermark.length>3&&fabric.Image.fromURL(j.mainOptions.watermark,function(a){j.watermarkImg=a},{crossOrigin:"anonymous"}),j.mainOptions.unsavedProductAlert&&(window.onbeforeunload=function(){return j.doUnsavedAlert?"":void 0});var a=!1;l.on("click",".fpd-modal-close",function(){var a=$(this);a.parents(".fpd-modal-product-designer:first").length&&l.addClass("fpd-modal-mode-active"),a.parents(".fpd-modal-overlay:first").fadeOut(200,function(){a.removeClass("fpd-fullscreen"),l.removeClass("fpd-overflow-hidden");var b=$(this);b.hasClass("fpd-modal-product-designer")||b.trigger("modalRemove").remove(),e.trigger("modalClose")}),a.parents(".fpd-modal-product-designer:first").length>0&&j.deselectElement()}).on("mouseup touchend",function(b){var c=$(b.target);0===c.closest('.fpd-container, [class^="fpd-element-toolbar"], .sp-container').length&&j.mainOptions.deselectActiveOnOutside&&!a&&j.deselectElement(),0===c.closest(".fpd-container, .fpd-modal-internal").length&&j.currentViewInstance&&j.currentViewInstance.currentUploadZone&&g.is(":hidden")&&j.mainBar.toggleUploadZonePanel(!1),a=!1}).on("mouseover mouseout mousemove click",'[data-module="designs"] .fpd-item, [data-module="images"] .fpd-item, [data-module="products"] .fpd-item',function(a){var b=$(this),c=null;if(j.currentViewInstance&&j.currentViewInstance.currentUploadZone&&$(a.target).parents(".fpd-upload-zone-adds-panel").length>0){var d=j.currentViewInstance.getUploadZone(j.currentViewInstance.currentUploadZone);d&&d.price&&(c=d.price)}if("mouseover"===a.type&&b.data("source")){if(b.parents(".mCustomScrollBox:first").next(".mCSB_scrollTools_onDrag").length)return;n=$('<div class="fpd-thumbnail-preview"><picture></picture></div>'),FPDUtil.loadGridImage(n.children("picture"),b.children("picture").data("img")),b.parents('[data-module="images"]:first').length>0&&null===c?isNaN(b.data("price"))?j.currentViewInstance&&j.currentViewInstance.options.customImageParameters.price&&(c=j.currentViewInstance.options.customImageParameters.price):c=b.data("price"):(b.data("title")&&(n.addClass("fpd-title-enabled"),n.append('<div class="fpd-preview-title">'+b.data("title")+"</div>")),b.data("parameters")&&b.data("parameters").price&&null===c&&(c=b.data("parameters").price)),c&&n.append('<div class="fpd-preview-price">'+j.formatPrice(c)+"</div>"),l.append(n)}if(null!==n)if("mousemove"===a.type||"mouseover"===a.type){var e=a.pageX+10+n.outerWidth()>k.width()?k.width()-n.outerWidth():a.pageX+10;n.css({left:e,top:a.pageY+10})}else("mouseout"===a.type||"click"==a.type)&&(n.siblings(".fpd-thumbnail-preview").remove(),n.remove())}).on("mousedown",function(b){var c=$(b.target);a=c.is("textarea")&&c.data("control")?!0:!1}).on("click",".fpd-gt-close",function(){FPDUtil.localStorageAvailable()&&window.localStorage.setItem("fpd-gt-closed","yes"),$(this).parent(".fpd-gt-step").remove()}).on("click",".fpd-gt-next, .fpd-gt-back",function(){j.selectGuidedTourStep($(this).data("target"))}),j.$container.on("productCreate modalDesignerOpen",function(a){function b(a){var b=j.viewInstances[a.viewIndex];if(b){var d=a.element;b.addElement(FPDUtil.getType(d.type),d.source,d.title,b.getElementJSON(d))}else c()}function c(){f++,f<o.length?b(o[f]):e.off("elementAdd",c)}if((!r&&!j.mainOptions.modalMode||!r&&"modalDesignerOpen"===a.type)&&(j.mainOptions.autoOpenInfo&&j.$container.find('[data-action="info"]').click(),j.mainOptions.guidedTour&&Object.keys(j.mainOptions.guidedTour).length>0)){var d=Object.keys(j.mainOptions.guidedTour)[0];FPDUtil.localStorageAvailable()?"yes"!==window.localStorage.getItem("fpd-gt-closed")&&j.selectGuidedTourStep(d):j.selectGuidedTourStep(d)}if("productCreate"==a.type&&o.length>0){var f=0;e.on("elementAdd",c),b(o[0])}r=j.mainOptions.modalMode&&"modalDesignerOpen"===a.type}).on("viewSelect",function(a,b,c){c.options,$('[data-module="designs"] .fpd-item, [data-module="images"] .fpd-item');$('[data-module="designs"] .fpd-item, [data-module="images"] .fpd-item').each(function(){FPDUtil.setItemPrice($(this),j)})}).on("secondaryModuleCalled",function(a,b,c){FPDUtil.setItemPrice(c.find(".fpd-item"),j)}),j.$mainWrapper.on("click",".fpd-modal-lock > .fpd-toggle-lock",function(){$(this).parents(".fpd-modal-lock:first").toggleClass("fpd-unlocked"),j.currentViewInstance.toggleLock(!j.currentViewInstance.locked)}),j.mainOptions.productsJSON?"object"==typeof j.mainOptions.productsJSON?j.setupProducts(j.mainOptions.productsJSON):$.getJSON(j.mainOptions.productsJSON).done(function(a){j.setupProducts(a)}).fail(function(){FPDUtil.showModal("Products JSON could not be loaded. Please check that your URL is correct!<br>URL: <i>"+j.mainOptions.productsJSON+"</i>")}):C(c),j.mainOptions.designsJSON?"object"==typeof j.mainOptions.designsJSON?j.setupDesigns(j.mainOptions.designsJSON):$.getJSON(j.mainOptions.designsJSON).done(function(a){j.setupDesigns(a)}).fail(function(){FPDUtil.showModal("Designs JSON could not be loaded. Please check that your URL is correct!<br>URL: <i>"+j.mainOptions.designsJSON+"</i>")}):D(d),e.trigger("ready"),k.resize()},C=function(a){a.length&&FPDUtil.log("FPD: Creating products from HTML is deprecated, use a JSON file to store your products. Please check out the documentation!","warn");var b=[],c=function(a,c){for(var d=0;d<a.length;++d){var e=$(a.get(d)).children(".fpd-product");e.splice(0,0,a.get(d));var f=[];if(e.each(function(a,b){var c=$(b),d={title:b.title,thumbnail:c.data("thumbnail"),elements:[],options:c.data("options")};d.mask=c.data("mask")?c.data("mask"):null,0===a&&(c.data("producttitle")&&(d.productTitle=c.data("producttitle")),c.data("productthumbnail")&&(d.productThumbnail=c.data("productthumbnail"))),c.children("img,span").each(function(a,b){var c,e=$(b);c=e.is("img")?void 0==e.data("src")?e.attr("src"):e.data("src"):e.text();var f={type:e.is("img")?"image":"text",source:c,title:e.attr("title"),parameters:void 0==e.data("parameters")||e.data("parameters").length<=2?{}:e.data("parameters")};d.elements.push(f)}),f.push(d)}),c){var g=$.map(b,function(a,b){return a.category==c?b:void 0}).shift();isNaN(g)&&(g=b.length,b.push({category:c,products:[]})),b[g].products.push(f)}else b.push(f)}};a.is(".fpd-category")&&a.filter(".fpd-category").length>1?a.each(function(a,b){var d=$(b);c(d.children(".fpd-product"),d.attr("title"))}):(a=0===a.filter(".fpd-category").length?a:a.children(".fpd-product"),c(a,!1)),b.length>0&&j.setupProducts(b)},D=function(a){var b=function(a,c){a.each(function(a,d){var e=$(d),f={title:e.attr("title"),thumbnail:e.data("thumbnail")};if(e.data("parameters")&&(f.parameters=e.data("parameters")),c?c.push(f):j.designs.push(f),e.children(".fpd-category").length>0)f.category=[],b(e.children(".fpd-category"),f.category);else{var g=[];e.children("img").each(function(a,b){var c=$(b),d={source:void 0===c.data("src")?c.attr("src"):c.data("src"),title:c.attr("title"),parameters:c.data("parameters"),thumbnail:c.data("thumbnail")};g.push(d)}),f.designs=g}})};if(a.length>0){if(FPDUtil.log("FPD: Creating designs from HTML is deprecated, use a JSON file to store your products. Please check out the documentation!","warn"),a.filter(".fpd-category").length>1||a.filter(".fpd-category:first").children(".fpd-category").length>0)b(a.filter(".fpd-category"));else{var c=a;c.hasClass("fpd-category")&&(c=c.children("img")),c.each(function(a,b){var c=$(b),d={source:void 0===c.data("src")?c.attr("src"):c.data("src"),title:c.attr("title"),parameters:c.data("parameters"),thumbnail:c.data("thumbnail")};j.designs.push(d)})}a.remove(),j.setupDesigns(j.designs)}},E=function(a){var b=$.map(j.products,function(b,c){return b.category==a?c:void 0}).shift();return isNaN(b)?!1:b},F=function(a,b){0===a.length?j.$actionsWrapper.find('[data-action="undo"]').addClass("fpd-disabled"):j.$actionsWrapper.find('[data-action="undo"]').removeClass("fpd-disabled"),0===b.length?j.$actionsWrapper.find('[data-action="redo"]').addClass("fpd-disabled"):j.$actionsWrapper.find('[data-action="redo"]').removeClass("fpd-disabled")},G=function(a){if(null!==m){m.children("div").empty(),m.children("h5").text(a.title);for(var b=0;b<j.mainOptions.editorBoxParameters.length;++b){var c=j.mainOptions.editorBoxParameters[b],d=a[c];void 0!==d&&(d="number"==typeof d?d.toFixed(2):d,d="object"==typeof d&&d.source?d.source.src:d,"fill"===c&&a.type===FPDPathGroupName&&(d=a.svgFill),m.children("div").append("<p><i>"+c+'</i>: <input type="text" value="'+d+'" readonly /></p>'))}}},H=function(){if(j.viewInstances.length<j.currentViews.length)j.addView(j.currentViews[j.viewInstances.length]);else{if(e.off("viewCreate",H),j.toggleSpinner(!1),j.selectView(0),!j.mainOptions.editorMode&&j.currentViewInstance&&$(j.currentViewInstance.stage.getElement()).is(":visible"))for(var a=j.currentViewInstance.stage.getObjects(),b=null,c=0;c<a.length;++c){var d=a[c];d.autoSelect&&!d.hasUploadZone&&(b=d)}b&&j.currentViewInstance&&setTimeout(function(){j.currentViewInstance.stage.setActiveObject(b),b.setCoords(),j.currentViewInstance.stage.renderAll()},10),j.productCreated=!0,j.mainOptions.hideDialogOnAdd&&j.$container.hasClass("fpd-topbar")&&j.mainBar&&j.mainBar.__setup&&j.mainBar.toggleDialog(!1),j.mainBar&&(j.mainBar.__setup=!0),k.resize(),e.trigger("productCreate",[j.currentViews])}},I=function(){var a=j.currentElement;if(a&&j.$elementTooltip&&j.productCreated&&!a.uploadZone&&!a.__editorMode){a.isOut&&"inside"===a.boundingBoxMode?j.$elementTooltip.text(w).show():j.mainOptions.imageSizeTooltip&&"image"===FPDUtil.getType(a.type)?j.$elementTooltip.text(parseInt(a.width*a.scaleX)+" x "+parseInt(a.height*a.scaleY)).show():j.$elementTooltip.hide();var b=a.oCoords;j.$elementTooltip.css({left:j.$productStage.position().left+b.mt.x,top:b.mt.y-10+j.$productStage.position().top})}else j.$elementTooltip&&j.$elementTooltip.hide()},J=function(a,b,c,d){var e=$.isArray(b)?b[c]:b;$.get(j.mainOptions.templatesDirectory+a+"."+e,d).fail(function(){$.isArray(b)&&b[c+1]?J(a,b,++c,d):alert(j.mainOptions.templatesDirectory+a+"."+e+" could not be loaded.")})};this.addProduct=function(a,b){var c=E(b);void 0===b?j.products.push(a):(c===!1&&(c=j.products.length,j.products[c]={category:b,products:[]}),j.products[c].products.push(a)),e.trigger("productAdd",[a,b,c])},this.selectProduct=function(a,b){j.currentCategoryIndex=void 0===b?j.currentCategoryIndex:b;var c;if(j.products&&j.products.length&&j.products[0].category){var d=j.products[j.currentCategoryIndex];c=d.products}else c=j.products;j.currentProductIndex=a,0>a?currentProductIndex=0:a>c.length-1&&(j.currentProductIndex=c.length-1);var f=c[j.currentProductIndex];e.trigger("productSelect",[a,b,f]),j.loadProduct(f,j.mainOptions.replaceInitialElements)},this.loadProduct=function(a,b,c){a&&(b=void 0===b?!1:b,c=void 0===c?!1:c,g.is(":hidden")&&j.toggleSpinner(!0),j.productCreated=!1,j.colorLinkGroups={},o=[],b?o=j.getCustomElements():j.doUnsavedAlert=!1,j.reset(),c&&a.forEach(function(a){a.options=x.merge(j.mainOptions,a.options)}),j.currentViews=a,u=v=0,a.forEach(function(a){u+=a.elements.length}),j.$viewSelectionWrapper=$('<div class="fpd-views-selection fpd-clearfix"></div>'),e.hasClass("fpd-views-outside")||e.hasClass("fpd-device-smartphone")?e.after(j.$viewSelectionWrapper):j.$mainWrapper.append(j.$viewSelectionWrapper),e.on("viewCreate",H),a&&j.addView(a[0]))},this.addView=function(a){var b=j.mainOptions._loadFromScript?j.mainOptions._loadFromScript+a.thumbnail:a.thumbnail;j.$viewSelectionWrapper.append('<div class="fpd-shadow-1 fpd-item fpd-tooltip" title="'+a.title+'"><picture style="background-image: url('+b+');"></picture></div>').children("div:last").click(function(){j.selectView(j.$viewSelectionWrapper.children("div").index($(this)))});var c=$.extend(!0,{},j.mainOptions);delete c.productsJSON,delete c.designsJSON,delete c.guidedTour,delete c.fonts,delete c.pricingRules,delete c.hexNames,delete c.customImageAjaxSettings,delete c.colorPickerPalette,delete c.imageEditorSettings,delete c.mainBarModules,a.options=void 0===a.options&&"object"!=typeof a.options?c:$.extend(!0,{},x.merge(c,a.options));var d=new FancyProductDesignerView(j.$productStage,a,function(a){return 0===$(a.stage.wrapperEl).parent().length?void a.reset():(0==j.viewInstances.length&&a.resetCanvasSize(),j.viewInstances.push(a),void e.trigger("viewCreate",[a]))},j.mainOptions.fabricCanvasOptions);d.stage.on({"object:scaling":function(){},"object:moving":function(){},"object:rotating":function(){}}),$(d).on("beforeElementAdd",function(a,b,c,d){if(!j.productCreated){v++;var e=d+"<br>"+String(v)+"/"+u;g.find(".fpd-loader-text").html(e)}}).on("canvas:mouseUp",function(){j.mainOptions.fabricCanvasOptions.allowTouchScrolling&&(e.removeClass("fpd-disable-touch-scrolling"),j.currentViewInstance.stage.allowTouchScrolling=!0)}).on("elementAdd",function(a,b){if(b){if(j.productCreated&&"image"==FPDUtil.getType(b.type)&&b.isCustom&&(j.toggleSpinner(!1),FPDUtil.showMessage(j.getTranslation("misc","image_added"))),b.colorLinkGroup&&b.colorLinkGroup.length>0&&!j.mainOptions.editorMode){var c=this.getIndex();if(j.colorLinkGroups.hasOwnProperty(b.colorLinkGroup)){if(j.colorLinkGroups[b.colorLinkGroup].elements.push({id:b.id,viewIndex:c}),"object"==typeof b.colors){var f=j.mainOptions.replaceColorsInColorGroup?b.colors:j.colorLinkGroups[b.colorLinkGroup].colors.concat(b.colors);j.colorLinkGroups[b.colorLinkGroup].colors=FPDUtil.arrayUnique(f)}}else j.colorLinkGroups[b.colorLinkGroup]={elements:[{id:b.id,viewIndex:c}],colors:[]},"object"==typeof b.colors&&(j.colorLinkGroups[b.colorLinkGroup].colors=b.colors)}j.productCreated&&j.mainOptions.hideDialogOnAdd&&j.$container.hasClass("fpd-topbar")&&j.mainBar&&j.mainBar.toggleDialog(!1),e.trigger("elementAdd",[b]),e.trigger("viewCanvasUpdate",[d])}}).on("boundingBoxToggle",function(a,b,c){e.trigger("boundingBoxToggle",[b,c])}).on("elementSelect",function(a,b){j.currentElement=b,b?I():(j.$elementTooltip&&j.$elementTooltip.hide(),j.$mainWrapper.children(".fpd-snap-line-h, .fpd-snap-line-v").hide()),e.trigger("elementSelect",[b])}).on("elementChange",function(a,b,c){I(),G(c.getBoundingRect()),e.trigger("elementChange",[b,c])}).on("elementModify",function(a,b,c){I(),e.trigger("elementModify",[b,c]),e.trigger("viewCanvasUpdate",[d])}).on("undoRedoSet",function(a,b,c){j.doUnsavedAlert=!0,F(b,c),e.trigger("undoRedoSet",[b,c])}).on("priceChange",function(a,b){j.currentPrice=j.singleProductPrice=0;for(var c=0;c<j.viewInstances.length;++c)j.viewInstances[c].locked||(j.singleProductPrice+=j.viewInstances[c].truePrice);var d=j.calculatePrice();e.trigger("priceChange",[b,d,j.singleProductPrice])}).on("elementCheckContainemt",function(a,b,c){"inside"===c&&I()}).on("elementColorChange",function(a,b,c,f){if(j.productCreated&&f&&b.colorLinkGroup&&b.colorLinkGroup.length>0){var g=j.colorLinkGroups[b.colorLinkGroup];if(g&&g.elements)for(var h=0;h<g.elements.length;++h){var i=g.elements[h].id,k=g.elements[h].viewIndex,l=j.getElementByID(i,k);l&&l!==b&&c&&j.viewInstances[k].changeColor(l,c,!1)}}e.trigger("elementColorChange",[b,c,f]),e.trigger("viewCanvasUpdate",[d])}).on("elementRemove",function(a,b){e.trigger("elementRemove",[b]),e.trigger("viewCanvasUpdate",[d])}).on("fabricObject:added fabricObject:removed",function(a,b){e.trigger(a.type,[b])}),d.setup(),FPDUtil.updateTooltip(),j.$viewSelectionWrapper.children().length>1?j.$viewSelectionWrapper.show():j.$viewSelectionWrapper.hide()},this.selectView=function(a){if(!(j.viewInstances.length<=0)){if(j.resetZoom(),j.currentViewIndex=a,0>a?j.currentViewIndex=0:a>j.viewInstances.length-1&&(j.currentViewIndex=j.viewInstances.length-1),j.$viewSelectionWrapper.children("div").removeClass("fpd-view-active").eq(a).addClass("fpd-view-active"),j.$mainWrapper.children(".fpd-ruler").remove(),j.currentViewInstance){j.currentViewInstance.undos=[],j.currentViewInstance.redos=[];for(var b=["_snap_lines_group","_ruler_hor","_ruler_ver"],c=0;c<b.length;++c){var d=j.currentViewInstance.getElementByID(b[c]);d&&j.currentViewInstance.stage.remove(d)}j.currentViewInstance._snapElements=!1}if(j.currentViewInstance=j.viewInstances[j.currentViewIndex],j.deselectElement(),j.$productStage.children(".fpd-view-stage").addClass("fpd-hidden").eq(j.currentViewIndex).removeClass("fpd-hidden"),j.currentViewInstance.stage.renderAll(),f&&f.find(".fpd-navigation").length){var g=j.currentViewInstance.options,h=f.find(".fpd-navigation");h.children('[data-module="designs"]').toggleClass("fpd-disabled",!g.customAdds.designs),h.children('[data-module="images"]').toggleClass("fpd-disabled",!g.customAdds.uploads),h.children('[data-module="text"]').toggleClass("fpd-disabled",!g.customAdds.texts),"undefined"!=typeof FPDNamesNumbersModule&&h.children('[data-module="names-numbers"]').toggleClass("fpd-disabled",!j.currentViewInstance.textPlaceholder&&!j.currentViewInstance.numberPlaceholder),h.children('[data-module="drawing"]').toggleClass("fpd-disabled",!g.customAdds.drawing),e.hasClass("fpd-sidebar")?0===h.children(".fpd-active").length||h.children(".fpd-active").hasClass("fpd-disabled")?h.children(":not(.fpd-disabled)").length>0?h.children(":not(.fpd-disabled)").first().click():j.mainBar.$content.children(".fpd-module").removeClass("fpd-active"):0==j.mainBar.$content.children(".fpd-active").length&&j.productCreated&&h.children(":first").click():e.hasClass("fpd-topbar")&&h.children(".fpd-active").hasClass("fpd-disabled")&&j.mainBar.toggleDialog(!1),j.$container.hasClass("fpd-products-module-hidden")&&h.children(".fpd-active").filter('[data-module="products"]').length>0&&h.children(":not(.fpd-disabled)").eq(1).click()}j.mainBar&&j.mainBar.$content&&j.$container.filter('[class*="fpd-off-canvas-"]').length>0&&j.mainBar.$content.height(j.$mainWrapper.height()),F(j.currentViewInstance.undos,j.currentViewInstance.redos),j.$mainWrapper.children(".fpd-modal-lock").removeClass("fpd-animated").toggleClass("fpd-active",j.currentViewInstance.options.optionalView).toggleClass("fpd-unlocked",!j.currentViewInstance.locked),setTimeout(function(){j.$mainWrapper.children(".fpd-modal-lock").addClass("fpd-animated")},1),j.$productStage.width(j.currentViewInstance.options.stageWidth),j.currentViewInstance.resetCanvasSize(),j.currentViewInstance.resetCanvasSize(),e.trigger("viewSelect",[j.currentViewIndex,j.currentViewInstance])}},this.addElement=function(a,b,c,d,e){if(d=void 0===d?{}:d,e=void 0===e?j.currentViewIndex:e,j.viewInstances[e].addElement(a,b,c,d),d.replace&&d.replaceInAllViews)for(var f=0;f<j.viewInstances.length;++f){var g=j.viewInstances[f];e!==f&&null!==g.getElementByReplace(d.replace)&&g.addElement(a,b,c,d,f)}},this.setElementParameters=function(a,b,c){return b=void 0===b?j.stage.getActiveObject():b,c=void 0===c?j.currentViewIndex:c,b&&void 0!==a?void j.viewInstances[c].setElementParameters(a,b):!1},this.reset=function(){null!==j.currentViews&&(e.off("viewCreate",H),j.deselectElement(),j.resetZoom(),j.currentViewIndex=j.currentPrice=j.singleProductPrice=j.pricingRulesPrice=0,j.currentViewInstance=j.currentViews=j.currentElement=null,j.viewInstances.forEach(function(a){a.stage.clear()}),j.$mainWrapper.find(".fpd-view-stage").remove(),l.find(".fpd-views-selection").remove(),j.viewInstances=[],e.trigger("clear"),e.trigger("priceChange",[0,0,0]),p=!0)},this.deselectElement=function(){j.currentViewInstance&&j.currentViewInstance.deselectElement()},this.getProductDataURL=function(a,b,c,d){function e(d){fabric.devicePixelRatio=1,d.toDataURL(function(b){fabric.Image.fromURL(b,function(b){g.add(b),h>0&&(b.set("top",g.getHeight()),g.setDimensions({height:g.getHeight()+d.options.stageHeight*i})),h++,h<k.length?e(k[h]):(delete c.multiplier,a(g.toDataURL(c)),fabric.devicePixelRatio=f,g.dispose(),l.children("#fpd-hidden-canvas").remove(),j.currentViewInstance&&j.currentViewInstance.resetCanvasSize())},{crossOrigin:"anonymous"})},b,c,j.watermarkImg),d.options.stageWidth*i>g.getWidth()&&g.setDimensions({width:d.options.stageWidth*i})}a=void 0===a?function(){}:a,b=void 0===b?"transparent":b,c=void 0===c?{}:c,c.onlyExportable=void 0===c.onlyExportable?!1:c.onlyExportable,c.enableRetinaScaling=void 0===c.enableRetinaScaling?!1:c.enableRetinaScaling,d=void 0===d?[]:d,0===j.viewInstances.length&&a(""),j.resetZoom(),l.append('<canvas id="fpd-hidden-canvas"></canvas>');var f=fabric.devicePixelRatio,g=new fabric.Canvas("fpd-hidden-canvas",{containerClass:"fpd-hidden fpd-hidden-canvas",enableRetinaScaling:!1}),h=0,i=c.multiplier?c.multiplier:1,k=2==d.length?j.viewInstances.slice(d[0],d[1]):j.viewInstances,m=k[0];g.setDimensions({width:m.options.stageWidth*i,height:m.options.stageHeight*i}),e(m)},this.getViewsDataURL=function(a,b,c){a=void 0===a?function(){}:a,b=void 0===b?"transparent":b,c="undefined"===c?{}:c;var d=[];j.resetZoom();for(var e=0;e<j.viewInstances.length;++e)j.viewInstances[e].toDataURL(function(b){d.push(b),d.length===j.viewInstances.length&&a(d)},b,c,j.watermarkImg)},this.getViewsSVG=function(a,b,c){for(var d=[],e=0;e<j.viewInstances.length;++e)d.push(j.viewInstances[e].toSVG(a,b,c));return d},this.toggleSpinner=function(a,b){return a=void 0===a?!0:a,b=void 0===b?"":b,a?g.fadeIn(300).find(".fpd-loader-text").html(b):g.stop().fadeOut(300),g},this.getElementByTitle=function(a,b){var c=!1;return this.getElements(b,"all",!1).some(function(b){return b.title==a?(c=b,!0):void 0}),c},this.getElements=function(a,b,c){a=void 0===a||isNaN(a)?-1:a,b=void 0===b?"all":b,c=void 0===c?!0:c,c&&this.deselectElement();var d=[];if(-1===a)for(var e=0;e<j.viewInstances.length;++e)d=d.concat(j.viewInstances[e].stage.getObjects());else{if(!j.viewInstances[a])return[];d=j.viewInstances[a].stage.getObjects()}if(d=d.filter(function(a){return!a._ignore}),"text"===b){var f=[];return d.forEach(function(a){"text"===FPDUtil.getType(a.type)&&f.push(a)}),f}if("image"===b){var g=[];return d.forEach(function(a){"image"===FPDUtil.getType(a.type)&&g.push(a)}),g}return d},this.print=function(){var a=function(a){for(var b=[],c=0,d=0;d<a.length;++d){var e=new Image;e.src=a[d],e.onload=function(){if(b.push(this),c++,c==a.length){var d=window.open("","","width="+b[0].width+",height="+b[0].height*a.length+",location=no,menubar=no,scrollbars=yes,status=no,toolbar=no");FPDUtil.popupBlockerAlert(d,j),d.document.title="Print Image";for(var e=0;e<b.length;++e)$(d.document.body).append('<img src="'+b[e].src+'" />');setTimeout(function(){d.print()},1e3)}}}};j.getViewsDataURL(a)},this.createImage=function(a,b,c,d,e){a=void 0===a?!0:a,b=void 0===b?!1:b,c=void 0===c?"transparent":c,d=void 0===d?{}:d,e=void 0===e?!1:e;var f=void 0===d.format?"png":d.format,g=function(c){var d=new Image;d.src=c,d.onload=function(){if(a){var c=window.open("","_blank");FPDUtil.popupBlockerAlert(c,j),c.document.title="Product Image",$(c.document.body).append('<img src="'+this.src+'" download="product.'+f+'" />'),b&&(window.location.href=c.document.getElementsByTagName("img")[0].src.replace("image/"+f,"image/octet-stream"))}}};e?j.currentViewInstance.toDataURL(g,c,d):j.getProductDataURL(g,c,d)},this.setZoom=function(a){if(!s&&(q=!1,this.deselectElement(),j.currentViewInstance)){var b=j.currentViewInstance.responsiveScale,c=new fabric.Point(.5*j.currentViewInstance.stage.getWidth(),.5*j.currentViewInstance.stage.getHeight());j.currentViewInstance.stage.zoomToPoint(c,a*b),1==a&&j.resetZoom()}},this.resetZoom=function(){if(q=!0,this.deselectElement(),j.currentViewInstance){var a=j.currentViewInstance.responsiveScale;j.currentViewInstance.stage.zoomToPoint(new fabric.Point(0,0),a),j.currentViewInstance.stage.absolutePan(new fabric.Point(0,0))}},this.getElementByID=function(a,b){return b=void 0===b?j.currentViewIndex:b,j.viewInstances[b]?j.viewInstances[b].getElementByID(a):null},this.getProduct=function(a,b){a=void 0===a?!1:a,b=void 0===b?!1:b;var c=!1,d="all"==j.mainOptions.customizationRequiredRule?"every":"some";if(c=j.viewInstances[d](function(a){return a.isCustomized}),b&&!c)return FPDUtil.showMessage(j.getTranslation("misc","customization_required_info")),!1;this.deselectElement(),this.resetZoom(),j.doUnsavedAlert=!1;var e=this.getElements(),f=[];if(e.forEach(function(a){a.isOut&&"inside"===a.boundingBoxMode&&!a.__editorMode&&(FPDUtil.showMessage(a.title+": "+j.getTranslation("misc","out_of_bounding_box")),f=!1)}),f===!1)return!1;for(var g=0;g<j.viewInstances.length;++g){for(var h=j.viewInstances[g],i=h.getOptions(),e=j.viewInstances[g].stage.getObjects(),k=[],l=0;l<e.length;++l){var m=e[l];if(void 0!==m.title&&void 0!==m.source){var n={title:m.title,source:m.source,parameters:j.viewInstances[g].getElementJSON(m),type:FPDUtil.getType(m.type)};if(i.printingBox&&i.printingBox.hasOwnProperty("left")&&i.printingBox.hasOwnProperty("top")){{var o=m.getPointByOrigin("left","top");new fabric.Point(i.printingBox.left,i.printingBox.top),new fabric.Point(i.printingBox.left+i.printingBox.width,i.printingBox.top+i.printingBox.height)}n.printingBoxCoords={left:o.x-i.printingBox.left,top:o.y-i.printingBox.top}}a?m.isEditable&&k.push(n):k.push(n)}}var p={title:h.title,thumbnail:h.thumbnail,elements:k,options:i,names_numbers:h.names_numbers,mask:h.mask,locked:h.locked};0==g&&j.currentViews[0].hasOwnProperty("productTitle")&&(p.productTitle=j.currentViews[0].productTitle),f.push(p)}return f},this.getTranslation=function(a,b){return j.langJson&&(a=j.langJson[a])?a[b]:""},this.getCustomElements=function(a,b,c){var d=this.getElements(b,a,c),e=[];return d.forEach(function(a){if(a.isCustom){var b=j.$productStage.children(".fpd-view-stage").index(a.canvas.wrapperEl);e.push({element:a,viewIndex:b})}}),e},this.addCustomImage=function(a,b,c){c=void 0===c?{}:c;var d=new Image;d.src=a,d.crossOrigin="anonymous",this.toggleSpinner(!0,j.getTranslation("misc","loading_image")),j.$viewSelectionWrapper.addClass("fpd-disabled"),d.onload=function(){j._loadingCustomImage=!1;var d=this.height,e=this.width,f=j.currentViewInstance.options.customImageParameters,g=this.src.split(".");if(!FPDUtil.checkImageDimensions(j,e,d))return j.toggleSpinner(!1),!1;var h={isCustom:!0};-1==$.inArray("svg",g)||f.colors||(h.colors=!0),j.addElement("image",a,b,$.extend({},f,h,c)),j.$viewSelectionWrapper.removeClass("fpd-disabled")},d.onerror=function(){FPDUtil.showModal("Image could not be loaded!")}},this.setDimensions=function(a,b,c){c=void 0===c?-1:c;var d=[];-1==c?(j.mainOptions.stageWidth=a,j.mainOptions.stageHeight=b,d=j.viewInstances):d.push(j.viewInstances[c]),(c==j.currentViewIndex||-1==c)&&j.$container.find(".fpd-product-stage").width(a),d.forEach(function(d){d.options.stageWidth=a,d.options.stageHeight=b,c==j.currentViewIndex&&d.resetCanvasSize()}),(c==j.currentViewIndex||-1==c)&&j.mainBar&&j.mainBar.$content&&j.$container.filter('[class*="fpd-off-canvas-"]').length>0&&j.mainBar.$content.height(j.$mainWrapper.height())},this.setOrderQuantity=function(a){a=""==a||0>a?1:a,j.orderQuantity=a;var b=j.calculatePrice();e.trigger("priceChange",[null,b,j.singleProductPrice])},this.getOrder=function(a){return a=void 0===a?{}:a,j._order.product=j.getProduct(a.onlyEditableElements||!1,a.customizationRequired||!1),j._order.usedFonts=j.getUsedFonts(),j._order.usedColors=[],j.getUsedColors().forEach(function(a){var b=j.mainOptions.hexNames[a.replace("#","").toLowerCase()],c={hex:a};b&&(c.name=b),j._order.usedColors.push(c)}),j._order.usedDepositPhotos=j.getDepositPhotos(),e.trigger("getOrder"),j._order},this.getUsedFonts=function(){var a=[],b=[];return this.getElements(-1,"all",!1).forEach(function(c){if("text"===FPDUtil.getType(c.type)&&-1===a.indexOf(c.fontFamily)){var d={name:c.fontFamily},e=$.grep(j.mainOptions.fonts,function(a){return a.name==c.fontFamily});e.length>0&&e[0].url&&(d.url=e[0].url),a.push(c.fontFamily),b.push(d)}}),b},this.getUsedColors=function(a){var b=[];return this.getElements(a,"all",!1).forEach(function(a){var c=FPDUtil.elementIsColorizable(a);c&&("svg"===c?a.type===FPDPathGroupName?a.getObjects().forEach(function(a){FPDUtil.isHex(a.fill)&&b.push(a.fill)}):b.push(a.fill):FPDUtil.isHex(a.fill)&&b.push(a.fill))}),FPDUtil.arrayUnique(b)},this.calculatePrice=function(a){a=void 0===a?!0:a;var b=j.singleProductPrice;return j.currentPrice=b,b+=j.pricingRulesPrice,a&&(b*=j.orderQuantity),b%1!=0&&(b=Number(b.toFixed(2))),b},this.removeView=function(a){a=void 0===a?0:a;var b=j.$productStage.children(".fpd-view-stage").eq(a);j.$viewSelectionWrapper.children(".fpd-item").eq(a).remove(),b.remove(),j.viewInstances.splice(a,1),j.viewInstances.length>0&&j.selectView(a==j.currentViewIndex?0:a),e.trigger("viewRemove",[a])},this.formatPrice=function(a){if("object"==typeof j.mainOptions.priceFormat){var b=j.mainOptions.priceFormat.thousandSep,c=j.mainOptions.priceFormat.decimalSep,d=a.toString().split("."),e=d[0],f=d[1],g="";if("undefined"!=typeof e){for(var h=e.length-1;h>=0;h--)g+=e.charAt(h);g=g.replace(/(\d{3})/g,"$1"+b),g.slice(-b.length)==b&&(g=g.slice(0,-b.length)),e="";for(var h=g.length-1;h>=0;h--)e+=g.charAt(h);"undefined"!=typeof f&&f.length>0&&(1==f.length&&(f+="0"),e+=c+f)}return e=j.mainOptions.priceFormat.currency.replace("%d",e.toString())}return a=j.mainOptions.priceFormat.replace("%d",a)},this.translateElement=function(a){var b="";if(j.langJson){var c="";c=void 0!==a.attr("placeholder")?a.attr("placeholder"):void 0!==a.attr("title")?a.attr("title"):void 0!==a.data("title")?a.data("title"):a.text();var d=c.split("."),e=j.langJson[d[0]];e?(b=e[d[1]],void 0===b&&(b=a.data("defaulttext"))):b=a.data("defaulttext");var f=j.languageJSON[d[0]];f[d[1]]=b}else b=a.data("defaulttext");return void 0!==a.attr("placeholder")?a.attr("placeholder",b).text(""):void 0!==a.attr("title")?a.attr("title",b):void 0!==a.data("title")?a.data("title",b):a.text(b),b},this.selectGuidedTourStep=function(a){l.children(".fpd-gt-step").remove();var b=Object.keys(j.mainOptions.guidedTour).indexOf(a),c=a.split(":"),d=null;if("module"===c[0]?d=f.find(".fpd-navigation").children('[data-module="'+c[1]+'"]'):"action"===c[0]?d=$('.fpd-action-btn[data-action="'+c[1]+'"]'):1===c.length&&(d=$(c[0])),d){if(0===d.length)return void(Object.keys(j.mainOptions.guidedTour)[b+1]&&j.selectGuidedTourStep(Object.keys(j.mainOptions.guidedTour)[b+1]));

var e=l.append('<div class="fpd-container fpd-gt-step"><div class="fpd-gt-pointer"><span class="fpd-icon-arrow-dropdown"></span></div><div class="fpd-gt-close"><span class="fpd-icon-close"></span></div><div class="fpd-gt-text">'+j.mainOptions.guidedTour[a]+'</div><div class="fpd-gt-actions fpd-clearfix"><div class="fpd-gt-next fpd-btn fpd-primary">'+j.getTranslation("misc","guided_tour_next")+'</div><div class="fpd-gt-back fpd-btn fpd-primary">'+j.getTranslation("misc","guided_tour_back")+'</div><span class="fpd-gt-counter">'+String(b+1)+"/"+Object.keys(j.mainOptions.guidedTour).length+"</span></div></div>").children(".fpd-gt-step"),g=d.offset(),h=.5*d.outerWidth(),i=0,k=g.left+h;e.css({left:k,top:g.top+d.outerHeight()+i}),e.outerWidth()+k>window.innerWidth&&(h=window.innerWidth-(e.outerWidth()+k),e.css("left",k+h).children(".fpd-gt-pointer").css("margin-left",Math.abs(h))),Object.keys(j.mainOptions.guidedTour)[b-1]?e.find(".fpd-gt-back").data("target",Object.keys(j.mainOptions.guidedTour)[b-1]):e.find(".fpd-gt-back").hide(),Object.keys(j.mainOptions.guidedTour)[b+1]?e.find(".fpd-gt-next").data("target",Object.keys(j.mainOptions.guidedTour)[b+1]):e.find(".fpd-gt-next").hide()}},this.setupProducts=function(a){a=void 0===a?[]:a,this.products=[],a.forEach(function(a){a.hasOwnProperty("category")?a.products.forEach(function(b){j.addProduct(b,a.category)}):j.addProduct(a)}),j.mainOptions.loadFirstProductInStage&&a.length>0&&!p?j.selectProduct(0):j.toggleSpinner(!1),e.trigger("productsSet",[j.products])},this.setupDesigns=function(a){j.designs=a,e.trigger("designsSet",[j.designs])},this.toggleResponsive=function(a){return a=void 0===a?e.hasClass("fpd-not-responsive"):a,e.toggleClass("fpd-not-responsive",!a),this.viewInstances.forEach(function(b,c){b.options.responsive=a,c==j.currentViewIndex&&b.resetCanvasSize()}),a},this.getDepositPhotos=function(){var a=[];return this.getElements(-1,"image").forEach(function(b){b.source&&b.depositphotos&&a.push({depositphotos:b.depositphotos,source:b.source})}),a},this.getDepositPhotosPurchaseMedia=function(a,b,c,d,e,f,g){e=void 0===e?"s":e,f=void 0===f?"standard":f,g=void 0===g?"credits":g;var h={dp_apikey:j.mainOptions.depositphotosApiKey,dp_command:"login",dp_login_user:c,dp_login_password:d};$.getJSON(location.protocol+"//api.depositphotos.com?"+$.param(h),function(c){if(c.error)a(c),alert(c.error.errormsg);else if(c.sessionid){var d={dp_apikey:j.mainOptions.depositphotosApiKey,dp_command:"getMedia",dp_session_id:c.sessionid,dp_media_id:b,dp_media_option:e,dp_media_license:f,dp_purchase_currency:g,dp_force_purchase_method:g};$.getJSON(location.protocol+"//api.depositphotos.com?"+$.param(d),function(b){a(b),b.error&&alert(b.error.errormsg)})}else a(c),alert("No Sessions ID!")})},this.loadFonts=function(a,b){if(a&&a.length>0&&"object"==typeof a[0]){var c,d=[],e=[],f=0;0==j.$container.prevAll("#fpd-custom-fonts").length?(c=$('<style type="text/css" id="fpd-custom-fonts"></style>'),j.$container.before(c)):c=j.$container.prevAll("#fpd-custom-fonts:first").empty(),a.forEach(function(a){if(a.hasOwnProperty("url"))if("google"==a.url)d.push(a.name+":400,400i,700,700i");else{var b=a.name,f=-1!==a.url.search(".woff")?"woff":"TrueType",g=j.mainOptions._loadFromScript?j.mainOptions._loadFromScript+a.url:a.url;b+=":n4",c.append('@font-face {font-family:"'+a.name+'"; font-style: normal; font-weight: normal; src:url("'+g+'") format("'+f+'");}'),a.variants&&(Object.keys(a.variants).forEach(function(b){var d={n7:"font-style: normal; font-weight: bold;",i4:"font-style: italic; font-weight: normal;",i7:"font-style: italic; font-weight: bold;"};g=j.mainOptions._loadFromScript?j.mainOptions._loadFromScript+a.variants[b]:a.variants[b],c.append('@font-face {font-family:"'+a.name+'"; '+d[b]+' src:url("'+g+'") format("'+f+'");}')}),b+=","+Object.keys(a.variants).toString()),e.push(b)}});var g=function(a,c){"inactive"==a&&FPDUtil.log(c+" font could not be loaded.","warn"),f==d.length+e.length-1&&b(),f++},h={fontactive:function(a,b){g("active",a,b)},fontinactive:function(a,b){g("inactive",a,b)},timeout:2e3};d.length>0&&(h.google={families:d}),e.length>0&&(h.custom={families:e}),"undefined"!=typeof WebFont&&(d.length>0||e.length>0)?WebFont.load(h):b()}else b()},this.getPrintOrderData=function(){for(var a={used_fonts:j.getUsedFonts(),svg_data:[],custom_images:[]},b=0;b<j.viewInstances.length;++b)a.svg_data.push({svg:j.viewInstances[b].toSVG({},null,!0),output:j.viewInstances[b].options.output});return j.getCustomElements("image").forEach(function(b){a.custom_images.push(b.element.source)}),a},y()};if(!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Promise=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof _dereq_&&_dereq_;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof _dereq_&&_dereq_,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";b.exports=function(a){function b(a){var b=new c(a),d=b.promise();return b.setHowMany(1),b.setUnwrap(),b.init(),d}var c=a._SomePromiseArray;a.any=function(a){return b(a)},a.prototype.any=function(){return b(this)}}},{}],2:[function(a,b){"use strict";function c(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new j(16),this._normalQueue=new j(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var a=this;this.drainQueues=function(){a._drainQueues()},this._schedule=i}function d(a,b,c){this._lateQueue.push(a,b,c),this._queueTick()}function e(a,b,c){this._normalQueue.push(a,b,c),this._queueTick()}function f(a){this._normalQueue._pushOne(a),this._queueTick()}var g;try{throw new Error}catch(h){g=h}var i=a("./schedule"),j=a("./queue"),k=a("./util");c.prototype.setScheduler=function(a){var b=this._schedule;return this._schedule=a,this._customScheduler=!0,b},c.prototype.hasCustomScheduler=function(){return this._customScheduler},c.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},c.prototype.disableTrampolineIfNecessary=function(){k.hasDevTools&&(this._trampolineEnabled=!1)},c.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},c.prototype.fatalError=function(a,b){b?(process.stderr.write("Fatal "+(a instanceof Error?a.stack:a)+"\n"),process.exit(2)):this.throwLater(a)},c.prototype.throwLater=function(a,b){if(1===arguments.length&&(b=a,a=function(){throw b}),"undefined"!=typeof setTimeout)setTimeout(function(){a(b)},0);else try{this._schedule(function(){a(b)})}catch(c){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},k.hasDevTools?(c.prototype.invokeLater=function(a,b,c){this._trampolineEnabled?d.call(this,a,b,c):this._schedule(function(){setTimeout(function(){a.call(b,c)},100)})},c.prototype.invoke=function(a,b,c){this._trampolineEnabled?e.call(this,a,b,c):this._schedule(function(){a.call(b,c)})},c.prototype.settlePromises=function(a){this._trampolineEnabled?f.call(this,a):this._schedule(function(){a._settlePromises()})}):(c.prototype.invokeLater=d,c.prototype.invoke=e,c.prototype.settlePromises=f),c.prototype.invokeFirst=function(a,b,c){this._normalQueue.unshift(a,b,c),this._queueTick()},c.prototype._drainQueue=function(a){for(;a.length()>0;){var b=a.shift();if("function"==typeof b){var c=a.shift(),d=a.shift();b.call(c,d)}else b._settlePromises()}},c.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},c.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},c.prototype._reset=function(){this._isTickUsed=!1},b.exports=c,b.exports.firstLineError=g},{"./queue":26,"./schedule":29,"./util":36}],3:[function(a,b){"use strict";b.exports=function(a,b,c,d){var e=!1,f=function(a,b){this._reject(b)},g=function(a,b){b.promiseRejectionQueued=!0,b.bindingPromise._then(f,f,null,this,a)},h=function(a,b){0===(50397184&this._bitField)&&this._resolveCallback(b.target)},i=function(a,b){b.promiseRejectionQueued||this._reject(a)};a.prototype.bind=function(f){e||(e=!0,a.prototype._propagateFrom=d.propagateFromFunction(),a.prototype._boundValue=d.boundValueFunction());var j=c(f),k=new a(b);k._propagateFrom(this,1);var l=this._target();if(k._setBoundTo(j),j instanceof a){var m={promiseRejectionQueued:!1,promise:k,target:l,bindingPromise:j};l._then(b,g,void 0,k,m),j._then(h,i,void 0,k,m),k._setOnCancel(j)}else k._resolveCallback(l);return k},a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField=2097152|this._bitField,this._boundTo=a):this._bitField=-2097153&this._bitField},a.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},a.bind=function(b,c){return a.resolve(c).bind(b)}}},{}],4:[function(a,b){"use strict";function c(){try{Promise===e&&(Promise=d)}catch(a){}return e}var d;"undefined"!=typeof Promise&&(d=Promise);var e=a("./promise")();e.noConflict=c,b.exports=e},{"./promise":22}],5:[function(a,b){"use strict";var c=Object.create;if(c){var d=c(null),e=c(null);d[" size"]=e[" size"]=0}b.exports=function(b){function c(a,c){var d;if(null!=a&&(d=a[c]),"function"!=typeof d){var e="Object "+h.classString(a)+" has no method '"+h.toString(c)+"'";throw new b.TypeError(e)}return d}function d(a){var b=this.pop(),d=c(a,b);return d.apply(a,this)}function e(a){return a[this]}function f(a){var b=+this;return 0>b&&(b=Math.max(0,b+a.length)),a[b]}var g,h=a("./util"),i=h.canEvaluate;h.isIdentifier,b.prototype.call=function(a){var b=[].slice.call(arguments,1);return b.push(a),this._then(d,void 0,void 0,b,void 0)},b.prototype.get=function(a){var b,c="number"==typeof a;if(c)b=f;else if(i){var d=g(a);b=null!==d?d:e}else b=e;return this._then(b,void 0,void 0,a,void 0)}}},{"./util":36}],6:[function(a,b){"use strict";b.exports=function(b,c,d,e){var f=a("./util"),g=f.tryCatch,h=f.errorObj,i=b._async;b.prototype["break"]=b.prototype.cancel=function(){if(!e.cancellation())return this._warn("cancellation is disabled");for(var a=this,b=a;a.isCancellable();){if(!a._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var c=a._cancellationParent;if(null==c||!c.isCancellable()){a._isFollowing()?a._followee().cancel():a._cancelBranched();break}a._isFollowing()&&a._followee().cancel(),b=a,a=c}},b.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},b.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},b.prototype._cancelBy=function(a){return a===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},b.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},b.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),i.invoke(this._cancelPromises,this,void 0))},b.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},b.prototype._unsetOnCancel=function(){this._onCancelField=void 0},b.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},b.prototype._doInvokeOnCancel=function(a,b){if(f.isArray(a))for(var c=0;c<a.length;++c)this._doInvokeOnCancel(a[c],b);else if(void 0!==a)if("function"==typeof a){if(!b){var d=g(a).call(this._boundValue());d===h&&(this._attachExtraTrace(d.e),i.throwLater(d.e))}}else a._resultCancelled(this)},b.prototype._invokeOnCancel=function(){var a=this._onCancel();this._unsetOnCancel(),i.invoke(this._doInvokeOnCancel,this,a)},b.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},b.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(a,b){"use strict";b.exports=function(b){function c(a,c,h){return function(i){var j=h._boundValue();a:for(var k=0;k<a.length;++k){var l=a[k];if(l===Error||null!=l&&l.prototype instanceof Error){if(i instanceof l)return f(c).call(j,i)}else if("function"==typeof l){var m=f(l).call(j,i);if(m===g)return m;if(m)return f(c).call(j,i)}else if(d.isObject(i)){for(var n=e(l),o=0;o<n.length;++o){var p=n[o];if(l[p]!=i[p])continue a}return f(c).call(j,i)}}return b}}var d=a("./util"),e=a("./es5").keys,f=d.tryCatch,g=d.errorObj;return c}},{"./es5":13,"./util":36}],8:[function(a,b){"use strict";b.exports=function(a){function b(){this._trace=new b.CapturedTrace(d())}function c(){return e?new b:void 0}function d(){var a=f.length-1;return a>=0?f[a]:void 0}var e=!1,f=[];return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},b.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,f.push(this._trace))},b.prototype._popContext=function(){if(void 0!==this._trace){var a=f.pop(),b=a._promiseCreated;return a._promiseCreated=null,b}return null},b.CapturedTrace=null,b.create=c,b.deactivateLongStackTraces=function(){},b.activateLongStackTraces=function(){var c=a.prototype._pushContext,f=a.prototype._popContext,g=a._peekContext,h=a.prototype._peekContext,i=a.prototype._promiseCreated;b.deactivateLongStackTraces=function(){a.prototype._pushContext=c,a.prototype._popContext=f,a._peekContext=g,a.prototype._peekContext=h,a.prototype._promiseCreated=i,e=!1},e=!0,a.prototype._pushContext=b.prototype._pushContext,a.prototype._popContext=b.prototype._popContext,a._peekContext=a.prototype._peekContext=d,a.prototype._promiseCreated=function(){var a=this._peekContext();a&&null==a._promiseCreated&&(a._promiseCreated=this)}},b}},{}],9:[function(a,b){"use strict";b.exports=function(b,c){function d(a,b){return{promise:b}}function e(){return!1}function f(a,b,c){var d=this;try{a(b,c,function(a){if("function"!=typeof a)throw new TypeError("onCancel must be a function, got: "+M.toString(a));d._attachCancellationCallback(a)})}catch(e){return e}}function g(a){if(!this.isCancellable())return this;var b=this._onCancel();void 0!==b?M.isArray(b)?b.push(a):this._setOnCancel([b,a]):this._setOnCancel(a)}function h(){return this._onCancelField}function i(a){this._onCancelField=a}function j(){this._cancellationParent=void 0,this._onCancelField=void 0}function k(a,b){if(0!==(1&b)){this._cancellationParent=a;var c=a._branchesRemainingToCancel;void 0===c&&(c=0),a._branchesRemainingToCancel=c+1}0!==(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)}function l(a,b){0!==(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)}function m(){var a=this._boundTo;return void 0!==a&&a instanceof b?a.isFulfilled()?a.value():void 0:a}function n(){this._trace=new F(this._peekContext())}function o(a,b){if(N(a)){var c=this._trace;if(void 0!==c&&b&&(c=c._parent),void 0!==c)c.attachExtraTrace(a);else if(!a.__stackCleaned__){var d=x(a);M.notEnumerableProp(a,"stack",d.message+"\n"+d.stack.join("\n")),M.notEnumerableProp(a,"__stackCleaned__",!0)}}}function p(a,b,c,d,e){if(void 0===a&&null!==b&&V){if(void 0!==e&&e._returnedNonUndefined())return;if(0===(65535&d._bitField))return;c&&(c+=" ");var f="a promise was created in a "+c+"handler but was not returned from it";d._warn(f,!0,b)}}function q(a,b){var c=a+" is deprecated and will be removed in a future version.";return b&&(c+=" Use "+b+" instead."),r(c)}function r(a,c,d){if(da.warnings){var e,f=new L(a);if(c)d._attachExtraTrace(f);else if(da.longStackTraces&&(e=b._peekContext()))e.attachExtraTrace(f);else{var g=x(f);f.stack=g.message+"\n"+g.stack.join("\n")}$("warning",f)||y(f,"",!0)}}function s(a,b){for(var c=0;c<b.length-1;++c)b[c].push("From previous event:"),b[c]=b[c].join("\n");return c<b.length&&(b[c]=b[c].join("\n")),a+"\n"+b.join("\n")}function t(a){for(var b=0;b<a.length;++b)(0===a[b].length||b+1<a.length&&a[b][0]===a[b+1][0])&&(a.splice(b,1),b--)}function u(a){for(var b=a[0],c=1;c<a.length;++c){for(var d=a[c],e=b.length-1,f=b[e],g=-1,h=d.length-1;h>=0;--h)if(d[h]===f){g=h;break}for(var h=g;h>=0;--h){var i=d[h];if(b[e]!==i)break;b.pop(),e--}b=d}}function v(a){for(var b=[],c=0;c<a.length;++c){var d=a[c],e="    (No stack trace)"===d||P.test(d),f=e&&aa(d);e&&!f&&(R&&" "!==d.charAt(0)&&(d="    "+d),b.push(d))}return b}function w(a){for(var b=a.stack.replace(/\s+$/g,"").split("\n"),c=0;c<b.length;++c){var d=b[c];if("    (No stack trace)"===d||P.test(d))break}return c>0&&(b=b.slice(c)),b}function x(a){var b=a.stack,c=a.toString();return b="string"==typeof b&&b.length>0?w(a):["    (No stack trace)"],{message:c,stack:v(b)}}function y(a,b,c){if("undefined"!=typeof console){var d;if(M.isObject(a)){var e=a.stack;d=b+Q(e,a)}else d=b+String(a);"function"==typeof I?I(d,c):("function"==typeof console.log||"object"==typeof console.log)&&console.log(d)}}function z(a,b,c,d){var e=!1;try{"function"==typeof b&&(e=!0,"rejectionHandled"===a?b(d):b(c,d))}catch(f){K.throwLater(f)}"unhandledRejection"===a?$(a,c,d)||e||y(c,"Unhandled rejection "):$(a,d)}function A(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a&&"function"==typeof a.toString?a.toString():M.toString(a);var c=/\[object [a-zA-Z0-9$_]+\]/;if(c.test(b))try{var d=JSON.stringify(a);b=d}catch(e){}0===b.length&&(b="(empty array)")}return"(<"+B(b)+">, no stack trace)"}function B(a){var b=41;return a.length<b?a:a.substr(0,b-3)+"..."}function C(){return"function"==typeof ca}function D(a){var b=a.match(ba);return b?{fileName:b[1],line:parseInt(b[2],10)}:void 0}function E(a,b){if(C()){for(var c,d,e=a.stack.split("\n"),f=b.stack.split("\n"),g=-1,h=-1,i=0;i<e.length;++i){var j=D(e[i]);if(j){c=j.fileName,g=j.line;break}}for(var i=0;i<f.length;++i){var j=D(f[i]);if(j){d=j.fileName,h=j.line;break}}0>g||0>h||!c||!d||c!==d||g>=h||(aa=function(a){if(O.test(a))return!0;var b=D(a);return b&&b.fileName===c&&g<=b.line&&b.line<=h?!0:!1})}}function F(a){this._parent=a,this._promisesCreated=0;var b=this._length=1+(void 0===a?0:a._length);ca(this,F),b>32&&this.uncycle()}var G,H,I,J=b._getDomain,K=b._async,L=a("./errors").Warning,M=a("./util"),N=M.canAttachTrace,O=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,P=null,Q=null,R=!1,S=!(0==M.env("BLUEBIRD_DEBUG")||!M.env("BLUEBIRD_DEBUG")&&"development"!==M.env("NODE_ENV")),T=!(0==M.env("BLUEBIRD_WARNINGS")||!S&&!M.env("BLUEBIRD_WARNINGS")),U=!(0==M.env("BLUEBIRD_LONG_STACK_TRACES")||!S&&!M.env("BLUEBIRD_LONG_STACK_TRACES")),V=0!=M.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(T||!!M.env("BLUEBIRD_W_FORGOTTEN_RETURN"));b.prototype.suppressUnhandledRejections=function(){var a=this._target();a._bitField=-1048577&a._bitField|524288},b.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),K.invokeLater(this._notifyUnhandledRejection,this,void 0))},b.prototype._notifyUnhandledRejectionIsHandled=function(){z("rejectionHandled",G,void 0,this)},b.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},b.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},b.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._settledValue();this._setUnhandledRejectionIsNotified(),z("unhandledRejection",H,a,this)}},b.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},b.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},b.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},b.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},b.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},b.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},b.prototype._warn=function(a,b,c){return r(a,b,c||this)},b.onPossiblyUnhandledRejection=function(a){var b=J();H="function"==typeof a?null===b?a:b.bind(a):void 0},b.onUnhandledRejectionHandled=function(a){var b=J();G="function"==typeof a?null===b?a:b.bind(a):void 0};var W=function(){};b.longStackTraces=function(){if(K.haveItemsQueued()&&!da.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!da.longStackTraces&&C()){var a=b.prototype._captureStackTrace,d=b.prototype._attachExtraTrace;da.longStackTraces=!0,W=function(){if(K.haveItemsQueued()&&!da.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");b.prototype._captureStackTrace=a,b.prototype._attachExtraTrace=d,c.deactivateLongStackTraces(),K.enableTrampoline(),da.longStackTraces=!1},b.prototype._captureStackTrace=n,b.prototype._attachExtraTrace=o,c.activateLongStackTraces(),K.disableTrampolineIfNecessary()}},b.hasLongStackTraces=function(){return da.longStackTraces&&C()};var X=function(){try{var a=document.createEvent("CustomEvent");return a.initCustomEvent("testingtheevent",!1,!0,{}),M.global.dispatchEvent(a),function(a,b){var c=document.createEvent("CustomEvent");return c.initCustomEvent(a.toLowerCase(),!1,!0,b),!M.global.dispatchEvent(c)}}catch(b){}return function(){return!1}}(),Y=function(){return M.isNode?function(){return process.emit.apply(process,arguments)}:M.global?function(a){var b="on"+a.toLowerCase(),c=M.global[b];return c?(c.apply(M.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),Z={promiseCreated:d,promiseFulfilled:d,promiseRejected:d,promiseResolved:d,promiseCancelled:d,promiseChained:function(a,b,c){return{promise:b,child:c}},warning:function(a,b){return{warning:b}},unhandledRejection:function(a,b,c){return{reason:b,promise:c}},rejectionHandled:d},$=function(a){var b=!1;try{b=Y.apply(null,arguments)}catch(c){K.throwLater(c),b=!0}var d=!1;try{d=X(a,Z[a].apply(null,arguments))}catch(c){K.throwLater(c),d=!0}return d||b};b.config=function(a){if(a=Object(a),"longStackTraces"in a&&(a.longStackTraces?b.longStackTraces():!a.longStackTraces&&b.hasLongStackTraces()&&W()),"warnings"in a){var c=a.warnings;da.warnings=!!c,V=da.warnings,M.isObject(c)&&"wForgottenReturn"in c&&(V=!!c.wForgottenReturn)}if("cancellation"in a&&a.cancellation&&!da.cancellation){if(K.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");b.prototype._clearCancellationData=j,b.prototype._propagateFrom=k,b.prototype._onCancel=h,b.prototype._setOnCancel=i,b.prototype._attachCancellationCallback=g,b.prototype._execute=f,_=k,da.cancellation=!0}"monitoring"in a&&(a.monitoring&&!da.monitoring?(da.monitoring=!0,b.prototype._fireEvent=$):!a.monitoring&&da.monitoring&&(da.monitoring=!1,b.prototype._fireEvent=e))},b.prototype._fireEvent=e,b.prototype._execute=function(a,b,c){try{a(b,c)}catch(d){return d}},b.prototype._onCancel=function(){},b.prototype._setOnCancel=function(){},b.prototype._attachCancellationCallback=function(){},b.prototype._captureStackTrace=function(){},b.prototype._attachExtraTrace=function(){},b.prototype._clearCancellationData=function(){},b.prototype._propagateFrom=function(){};var _=l,aa=function(){return!1},ba=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;M.inherits(F,Error),c.CapturedTrace=F,F.prototype.uncycle=function(){var a=this._length;if(!(2>a)){for(var b=[],c={},d=0,e=this;void 0!==e;++d)b.push(e),e=e._parent;a=this._length=d;for(var d=a-1;d>=0;--d){var f=b[d].stack;void 0===c[f]&&(c[f]=d)}for(var d=0;a>d;++d){var g=b[d].stack,h=c[g];if(void 0!==h&&h!==d){h>0&&(b[h-1]._parent=void 0,b[h-1]._length=1),b[d]._parent=void 0,b[d]._length=1;var i=d>0?b[d-1]:this;a-1>h?(i._parent=b[h+1],i._parent.uncycle(),i._length=i._parent._length+1):(i._parent=void 0,i._length=1);for(var j=i._length+1,k=d-2;k>=0;--k)b[k]._length=j,j++;return}}}},F.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var b=x(a),c=b.message,d=[b.stack],e=this;void 0!==e;)d.push(v(e.stack.split("\n"))),e=e._parent;u(d),t(d),M.notEnumerableProp(a,"stack",s(c,d)),M.notEnumerableProp(a,"__stackCleaned__",!0)}};var ca=function(){var a=/^\s*at\s*/,b=function(a,b){return"string"==typeof a?a:void 0!==b.name&&void 0!==b.message?b.toString():A(b)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,P=a,Q=b;var c=Error.captureStackTrace;return aa=function(a){return O.test(a)},function(a,b){Error.stackTraceLimit+=6,c(a,b),Error.stackTraceLimit-=6}}var d=new Error;if("string"==typeof d.stack&&d.stack.split("\n")[0].indexOf("stackDetection@")>=0)return P=/@/,Q=b,R=!0,function(a){a.stack=(new Error).stack};var e;try{throw new Error}catch(f){e="stack"in f}return"stack"in d||!e||"number"!=typeof Error.stackTraceLimit?(Q=function(a,b){return"string"==typeof a?a:"object"!=typeof b&&"function"!=typeof b||void 0===b.name||void 0===b.message?A(b):b.toString()},null):(P=a,Q=b,function(a){Error.stackTraceLimit+=6;try{throw new Error}catch(b){a.stack=b.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(I=function(a){console.warn(a)},M.isNode&&process.stderr.isTTY?I=function(a,b){var c=b?"[33m":"[31m";console.warn(c+a+"[0m\n")}:M.isNode||"string"!=typeof(new Error).stack||(I=function(a,b){console.warn("%c"+a,b?"color: darkorange":"color: red")}));var da={warnings:T,longStackTraces:!1,cancellation:!1,monitoring:!1};return U&&b.longStackTraces(),{longStackTraces:function(){return da.longStackTraces},warnings:function(){return da.warnings},cancellation:function(){return da.cancellation},monitoring:function(){return da.monitoring},propagateFromFunction:function(){return _},boundValueFunction:function(){return m},checkForgottenReturns:p,setBounds:E,warn:r,deprecated:q,CapturedTrace:F,fireDomEvent:X,fireGlobalEvent:Y}}},{"./errors":12,"./util":36}],10:[function(a,b){"use strict";b.exports=function(a){function b(){return this.value}function c(){throw this.reason}a.prototype["return"]=a.prototype.thenReturn=function(c){return c instanceof a&&c.suppressUnhandledRejections(),this._then(b,void 0,void 0,{value:c},void 0)},a.prototype["throw"]=a.prototype.thenThrow=function(a){return this._then(c,void 0,void 0,{reason:a},void 0)},a.prototype.catchThrow=function(a){if(arguments.length<=1)return this._then(void 0,c,void 0,{reason:a},void 0);var b=arguments[1],d=function(){throw b};return this.caught(a,d)},a.prototype.catchReturn=function(c){if(arguments.length<=1)return c instanceof a&&c.suppressUnhandledRejections(),this._then(void 0,b,void 0,{value:c},void 0);var d=arguments[1];d instanceof a&&d.suppressUnhandledRejections();var e=function(){return d};return this.caught(c,e)}}},{}],11:[function(a,b){"use strict";b.exports=function(a,b){function c(){return f(this)}function d(a,c){return e(a,c,b,b)}var e=a.reduce,f=a.all;a.prototype.each=function(a){return this.mapSeries(a)._then(c,void 0,void 0,this,void 0)},a.prototype.mapSeries=function(a){return e(this,a,b,b)},a.each=function(a,b){return d(a,b)._then(c,void 0,void 0,a,void 0)},a.mapSeries=d}},{}],12:[function(a,b){"use strict";function c(a,b){function c(d){return this instanceof c?(k(this,"message","string"==typeof d?d:b),k(this,"name",a),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new c(d)}return j(c,Error),c}function d(a){return this instanceof d?(k(this,"name","OperationalError"),k(this,"message",a),this.cause=a,this.isOperational=!0,void(a instanceof Error?(k(this,"message",a.message),k(this,"stack",a.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new d(a)}var e,f,g=a("./es5"),h=g.freeze,i=a("./util"),j=i.inherits,k=i.notEnumerableProp,l=c("Warning","warning"),m=c("CancellationError","cancellation error"),n=c("TimeoutError","timeout error"),o=c("AggregateError","aggregate error");try{e=TypeError,f=RangeError}catch(p){e=c("TypeError","type error"),f=c("RangeError","range error")}for(var q="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),r=0;r<q.length;++r)"function"==typeof Array.prototype[q[r]]&&(o.prototype[q[r]]=Array.prototype[q[r]]);g.defineProperty(o.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),o.prototype.isOperational=!0;var s=0;o.prototype.toString=function(){var a=Array(4*s+1).join(" "),b="\n"+a+"AggregateError of:\n";s++,a=Array(4*s+1).join(" ");for(var c=0;c<this.length;++c){for(var d=this[c]===this?"[Circular AggregateError]":this[c]+"",e=d.split("\n"),f=0;f<e.length;++f)e[f]=a+e[f];d=e.join("\n"),b+=d+"\n"}return s--,b},j(d,Error);var t=Error.__BluebirdErrorTypes__;t||(t=h({CancellationError:m,TimeoutError:n,OperationalError:d,RejectionError:d,AggregateError:o}),g.defineProperty(Error,"__BluebirdErrorTypes__",{value:t,writable:!1,enumerable:!1,configurable:!1})),b.exports={Error:Error,TypeError:e,RangeError:f,CancellationError:t.CancellationError,OperationalError:t.OperationalError,TimeoutError:t.TimeoutError,AggregateError:t.AggregateError,Warning:l}},{"./es5":13,"./util":36}],13:[function(a,b){var c=function(){"use strict";return void 0===this}();if(c)b.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:c,propertyIsWritable:function(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return!(c&&!c.writable&&!c.set)}};else{var d={}.hasOwnProperty,e={}.toString,f={}.constructor.prototype,g=function(a){var b=[];for(var c in a)d.call(a,c)&&b.push(c);return b},h=function(a,b){return{value:a[b]}},i=function(a,b,c){return a[b]=c.value,a},j=function(a){return a},k=function(a){try{return Object(a).constructor.prototype}catch(b){return f}},l=function(a){try{return"[object Array]"===e.call(a)}catch(b){return!1}};b.exports={isArray:l,keys:g,names:g,defineProperty:i,getDescriptor:h,freeze:j,getPrototypeOf:k,isES5:c,propertyIsWritable:function(){return!0}}}},{}],14:[function(a,b){"use strict";b.exports=function(a,b){var c=a.map;a.prototype.filter=function(a,d){return c(this,a,d,b)},a.filter=function(a,d,e){return c(a,d,e,b)}}},{}],15:[function(a,b){"use strict";b.exports=function(b,c){function d(a,b,c){this.promise=a,this.type=b,this.handler=c,this.called=!1,this.cancelPromise=null}function e(a){this.finallyHandler=a}function f(a,b){return null!=a.cancelPromise?(arguments.length>1?a.cancelPromise._reject(b):a.cancelPromise._cancel(),a.cancelPromise=null,!0):!1}function g(){return i.call(this,this.promise._target()._settledValue())}function h(a){return f(this,a)?void 0:(l.e=a,l)}function i(a){var d=this.promise,i=this.handler;if(!this.called){this.called=!0;var j=this.isFinallyHandler()?i.call(d._boundValue()):i.call(d._boundValue(),a);if(void 0!==j){d._setReturnedNonUndefined();var m=c(j,d);if(m instanceof b){if(null!=this.cancelPromise){if(m.isCancelled()){var n=new k("late cancellation observer");return d._attachExtraTrace(n),l.e=n,l}m.isPending()&&m._attachCancellationCallback(new e(this))}return m._then(g,h,void 0,this,void 0)}}}return d.isRejected()?(f(this),l.e=a,l):(f(this),a)}var j=a("./util"),k=b.CancellationError,l=j.errorObj;return d.prototype.isFinallyHandler=function(){return 0===this.type},e.prototype._resultCancelled=function(){f(this.finallyHandler)},b.prototype._passThrough=function(a,b,c,e){return"function"!=typeof a?this.then():this._then(c,e,void 0,new d(this,b,a),void 0)},b.prototype.lastly=b.prototype["finally"]=function(a){return this._passThrough(a,0,i,i);

},b.prototype.tap=function(a){return this._passThrough(a,1,i)},d}},{"./util":36}],16:[function(a,b){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,c,d){for(var f=0;f<c.length;++f){d._pushContext();var g=n(c[f])(a);if(d._popContext(),g===m){d._pushContext();var h=b.reject(m.e);return d._popContext(),h}var i=e(g,d);if(i instanceof b)return i}return null}function i(a,c,e,f){if(g.cancellation()){var h=new b(d),i=this._finallyPromise=new b(d);this._promise=h.lastly(function(){return i}),h._captureStackTrace(),h._setOnCancel(this)}else{var j=this._promise=new b(d);j._captureStackTrace()}this._stack=f,this._generatorFunction=a,this._receiver=c,this._generator=void 0,this._yieldHandlers="function"==typeof e?[e].concat(o):o,this._yieldedPromise=null,this._cancellationPhase=!1}var j=a("./errors"),k=j.TypeError,l=a("./util"),m=l.errorObj,n=l.tryCatch,o=[];l.inherits(i,f),i.prototype._isResolved=function(){return null===this._promise},i.prototype._cleanup=function(){this._promise=this._generator=null,g.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},i.prototype._promiseCancelled=function(){if(!this._isResolved()){var a,c="undefined"!=typeof this._generator["return"];if(c)this._promise._pushContext(),a=n(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var d=new b.CancellationError("generator .return() sentinel");b.coroutine.returnSentinel=d,this._promise._attachExtraTrace(d),this._promise._pushContext(),a=n(this._generator["throw"]).call(this._generator,d),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(a)}},i.prototype._promiseFulfilled=function(a){this._yieldedPromise=null,this._promise._pushContext();var b=n(this._generator.next).call(this._generator,a);this._promise._popContext(),this._continue(b)},i.prototype._promiseRejected=function(a){this._yieldedPromise=null,this._promise._attachExtraTrace(a),this._promise._pushContext();var b=n(this._generator["throw"]).call(this._generator,a);this._promise._popContext(),this._continue(b)},i.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof b){var a=this._yieldedPromise;this._yieldedPromise=null,a.cancel()}},i.prototype.promise=function(){return this._promise},i.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},i.prototype._continue=function(a){var c=this._promise;if(a===m)return this._cleanup(),this._cancellationPhase?c.cancel():c._rejectCallback(a.e,!1);var d=a.value;if(a.done===!0)return this._cleanup(),this._cancellationPhase?c.cancel():c._resolveCallback(d);var f=e(d,this._promise);if(!(f instanceof b)&&(f=h(f,this._yieldHandlers,this._promise),null===f))return void this._promiseRejected(new k("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",d)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));f=f._target();var g=f._bitField;0===(50397184&g)?(this._yieldedPromise=f,f._proxy(this,null)):0!==(33554432&g)?this._promiseFulfilled(f._value()):0!==(16777216&g)?this._promiseRejected(f._reason()):this._promiseCancelled()},b.coroutine=function(a,b){if("function"!=typeof a)throw new k("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var c=Object(b).yieldHandler,d=i,e=(new Error).stack;return function(){var b=a.apply(this,arguments),f=new d(void 0,void 0,c,e),g=f.promise();return f._generator=b,f._promiseFulfilled(void 0),g}},b.coroutine.addYieldHandler=function(a){if("function"!=typeof a)throw new k("expecting a function but got "+l.classString(a));o.push(a)},b.spawn=function(a){if(g.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof a)return c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var d=new i(a,this),e=d.promise();return d._run(b.spawn),e}}},{"./errors":12,"./util":36}],17:[function(a,b){"use strict";b.exports=function(b,c){var d=a("./util");d.canEvaluate,d.tryCatch,d.errorObj,b.join=function(){var a,b=arguments.length-1;if(b>0&&"function"==typeof arguments[b]){a=arguments[b];var d}var e=[].slice.call(arguments);a&&e.pop();var d=new c(e).promise();return void 0!==a?d.spread(a):d}}},{"./util":36}],18:[function(a,b){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,b,c,d){this.constructor$(a),this._promise._captureStackTrace();var e=j();this._callback=null===e?b:e.bind(b),this._preservedValues=d===f?new Array(this.length()):null,this._limit=c,this._inFlight=0,this._queue=c>=1?[]:n,this._init$(void 0,-2)}function i(a,b,c,e){if("function"!=typeof b)return d("expecting a function but got "+k.classString(b));var f="object"==typeof c&&null!==c?c.concurrency:0;return f="number"==typeof f&&isFinite(f)&&f>=1?f:0,new h(a,b,f,e).promise()}var j=b._getDomain,k=a("./util"),l=k.tryCatch,m=k.errorObj,n=[];k.inherits(h,c),h.prototype._init=function(){},h.prototype._promiseFulfilled=function(a,c){var d=this._values,f=this.length(),h=this._preservedValues,i=this._limit;if(0>c){if(c=-1*c-1,d[c]=a,i>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(i>=1&&this._inFlight>=i)return d[c]=a,this._queue.push(c),!1;null!==h&&(h[c]=a);var j=this._promise,k=this._callback,n=j._boundValue();j._pushContext();var o=l(k).call(n,a,c,f),p=j._popContext();if(g.checkForgottenReturns(o,p,null!==h?"Promise.filter":"Promise.map",j),o===m)return this._reject(o.e),!0;var q=e(o,this._promise);if(q instanceof b){q=q._target();var r=q._bitField;if(0===(50397184&r))return i>=1&&this._inFlight++,d[c]=q,q._proxy(this,-1*(c+1)),!1;if(0===(33554432&r))return 0!==(16777216&r)?(this._reject(q._reason()),!0):(this._cancel(),!0);o=q._value()}d[c]=o}var s=++this._totalResolved;return s>=f?(null!==h?this._filter(d,h):this._resolve(d),!0):!1},h.prototype._drainQueue=function(){for(var a=this._queue,b=this._limit,c=this._values;a.length>0&&this._inFlight<b;){if(this._isResolved())return;var d=a.pop();this._promiseFulfilled(c[d],d)}},h.prototype._filter=function(a,b){for(var c=b.length,d=new Array(c),e=0,f=0;c>f;++f)a[f]&&(d[e++]=b[f]);d.length=e,this._resolve(d)},h.prototype.preservedValues=function(){return this._preservedValues},b.prototype.map=function(a,b){return i(this,a,b,null)},b.map=function(a,b,c,d){return i(a,b,c,d)}}},{"./util":36}],19:[function(a,b){"use strict";b.exports=function(b,c,d,e,f){var g=a("./util"),h=g.tryCatch;b.method=function(a){if("function"!=typeof a)throw new b.TypeError("expecting a function but got "+g.classString(a));return function(){var d=new b(c);d._captureStackTrace(),d._pushContext();var e=h(a).apply(this,arguments),g=d._popContext();return f.checkForgottenReturns(e,g,"Promise.method",d),d._resolveFromSyncValue(e),d}},b.attempt=b["try"]=function(a){if("function"!=typeof a)return e("expecting a function but got "+g.classString(a));var d=new b(c);d._captureStackTrace(),d._pushContext();var i;if(arguments.length>1){f.deprecated("calling Promise.try with more than 1 argument");var j=arguments[1],k=arguments[2];i=g.isArray(j)?h(a).apply(k,j):h(a).call(k,j)}else i=h(a)();var l=d._popContext();return f.checkForgottenReturns(i,l,"Promise.try",d),d._resolveFromSyncValue(i),d},b.prototype._resolveFromSyncValue=function(a){a===g.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}},{"./util":36}],20:[function(a,b){"use strict";function c(a){return a instanceof Error&&j.getPrototypeOf(a)===Error.prototype}function d(a){var b;if(c(a)){b=new i(a),b.name=a.name,b.message=a.message,b.stack=a.stack;for(var d=j.keys(a),e=0;e<d.length;++e){var g=d[e];k.test(g)||(b[g]=a[g])}return b}return f.markAsOriginatingFromRejection(a),a}function e(a,b){return function(c,e){if(null!==a){if(c){var f=d(g(c));a._attachExtraTrace(f),a._reject(f)}else if(b){var h=[].slice.call(arguments,1);a._fulfill(h)}else a._fulfill(e);a=null}}}var f=a("./util"),g=f.maybeWrapAsError,h=a("./errors"),i=h.OperationalError,j=a("./es5"),k=/^(?:name|message|stack|cause)$/;b.exports=e},{"./errors":12,"./es5":13,"./util":36}],21:[function(a,b){"use strict";b.exports=function(b){function c(a,b){var c=this;if(!f.isArray(a))return d.call(c,a,b);var e=h(b).apply(c._boundValue(),[null].concat(a));e===i&&g.throwLater(e.e)}function d(a,b){var c=this,d=c._boundValue(),e=void 0===a?h(b).call(d,null):h(b).call(d,null,a);e===i&&g.throwLater(e.e)}function e(a,b){var c=this;if(!a){var d=new Error(a+"");d.cause=a,a=d}var e=h(b).call(c._boundValue(),a);e===i&&g.throwLater(e.e)}var f=a("./util"),g=b._async,h=f.tryCatch,i=f.errorObj;b.prototype.asCallback=b.prototype.nodeify=function(a,b){if("function"==typeof a){var f=d;void 0!==b&&Object(b).spread&&(f=c),this._then(f,e,void 0,this,a)}return this}}},{"./util":36}],22:[function(a,b){"use strict";b.exports=function(){function b(){}function c(a,b){if("function"!=typeof b)throw new r("expecting a function but got "+m.classString(b));if(a.constructor!==d)throw new r("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function d(a){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,a!==t&&(c(this,a),this._resolveFromExecutor(a)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function e(a){this.promise._resolveCallback(a)}function f(a){this.promise._rejectCallback(a,!1)}function g(a){var b=new d(t);b._fulfillmentHandler0=a,b._rejectionHandler0=a,b._promise0=a,b._receiver0=a}var h,i=function(){return new r("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},j=function(){return new d.PromiseInspection(this._target())},k=function(a){return d.reject(new r(a))},l={},m=a("./util");h=m.isNode?function(){var a=process.domain;return void 0===a&&(a=null),a}:function(){return null},m.notEnumerableProp(d,"_getDomain",h);var n=a("./es5"),o=a("./async"),p=new o;n.defineProperty(d,"_async",{value:p});var q=a("./errors"),r=d.TypeError=q.TypeError;d.RangeError=q.RangeError;var s=d.CancellationError=q.CancellationError;d.TimeoutError=q.TimeoutError,d.OperationalError=q.OperationalError,d.RejectionError=q.OperationalError,d.AggregateError=q.AggregateError;var t=function(){},u={},v={},w=a("./thenables")(d,t),x=a("./promise_array")(d,t,w,k,b),y=a("./context")(d),z=y.create,A=a("./debuggability")(d,y),B=(A.CapturedTrace,a("./finally")(d,w)),C=a("./catch_filter")(v),D=a("./nodeback"),E=m.errorObj,F=m.tryCatch;return d.prototype.toString=function(){return"[object Promise]"},d.prototype.caught=d.prototype["catch"]=function(a){var b=arguments.length;if(b>1){var c,d=new Array(b-1),e=0;for(c=0;b-1>c;++c){var f=arguments[c];if(!m.isObject(f))return k("expecting an object but got "+m.classString(f));d[e++]=f}return d.length=e,a=arguments[c],this.then(void 0,C(d,a,this))}return this.then(void 0,a)},d.prototype.reflect=function(){return this._then(j,j,void 0,this,void 0)},d.prototype.then=function(a,b){if(A.warnings()&&arguments.length>0&&"function"!=typeof a&&"function"!=typeof b){var c=".then() only accepts functions but was passed: "+m.classString(a);arguments.length>1&&(c+=", "+m.classString(b)),this._warn(c)}return this._then(a,b,void 0,void 0,void 0)},d.prototype.done=function(a,b){var c=this._then(a,b,void 0,void 0,void 0);c._setIsFinal()},d.prototype.spread=function(a){return"function"!=typeof a?k("expecting a function but got "+m.classString(a)):this.all()._then(a,void 0,void 0,u,void 0)},d.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0),a},d.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},d.prototype.error=function(a){return this.caught(m.originatesFromRejection,a)},d.is=function(a){return a instanceof d},d.fromNode=d.fromCallback=function(a){var b=new d(t);b._captureStackTrace();var c=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,e=F(a)(D(b,c));return e===E&&b._rejectCallback(e.e,!0),b._isFateSealed()||b._setAsyncGuaranteed(),b},d.all=function(a){return new x(a).promise()},d.cast=function(a){var b=w(a);return b instanceof d||(b=new d(t),b._captureStackTrace(),b._setFulfilled(),b._rejectionHandler0=a),b},d.resolve=d.fulfilled=d.cast,d.reject=d.rejected=function(a){var b=new d(t);return b._captureStackTrace(),b._rejectCallback(a,!0),b},d.setScheduler=function(a){if("function"!=typeof a)throw new r("expecting a function but got "+m.classString(a));return p.setScheduler(a)},d.prototype._then=function(a,b,c,e,f){var g=void 0!==f,i=g?f:new d(t),j=this._target(),k=j._bitField;g||(i._propagateFrom(this,3),i._captureStackTrace(),void 0===e&&0!==(2097152&this._bitField)&&(e=0!==(50397184&k)?this._boundValue():j===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,i));var l=h();if(0!==(50397184&k)){var m,n,o=j._settlePromiseCtx;0!==(33554432&k)?(n=j._rejectionHandler0,m=a):0!==(16777216&k)?(n=j._fulfillmentHandler0,m=b,j._unsetRejectionIsUnhandled()):(o=j._settlePromiseLateCancellationObserver,n=new s("late cancellation observer"),j._attachExtraTrace(n),m=b),p.invoke(o,j,{handler:null===l?m:"function"==typeof m&&l.bind(m),promise:i,receiver:e,value:n})}else j._addCallbacks(a,b,i,e,l);return i},d.prototype._length=function(){return 65535&this._bitField},d.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},d.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},d.prototype._setLength=function(a){this._bitField=-65536&this._bitField|65535&a},d.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},d.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},d.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},d.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},d.prototype._isFinal=function(){return(4194304&this._bitField)>0},d.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},d.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},d.prototype._setAsyncGuaranteed=function(){p.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},d.prototype._receiverAt=function(a){var b=0===a?this._receiver0:this[4*a-4+3];return b===l?void 0:void 0===b&&this._isBound()?this._boundValue():b},d.prototype._promiseAt=function(a){return this[4*a-4+2]},d.prototype._fulfillmentHandlerAt=function(a){return this[4*a-4+0]},d.prototype._rejectionHandlerAt=function(a){return this[4*a-4+1]},d.prototype._boundValue=function(){},d.prototype._migrateCallback0=function(a){var b=(a._bitField,a._fulfillmentHandler0),c=a._rejectionHandler0,d=a._promise0,e=a._receiverAt(0);void 0===e&&(e=l),this._addCallbacks(b,c,d,e,null)},d.prototype._migrateCallbackAt=function(a,b){var c=a._fulfillmentHandlerAt(b),d=a._rejectionHandlerAt(b),e=a._promiseAt(b),f=a._receiverAt(b);void 0===f&&(f=l),this._addCallbacks(c,d,e,f,null)},d.prototype._addCallbacks=function(a,b,c,d,e){var f=this._length();if(f>=65531&&(f=0,this._setLength(0)),0===f)this._promise0=c,this._receiver0=d,"function"==typeof a&&(this._fulfillmentHandler0=null===e?a:e.bind(a)),"function"==typeof b&&(this._rejectionHandler0=null===e?b:e.bind(b));else{var g=4*f-4;this[g+2]=c,this[g+3]=d,"function"==typeof a&&(this[g+0]=null===e?a:e.bind(a)),"function"==typeof b&&(this[g+1]=null===e?b:e.bind(b))}return this._setLength(f+1),f},d.prototype._proxy=function(a,b){this._addCallbacks(void 0,void 0,b,a,null)},d.prototype._resolveCallback=function(a,b){if(0===(117506048&this._bitField)){if(a===this)return this._rejectCallback(i(),!1);var c=w(a,this);if(!(c instanceof d))return this._fulfill(a);b&&this._propagateFrom(c,2);var e=c._target();if(e===this)return void this._reject(i());var f=e._bitField;if(0===(50397184&f)){var g=this._length();g>0&&e._migrateCallback0(this);for(var h=1;g>h;++h)e._migrateCallbackAt(this,h);this._setFollowing(),this._setLength(0),this._setFollowee(e)}else if(0!==(33554432&f))this._fulfill(e._value());else if(0!==(16777216&f))this._reject(e._reason());else{var j=new s("late cancellation observer");e._attachExtraTrace(j),this._reject(j)}}},d.prototype._rejectCallback=function(a,b,c){var d=m.ensureErrorObject(a),e=d===a;if(!e&&!c&&A.warnings()){var f="a promise was rejected with a non-error: "+m.classString(a);this._warn(f,!0)}this._attachExtraTrace(d,b?e:!1),this._reject(a)},d.prototype._resolveFromExecutor=function(a){var b=this;this._captureStackTrace(),this._pushContext();var c=!0,d=this._execute(a,function(a){b._resolveCallback(a)},function(a){b._rejectCallback(a,c)});c=!1,this._popContext(),void 0!==d&&b._rejectCallback(d,!0)},d.prototype._settlePromiseFromHandler=function(a,b,c,d){var e=d._bitField;if(0===(65536&e)){d._pushContext();var f;b===u?c&&"number"==typeof c.length?f=F(a).apply(this._boundValue(),c):(f=E,f.e=new r("cannot .spread() a non-array: "+m.classString(c))):f=F(a).call(b,c);var g=d._popContext();e=d._bitField,0===(65536&e)&&(f===v?d._reject(c):f===E?d._rejectCallback(f.e,!1):(A.checkForgottenReturns(f,g,"",d,this),d._resolveCallback(f)))}},d.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a},d.prototype._followee=function(){return this._rejectionHandler0},d.prototype._setFollowee=function(a){this._rejectionHandler0=a},d.prototype._settlePromise=function(a,c,e,f){var g=a instanceof d,h=this._bitField,i=0!==(134217728&h);0!==(65536&h)?(g&&a._invokeInternalOnCancel(),e instanceof B&&e.isFinallyHandler()?(e.cancelPromise=a,F(c).call(e,f)===E&&a._reject(E.e)):c===j?a._fulfill(j.call(e)):e instanceof b?e._promiseCancelled(a):g||a instanceof x?a._cancel():e.cancel()):"function"==typeof c?g?(i&&a._setAsyncGuaranteed(),this._settlePromiseFromHandler(c,e,f,a)):c.call(e,f,a):e instanceof b?e._isResolved()||(0!==(33554432&h)?e._promiseFulfilled(f,a):e._promiseRejected(f,a)):g&&(i&&a._setAsyncGuaranteed(),0!==(33554432&h)?a._fulfill(f):a._reject(f))},d.prototype._settlePromiseLateCancellationObserver=function(a){var b=a.handler,c=a.promise,e=a.receiver,f=a.value;"function"==typeof b?c instanceof d?this._settlePromiseFromHandler(b,e,f,c):b.call(e,f,c):c instanceof d&&c._reject(f)},d.prototype._settlePromiseCtx=function(a){this._settlePromise(a.promise,a.handler,a.receiver,a.value)},d.prototype._settlePromise0=function(a,b){var c=this._promise0,d=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(c,a,d,b)},d.prototype._clearCallbackDataAtIndex=function(a){var b=4*a-4;this[b+2]=this[b+3]=this[b+0]=this[b+1]=void 0},d.prototype._fulfill=function(a){var b=this._bitField;if(!((117506048&b)>>>16)){if(a===this){var c=i();return this._attachExtraTrace(c),this._reject(c)}this._setFulfilled(),this._rejectionHandler0=a,(65535&b)>0&&(0!==(134217728&b)?this._settlePromises():p.settlePromises(this))}},d.prototype._reject=function(a){var b=this._bitField;return(117506048&b)>>>16?void 0:(this._setRejected(),this._fulfillmentHandler0=a,this._isFinal()?p.fatalError(a,m.isNode):void((65535&b)>0?p.settlePromises(this):this._ensurePossibleRejectionHandled()))},d.prototype._fulfillPromises=function(a,b){for(var c=1;a>c;c++){var d=this._fulfillmentHandlerAt(c),e=this._promiseAt(c),f=this._receiverAt(c);this._clearCallbackDataAtIndex(c),this._settlePromise(e,d,f,b)}},d.prototype._rejectPromises=function(a,b){for(var c=1;a>c;c++){var d=this._rejectionHandlerAt(c),e=this._promiseAt(c),f=this._receiverAt(c);this._clearCallbackDataAtIndex(c),this._settlePromise(e,d,f,b)}},d.prototype._settlePromises=function(){var a=this._bitField,b=65535&a;if(b>0){if(0!==(16842752&a)){var c=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,c,a),this._rejectPromises(b,c)}else{var d=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,d,a),this._fulfillPromises(b,d)}this._setLength(0)}this._clearCancellationData()},d.prototype._settledValue=function(){var a=this._bitField;return 0!==(33554432&a)?this._rejectionHandler0:0!==(16777216&a)?this._fulfillmentHandler0:void 0},d.defer=d.pending=function(){A.deprecated("Promise.defer","new Promise");var a=new d(t);return{promise:a,resolve:e,reject:f}},m.notEnumerableProp(d,"_makeSelfResolutionError",i),a("./method")(d,t,w,k,A),a("./bind")(d,t,w,A),a("./cancel")(d,x,k,A),a("./direct_resolve")(d),a("./synchronous_inspection")(d),a("./join")(d,x,w,t,A),d.Promise=d,a("./map.js")(d,x,k,w,t,A),a("./call_get.js")(d),a("./using.js")(d,k,w,z,t,A),a("./timers.js")(d,t,A),a("./generators.js")(d,k,t,w,b,A),a("./nodeify.js")(d),a("./promisify.js")(d,t),a("./props.js")(d,x,w,k),a("./race.js")(d,t,w,k),a("./reduce.js")(d,x,k,w,t,A),a("./settle.js")(d,x,A),a("./some.js")(d,x,k),a("./filter.js")(d,t),a("./each.js")(d,t),a("./any.js")(d),m.toFastProperties(d),m.toFastProperties(d.prototype),g({a:1}),g({b:2}),g({c:3}),g(1),g(function(){}),g(void 0),g(!1),g(new d(t)),A.setBounds(o.firstLineError,m.lastLineError),d}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(a,b){"use strict";b.exports=function(b,c,d,e,f){function g(a){switch(a){case-2:return[];case-3:return{}}}function h(a){var d=this._promise=new b(c);a instanceof b&&d._propagateFrom(a,3),d._setOnCancel(this),this._values=a,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var i=a("./util");return i.isArray,i.inherits(h,f),h.prototype.length=function(){return this._length},h.prototype.promise=function(){return this._promise},h.prototype._init=function j(a,c){var f=d(this._values,this._promise);if(f instanceof b){f=f._target();var h=f._bitField;if(this._values=f,0===(50397184&h))return this._promise._setAsyncGuaranteed(),f._then(j,this._reject,void 0,this,c);if(0===(33554432&h))return 0!==(16777216&h)?this._reject(f._reason()):this._cancel();f=f._value()}if(f=i.asArray(f),null===f){var k=e("expecting an array or an iterable object but got "+i.classString(f)).reason();return void this._promise._rejectCallback(k,!1)}return 0===f.length?void(-5===c?this._resolveEmptyArray():this._resolve(g(c))):void this._iterate(f)},h.prototype._iterate=function(a){var c=this.getActualLength(a.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var e=this._promise,f=!1,g=null,h=0;c>h;++h){var i=d(a[h],e);i instanceof b?(i=i._target(),g=i._bitField):g=null,f?null!==g&&i.suppressUnhandledRejections():null!==g?0===(50397184&g)?(i._proxy(this,h),this._values[h]=i):f=0!==(33554432&g)?this._promiseFulfilled(i._value(),h):0!==(16777216&g)?this._promiseRejected(i._reason(),h):this._promiseCancelled(h):f=this._promiseFulfilled(i,h)}f||e._setAsyncGuaranteed()},h.prototype._isResolved=function(){return null===this._values},h.prototype._resolve=function(a){this._values=null,this._promise._fulfill(a)},h.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},h.prototype._reject=function(a){this._values=null,this._promise._rejectCallback(a,!1)},h.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},h.prototype._promiseCancelled=function(){return this._cancel(),!0},h.prototype._promiseRejected=function(a){return this._totalResolved++,this._reject(a),!0},h.prototype._resultCancelled=function(){if(!this._isResolved()){var a=this._values;if(this._cancel(),a instanceof b)a.cancel();else for(var c=0;c<a.length;++c)a[c]instanceof b&&a[c].cancel()}},h.prototype.shouldCopyValues=function(){return!0},h.prototype.getActualLength=function(a){return a},h}},{"./util":36}],24:[function(a,b){"use strict";b.exports=function(b,c){function d(a){return!w.test(a)}function e(a){try{return a.__isPromisified__===!0}catch(b){return!1}}function f(a,b,c){var d=n.getDataPropertyOrDefault(a,b+c,u);return d?e(d):!1}function g(a,b,c){for(var d=0;d<a.length;d+=2){var e=a[d];if(c.test(e))for(var f=e.replace(c,""),g=0;g<a.length;g+=2)if(a[g]===f)throw new s("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",b))}}function h(a,b,c,d){for(var h=n.inheritedDataKeys(a),i=[],j=0;j<h.length;++j){var k=h[j],l=a[k],m=d===x?!0:x(k,l,a);"function"!=typeof l||e(l)||f(a,k,b)||!d(k,l,a,m)||i.push(k,l)}return g(i,b,c),i}function i(a,d,e,f,g,h){function i(){var e=d;d===m&&(e=this);var f=new b(c);f._captureStackTrace();var g="string"==typeof k&&this!==j?this[k]:a,i=o(f,h);try{g.apply(e,p(arguments,i))}catch(l){f._rejectCallback(q(l),!0,!0)}return f._isFateSealed()||f._setAsyncGuaranteed(),f}var j=function(){return this}(),k=a;return"string"==typeof k&&(a=f),n.notEnumerableProp(i,"__isPromisified__",!0),i}function j(a,b,c,d,e){for(var f=new RegExp(y(b)+"$"),g=h(a,b,f,c),i=0,j=g.length;j>i;i+=2){var k=g[i],l=g[i+1],o=k+b;if(d===z)a[o]=z(k,m,k,l,b,e);else{var p=d(l,function(){return z(k,m,k,l,b,e)});n.notEnumerableProp(p,"__isPromisified__",!0),a[o]=p}}return n.toFastProperties(a),a}function k(a,b,c){return z(a,b,void 0,a,null,c)}var l,m={},n=a("./util"),o=a("./nodeback"),p=n.withAppended,q=n.maybeWrapAsError,r=n.canEvaluate,s=a("./errors").TypeError,t="Async",u={__isPromisified__:!0},v=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+v.join("|")+")$"),x=function(a){return n.isIdentifier(a)&&"_"!==a.charAt(0)&&"constructor"!==a},y=function(a){return a.replace(/([$])/,"\\$")},z=r?l:i;b.promisify=function(a,b){if("function"!=typeof a)throw new s("expecting a function but got "+n.classString(a));if(e(a))return a;b=Object(b);var c=void 0===b.context?m:b.context,f=!!b.multiArgs,g=k(a,c,f);return n.copyDescriptors(a,g,d),g},b.promisifyAll=function(a,b){if("function"!=typeof a&&"object"!=typeof a)throw new s("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");b=Object(b);var c=!!b.multiArgs,d=b.suffix;"string"!=typeof d&&(d=t);var e=b.filter;"function"!=typeof e&&(e=x);var f=b.promisifier;if("function"!=typeof f&&(f=z),!n.isIdentifier(d))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var g=n.inheritedDataKeys(a),h=0;h<g.length;++h){var i=a[g[h]];"constructor"!==g[h]&&n.isClass(i)&&(j(i.prototype,d,e,f,c),j(i,d,e,f,c))}return j(a,d,e,f,c)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(a,b){"use strict";b.exports=function(b,c,d,e){function f(a){var b,c=!1;if(void 0!==h&&a instanceof h)b=l(a),c=!0;else{var d=k.keys(a),e=d.length;b=new Array(2*e);for(var f=0;e>f;++f){var g=d[f];b[f]=a[g],b[f+e]=g}}this.constructor$(b),this._isMap=c,this._init$(void 0,-3)}function g(a){var c,g=d(a);return j(g)?(c=g instanceof b?g._then(b.props,void 0,void 0,void 0,void 0):new f(g).promise(),g instanceof b&&c._propagateFrom(g,2),c):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var h,i=a("./util"),j=i.isObject,k=a("./es5");"function"==typeof Map&&(h=Map);var l=function(){function a(a,d){this[b]=a,this[b+c]=d,b++}var b=0,c=0;return function(d){c=d.size,b=0;var e=new Array(2*d.size);return d.forEach(a,e),e}}(),m=function(a){for(var b=new h,c=a.length/2|0,d=0;c>d;++d){var e=a[c+d],f=a[d];b.set(e,f)}return b};i.inherits(f,c),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;if(c>=this._length){var d;if(this._isMap)d=m(this._values);else{d={};for(var e=this.length(),f=0,g=this.length();g>f;++f)d[this._values[f+e]]=this._values[f]}return this._resolve(d),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(a){return a>>1},b.prototype.props=function(){return g(this)},b.props=function(a){return g(a)}}},{"./es5":13,"./util":36}],26:[function(a,b){"use strict";function c(a,b,c,d,e){for(var f=0;e>f;++f)c[f+d]=a[f+b],a[f+b]=void 0}function d(a){this._capacity=a,this._length=0,this._front=0}d.prototype._willBeOverCapacity=function(a){return this._capacity<a},d.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);var c=this._front+b&this._capacity-1;this[c]=a,this._length=b+1},d.prototype._unshiftOne=function(a){var b=this._capacity;this._checkCapacity(this.length()+1);var c=this._front,d=(c-1&b-1^b)-b;this[d]=a,this._front=d,this._length=this.length()+1},d.prototype.unshift=function(a,b,c){this._unshiftOne(c),this._unshiftOne(b),this._unshiftOne(a)},d.prototype.push=function(a,b,c){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(a),this._pushOne(b),void this._pushOne(c);var e=this._front+d-3;this._checkCapacity(d);var f=this._capacity-1;this[e+0&f]=a,this[e+1&f]=b,this[e+2&f]=c,this._length=d},d.prototype.shift=function(){var a=this._front,b=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,b},d.prototype.length=function(){return this._length},d.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<1)},d.prototype._resizeTo=function(a){var b=this._capacity;this._capacity=a;var d=this._front,e=this._length,f=d+e&b-1;c(this,0,this,b,f)},b.exports=d},{}],27:[function(a,b){"use strict";b.exports=function(b,c,d,e){function f(a,f){var i=d(a);if(i instanceof b)return h(i);if(a=g.asArray(a),null===a)return e("expecting an array or an iterable object but got "+g.classString(a));var j=new b(c);void 0!==f&&j._propagateFrom(f,3);for(var k=j._fulfill,l=j._reject,m=0,n=a.length;n>m;++m){var o=a[m];(void 0!==o||m in a)&&b.cast(o)._then(k,l,void 0,j,null)}return j}var g=a("./util"),h=function(a){return a.then(function(b){return f(b,a)})};b.race=function(a){return f(a,void 0)},b.prototype.race=function(){return f(this,void 0)}}},{"./util":36}],28:[function(a,b){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,c,d,e){this.constructor$(a);var g=m();this._fn=null===g?c:g.bind(c),void 0!==d&&(d=b.resolve(d),d._attachCancellationCallback(this)),this._initialValue=d,this._currentCancellable=null,this._eachValues=e===f?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function i(a,b){this.isFulfilled()?b._resolve(a):b._reject(a)}function j(a,b,c,e){if("function"!=typeof b)return d("expecting a function but got "+n.classString(b));var f=new h(a,b,c,e);return f.promise()}function k(a){this.accum=a,this.array._gotAccum(a);var c=e(this.value,this.array._promise);return c instanceof b?(this.array._currentCancellable=c,c._then(l,void 0,void 0,this,void 0)):l.call(this,c)}function l(a){var c=this.array,d=c._promise,e=o(c._fn);d._pushContext();var f;f=void 0!==c._eachValues?e.call(d._boundValue(),a,this.index,this.length):e.call(d._boundValue(),this.accum,a,this.index,this.length),f instanceof b&&(c._currentCancellable=f);var h=d._popContext();return g.checkForgottenReturns(f,h,void 0!==c._eachValues?"Promise.each":"Promise.reduce",d),f}var m=b._getDomain,n=a("./util"),o=n.tryCatch;n.inherits(h,c),h.prototype._gotAccum=function(a){void 0!==this._eachValues&&a!==f&&this._eachValues.push(a)},h.prototype._eachComplete=function(a){return this._eachValues.push(a),this._eachValues},h.prototype._init=function(){},h.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},h.prototype.shouldCopyValues=function(){
return!1},h.prototype._resolve=function(a){this._promise._resolveCallback(a),this._values=null},h.prototype._resultCancelled=function(a){return a===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof b&&this._currentCancellable.cancel(),this._initialValue instanceof b&&this._initialValue.cancel()))},h.prototype._iterate=function(a){this._values=a;var c,d,e=a.length;if(void 0!==this._initialValue?(c=this._initialValue,d=0):(c=b.resolve(a[0]),d=1),this._currentCancellable=c,!c.isRejected())for(;e>d;++d){var f={accum:null,value:a[d],index:d,length:e,array:this};c=c._then(k,void 0,void 0,f,void 0)}void 0!==this._eachValues&&(c=c._then(this._eachComplete,void 0,void 0,this,void 0)),c._then(i,i,void 0,c,this)},b.prototype.reduce=function(a,b){return j(this,a,b,null)},b.reduce=function(a,b,c,d){return j(a,b,c,d)}}},{"./util":36}],29:[function(a,b){"use strict";var c,d=a("./util"),e=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},f=d.getNativePromise();if(d.isNode&&"undefined"==typeof MutationObserver){var g=global.setImmediate,h=process.nextTick;c=d.isRecentNode?function(a){g.call(global,a)}:function(a){h.call(process,a)}}else if("function"==typeof f){var i=f.resolve();c=function(a){i.then(a)}}else c="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof setImmediate?function(a){setImmediate(a)}:"undefined"!=typeof setTimeout?function(a){setTimeout(a,0)}:e:function(){var a=document.createElement("div"),b={attributes:!0},c=!1,d=document.createElement("div"),e=new MutationObserver(function(){a.classList.toggle("foo"),c=!1});e.observe(d,b);var f=function(){c||(c=!0,d.classList.toggle("foo"))};return function(c){var d=new MutationObserver(function(){d.disconnect(),c()});d.observe(a,b),f()}}();b.exports=c},{"./util":36}],30:[function(a,b){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a)}var f=b.PromiseInspection,g=a("./util");g.inherits(e,c),e.prototype._promiseResolved=function(a,b){this._values[a]=b;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},e.prototype._promiseFulfilled=function(a,b){var c=new f;return c._bitField=33554432,c._settledValueField=a,this._promiseResolved(b,c)},e.prototype._promiseRejected=function(a,b){var c=new f;return c._bitField=16777216,c._settledValueField=a,this._promiseResolved(b,c)},b.settle=function(a){return d.deprecated(".settle()",".reflect()"),new e(a).promise()},b.prototype.settle=function(){return b.settle(this)}}},{"./util":36}],31:[function(a,b){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a),this._howMany=0,this._unwrap=!1,this._initialized=!1}function f(a,b){if((0|b)!==b||0>b)return d("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var c=new e(a),f=c.promise();return c.setHowMany(b),c.init(),f}var g=a("./util"),h=a("./errors").RangeError,i=a("./errors").AggregateError,j=g.isArray,k={};g.inherits(e,c),e.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var a=j(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},e.prototype.init=function(){this._initialized=!0,this._init()},e.prototype.setUnwrap=function(){this._unwrap=!0},e.prototype.howMany=function(){return this._howMany},e.prototype.setHowMany=function(a){this._howMany=a},e.prototype._promiseFulfilled=function(a){return this._addFulfilled(a),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values),!0):!1},e.prototype._promiseRejected=function(a){return this._addRejected(a),this._checkOutcome()},e.prototype._promiseCancelled=function(){return this._values instanceof b||null==this._values?this._cancel():(this._addRejected(k),this._checkOutcome())},e.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var a=new i,b=this.length();b<this._values.length;++b)this._values[b]!==k&&a.push(this._values[b]);return a.length>0?this._reject(a):this._cancel(),!0}return!1},e.prototype._fulfilled=function(){return this._totalResolved},e.prototype._rejected=function(){return this._values.length-this.length()},e.prototype._addRejected=function(a){this._values.push(a)},e.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},e.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},e.prototype._getRangeError=function(a){var b="Input array must contain at least "+this._howMany+" items but contains only "+a+" items";return new h(b)},e.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},b.some=function(a,b){return f(a,b)},b.prototype.some=function(a){return f(this,a)},b._SomePromiseArray=e}},{"./errors":12,"./util":36}],32:[function(a,b){"use strict";b.exports=function(a){function b(a){void 0!==a?(a=a._target(),this._bitField=a._bitField,this._settledValueField=a._isFateSealed()?a._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}b.prototype._settledValue=function(){return this._settledValueField};var c=b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},d=b.prototype.error=b.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},e=b.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},f=b.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},g=b.prototype.isPending=function(){return 0===(50397184&this._bitField)},h=b.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};b.prototype.isCancelled=a.prototype._isCancelled=function(){return 65536===(65536&this._bitField)},a.prototype.isCancelled=function(){return this._target()._isCancelled()},a.prototype.isPending=function(){return g.call(this._target())},a.prototype.isRejected=function(){return f.call(this._target())},a.prototype.isFulfilled=function(){return e.call(this._target())},a.prototype.isResolved=function(){return h.call(this._target())},a.prototype.value=function(){return c.call(this._target())},a.prototype.reason=function(){var a=this._target();return a._unsetRejectionIsUnhandled(),d.call(a)},a.prototype._value=function(){return this._settledValue()},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},a.PromiseInspection=b}},{}],33:[function(a,b){"use strict";b.exports=function(b,c){function d(a,d){if(k(a)){if(a instanceof b)return a;var e=f(a);if(e===j){d&&d._pushContext();var i=b.reject(e.e);return d&&d._popContext(),i}if("function"==typeof e){if(g(a)){var i=new b(c);return a._then(i._fulfill,i._reject,void 0,i,null),i}return h(a,e,d)}}return a}function e(a){return a.then}function f(a){try{return e(a)}catch(b){return j.e=b,j}}function g(a){return l.call(a,"_promise0")}function h(a,d,e){function f(a){h&&(h._resolveCallback(a),h=null)}function g(a){h&&(h._rejectCallback(a,l,!0),h=null)}var h=new b(c),k=h;e&&e._pushContext(),h._captureStackTrace(),e&&e._popContext();var l=!0,m=i.tryCatch(d).call(a,f,g);return l=!1,h&&m===j&&(h._rejectCallback(m.e,!0,!0),h=null),k}var i=a("./util"),j=i.errorObj,k=i.isObject,l={}.hasOwnProperty;return d}},{"./util":36}],34:[function(a,b){"use strict";b.exports=function(b,c,d){function e(a){this.handle=a}function f(a){return clearTimeout(this.handle),a}function g(a){throw clearTimeout(this.handle),a}var h=a("./util"),i=b.TimeoutError;e.prototype._resultCancelled=function(){clearTimeout(this.handle)};var j=function(a){return k(+this).thenReturn(a)},k=b.delay=function(a,f){var g,h;return void 0!==f?(g=b.resolve(f)._then(j,null,null,a,void 0),d.cancellation()&&f instanceof b&&g._setOnCancel(f)):(g=new b(c),h=setTimeout(function(){g._fulfill()},+a),d.cancellation()&&g._setOnCancel(new e(h))),g._setAsyncGuaranteed(),g};b.prototype.delay=function(a){return k(a,this)};var l=function(a,b,c){var d;d="string"!=typeof b?b instanceof Error?b:new i("operation timed out"):new i(b),h.markAsOriginatingFromRejection(d),a._attachExtraTrace(d),a._reject(d),null!=c&&c.cancel()};b.prototype.timeout=function(a,b){a=+a;var c,h,i=new e(setTimeout(function(){c.isPending()&&l(c,b,h)},a));return d.cancellation()?(h=this.then(),c=h._then(f,g,void 0,i,void 0),c._setOnCancel(i)):c=this._then(f,g,void 0,i,void 0),c}}},{"./util":36}],35:[function(a,b){"use strict";b.exports=function(b,c,d,e,f,g){function h(a){setTimeout(function(){throw a},0)}function i(a){var b=d(a);return b!==a&&"function"==typeof a._isDisposable&&"function"==typeof a._getDisposer&&a._isDisposable()&&b._setDisposable(a._getDisposer()),b}function j(a,c){function e(){if(g>=j)return k._fulfill();var f=i(a[g++]);if(f instanceof b&&f._isDisposable()){try{f=d(f._getDisposer().tryDispose(c),a.promise)}catch(l){return h(l)}if(f instanceof b)return f._then(e,h,null,null,null)}e()}var g=0,j=a.length,k=new b(f);return e(),k}function k(a,b,c){this._data=a,this._promise=b,this._context=c}function l(a,b,c){this.constructor$(a,b,c)}function m(a){return k.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}function n(a){this.length=a,this.promise=null,this[a-1]=null}var o=a("./util"),p=a("./errors").TypeError,q=a("./util").inherits,r=o.errorObj,s=o.tryCatch;k.prototype.data=function(){return this._data},k.prototype.promise=function(){return this._promise},k.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},k.prototype.tryDispose=function(a){var b=this.resource(),c=this._context;void 0!==c&&c._pushContext();var d=null!==b?this.doDispose(b,a):null;return void 0!==c&&c._popContext(),this._promise._unsetDisposable(),this._data=null,d},k.isDisposer=function(a){return null!=a&&"function"==typeof a.resource&&"function"==typeof a.tryDispose},q(l,k),l.prototype.doDispose=function(a,b){var c=this.data();return c.call(a,a,b)},n.prototype._resultCancelled=function(){for(var a=this.length,c=0;a>c;++c){var d=this[c];d instanceof b&&d.cancel()}},b.using=function(){var a=arguments.length;if(2>a)return c("you must pass at least 2 arguments to Promise.using");var e=arguments[a-1];if("function"!=typeof e)return c("expecting a function but got "+o.classString(e));var f,h=!0;2===a&&Array.isArray(arguments[0])?(f=arguments[0],a=f.length,h=!1):(f=arguments,a--);for(var i=new n(a),l=0;a>l;++l){var p=f[l];if(k.isDisposer(p)){var q=p;p=p.promise(),p._setDisposable(q)}else{var t=d(p);t instanceof b&&(p=t._then(m,null,null,{resources:i,index:l},void 0))}i[l]=p}for(var u=new Array(i.length),l=0;l<u.length;++l)u[l]=b.resolve(i[l]).reflect();var v=b.all(u).then(function(a){for(var b=0;b<a.length;++b){var c=a[b];if(c.isRejected())return r.e=c.error(),r;if(!c.isFulfilled())return void v.cancel();a[b]=c.value()}w._pushContext(),e=s(e);var d=h?e.apply(void 0,a):e(a),f=w._popContext();return g.checkForgottenReturns(d,f,"Promise.using",w),d}),w=v.lastly(function(){var a=new b.PromiseInspection(v);return j(i,a)});return i.promise=w,w._setOnCancel(i),w},b.prototype._setDisposable=function(a){this._bitField=131072|this._bitField,this._disposer=a},b.prototype._isDisposable=function(){return(131072&this._bitField)>0},b.prototype._getDisposer=function(){return this._disposer},b.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},b.prototype.disposer=function(a){if("function"==typeof a)return new l(a,this,e());throw new p}}},{"./errors":12,"./util":36}],36:[function(a,b){"use strict";function c(){try{var a=y;return y=null,a.apply(this,arguments)}catch(b){return B.e=b,B}}function d(a){return y=a,c}function e(a){return null==a||a===!0||a===!1||"string"==typeof a||"number"==typeof a}function f(a){return"function"==typeof a||"object"==typeof a&&null!==a}function g(a){return e(a)?new Error(p(a)):a}function h(a,b){var c,d=a.length,e=new Array(d+1);for(c=0;d>c;++c)e[c]=a[c];return e[c]=b,e}function i(a,b,c){if(!z.isES5)return{}.hasOwnProperty.call(a,b)?a[b]:void 0;var d=Object.getOwnPropertyDescriptor(a,b);return null!=d?null==d.get&&null==d.set?d.value:c:void 0}function j(a,b,c){if(e(a))return a;var d={value:c,configurable:!0,enumerable:!1,writable:!0};return z.defineProperty(a,b,d),a}function k(a){throw a}function l(a){try{if("function"==typeof a){var b=z.names(a.prototype),c=z.isES5&&b.length>1,d=b.length>0&&!(1===b.length&&"constructor"===b[0]),e=F.test(a+"")&&z.names(a).length>0;if(c||d||e)return!0}return!1}catch(f){return!1}}function m(a){function b(){}b.prototype=a;for(var c=8;c--;)new b;return a}function n(a){return G.test(a)}function o(a,b,c){for(var d=new Array(a),e=0;a>e;++e)d[e]=b+e+c;return d}function p(a){try{return a+""}catch(b){return"[no string representation]"}}function q(a){return null!==a&&"object"==typeof a&&"string"==typeof a.message&&"string"==typeof a.name}function r(a){try{j(a,"isOperational",!0)}catch(b){}}function s(a){return null==a?!1:a instanceof Error.__BluebirdErrorTypes__.OperationalError||a.isOperational===!0}function t(a){return q(a)&&z.propertyIsWritable(a,"stack")}function u(a){return{}.toString.call(a)}function v(a,b,c){for(var d=z.names(a),e=0;e<d.length;++e){var f=d[e];if(c(f))try{z.defineProperty(b,f,z.getDescriptor(a,f))}catch(g){}}}function w(a,b){return K?process.env[a]:b}function x(){if("function"==typeof Promise)try{var a=new Promise(function(){});if("[object Promise]"==={}.toString.call(a))return Promise}catch(b){}}var y,z=a("./es5"),A="undefined"==typeof navigator,B={e:{}},C="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,D=function(a,b){function c(){this.constructor=a,this.constructor$=b;for(var c in b.prototype)d.call(b.prototype,c)&&"$"!==c.charAt(c.length-1)&&(this[c+"$"]=b.prototype[c])}var d={}.hasOwnProperty;return c.prototype=b.prototype,a.prototype=new c,a.prototype},E=function(){var a=[Array.prototype,Object.prototype,Function.prototype],b=function(b){for(var c=0;c<a.length;++c)if(a[c]===b)return!0;return!1};if(z.isES5){var c=Object.getOwnPropertyNames;return function(a){for(var d=[],e=Object.create(null);null!=a&&!b(a);){var f;try{f=c(a)}catch(g){return d}for(var h=0;h<f.length;++h){var i=f[h];if(!e[i]){e[i]=!0;var j=Object.getOwnPropertyDescriptor(a,i);null!=j&&null==j.get&&null==j.set&&d.push(i)}}a=z.getPrototypeOf(a)}return d}}var d={}.hasOwnProperty;return function(c){if(b(c))return[];var e=[];a:for(var f in c)if(d.call(c,f))e.push(f);else{for(var g=0;g<a.length;++g)if(d.call(a[g],f))continue a;e.push(f)}return e}}(),F=/this\s*\.\s*\S+\s*=/,G=/^[a-z$_][a-z$_0-9]*$/i,H=function(){return"stack"in new Error?function(a){return t(a)?a:new Error(p(a))}:function(a){if(t(a))return a;try{throw new Error(p(a))}catch(b){return b}}}(),I=function(a){return z.isArray(a)?a:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var J="function"==typeof Array.from?function(a){return Array.from(a)}:function(a){for(var b,c=[],d=a[Symbol.iterator]();!(b=d.next()).done;)c.push(b.value);return c};I=function(a){return z.isArray(a)?a:null!=a&&"function"==typeof a[Symbol.iterator]?J(a):null}}var K="undefined"!=typeof process&&"[object process]"===u(process).toLowerCase(),L={isClass:l,isIdentifier:n,inheritedDataKeys:E,getDataPropertyOrDefault:i,thrower:k,isArray:z.isArray,asArray:I,notEnumerableProp:j,isPrimitive:e,isObject:f,isError:q,canEvaluate:A,errorObj:B,tryCatch:d,inherits:D,withAppended:h,maybeWrapAsError:g,toFastProperties:m,filledRange:o,toString:p,canAttachTrace:t,ensureErrorObject:H,originatesFromRejection:s,markAsOriginatingFromRejection:r,classString:u,copyDescriptors:v,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:K,env:w,global:C,getNativePromise:x};L.isRecentNode=L.isNode&&function(){var a=process.versions.node.split(".").map(Number);return 0===a[0]&&a[1]>10||a[0]>0}(),L.isNode&&L.toFastProperties(process);try{throw new Error}catch(M){L.lastLineError=M}b.exports=L},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.download=b()}(this,function(){return function a(b,c,d){function e(a){var b=a.split(/[:;,]/),c=b[1],d="base64"==b[2]?atob:decodeURIComponent,e=d(b.pop()),f=e.length,g=0,h=new Uint8Array(f);for(g;f>g;++g)h[g]=e.charCodeAt(g);return new p([h],{type:c})}function f(a,b){if("download"in n)return n.href=a,n.setAttribute("download",q),n.className="download-js-link",n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout(function(){n.click(),document.body.removeChild(n),b===!0&&setTimeout(function(){i.URL.revokeObjectURL(n.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return a=a.replace(/^data:([\w\/\-\+]+)/,j),window.open(a)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=a),!0;var c=document.createElement("iframe");document.body.appendChild(c),b||(a="data:"+a.replace(/^data:([\w\/\-\+]+)/,j)),c.src=a,setTimeout(function(){document.body.removeChild(c)},333)}var g,h,i=window,j="application/octet-stream",k=d||j,l=b,m=!c&&!d&&l,n=document.createElement("a"),o=function(a){return String(a)},p=i.Blob||i.MozBlob||i.WebKitBlob||o,q=c||"download";if(p=p.call?p.bind(i):Blob,"true"===String(this)&&(l=[l,k],k=l[0],l=l[1]),m&&m.length<2048&&(q=m.split("/").pop().split("?")[0],n.href=m,-1!==n.href.indexOf(m))){var r=new XMLHttpRequest;return r.open("GET",m,!0),r.responseType="blob",r.onload=function(b){a(b.target.response,q,j)},setTimeout(function(){r.send()},0),r}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(l)){if(!(l.length>2096103.424&&p!==o))return navigator.msSaveBlob?navigator.msSaveBlob(e(l),q):f(l);l=e(l),k=l.type||j}if(g=l instanceof p?l:new p([l],{type:k}),navigator.msSaveBlob)return navigator.msSaveBlob(g,q);if(i.URL)f(i.URL.createObjectURL(g),!0);else{if("string"==typeof g||g.constructor===o)try{return f("data:"+k+";base64,"+i.btoa(g))}catch(s){return f("data:"+k+","+encodeURIComponent(g))}h=new FileReader,h.onload=function(){f(this.result)},h.readAsDataURL(g)}return!0}}),function(a){"use strict";if("1.6.7"!=a.fabric.version){{var b=a.fabric||(a.fabric={}),c=b.util.object.extend;b.util.object.clone}if(b.CurvedText)return void b.warn("fabric.CurvedText is already defined");var d=b.Text.prototype.stateProperties.concat();d.push("radius","spacing","reverse","effect","range","largeFont","smallFont");var e=b.Text.prototype._dimensionAffectingProps.concat(["radius","spacing","reverse","fill","effect","width","height","range","fontSize","shadow","largeFont","smallFont"]),f=["backgroundColor","textBackgroundColor","textDecoration","stroke","strokeWidth","shadow","fontWeight","fontStyle","strokeWidth","textAlign"];b.CurvedText=b.util.createClass(b.Text,b.Collection,{type:"curvedText",radius:50,range:5,smallFont:10,largeFont:30,effect:"curved",spacing:20,reverse:!1,stateProperties:d,_dimensionAffectingProps:e,_isRendering:0,complexity:function(){this.callSuper("complexity")},initialize:function(a,c){c||(c={}),this.__skipDimension=!0,delete c.text,this.setOptions(c),this.__skipDimension=!1,parseFloat(b.version)>=2&&this.callSuper("initialize",a,c),this.letters=new b.Group([],{selectable:!1,padding:0}),this.setText(a)},setText:function(a){if(this.letters){for(;this.letters.size();)this.letters.remove(this.letters.item(0));for(var c=0;c<a.length;c++)void 0===this.letters.item(c)?this.letters.add(new b.Text(a[c])):this.letters.item(c).text=a[c]}this.text=a;for(var c=this.letters.size();c--;){var d=this.letters.item(c);d.set({objectCaching:!1,fill:this.fill,stroke:this.stroke,strokeWidth:this.strokeWidth,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontWeight:this.fontWeight,underline:this.underline,overline:this.overline,linethrough:this.linethrough,lineHeight:this.lineHeight})}this._updateLetters(),this.canvas&&this.canvas.renderAll()},_initDimensions:function(a){if(!this.__skipDimension){a||(a=b.util.createCanvasElement().getContext("2d"),this._setTextStyles(a)),this._textLines=this.text.split(this._reNewline),this._clearCache();var c=this.textAlign;this.textAlign="left",this.width=this.get("width"),this.textAlign=c,this.height=this.get("height"),this._updateLetters()}},_updateLetters:function(){var a=b.util.getRandomInt(100,999);if(this._isRendering=a,this.letters&&this.text){var c=0,d=0,e=0,g=parseInt(this.spacing),h=0;if("curved"===this.effect){for(var i=0,j=this.text.length;j>i;i++)e+=this.letters.item(i).width+g;e-=g}else"arc"===this.effect&&(h=(this.letters.item(0).fontSize+g)/this.radius/(Math.PI/180),e=(this.text.length+1)*(this.letters.item(0).fontSize+g));c="right"===this.get("textAlign")?90-e/2/this.radius/(Math.PI/180):"left"===this.get("textAlign")?-90-e/2/this.radius/(Math.PI/180):-(e/2/this.radius/(Math.PI/180)),this.reverse&&(c=-c);for(var k=0,l=this.reverse?-1:1,m=0,n=0,i=0,j=this.text.length;j>i;i++){if(a!==this._isRendering)return;for(var o in f)this.letters.item(i).set(o,this.get(o));if(this.letters.item(i).set("left",k),this.letters.item(i).set("top",0),this.letters.item(i).set("angle",0),this.letters.item(i).set("padding",0),"curved"===this.effect)m=(this.letters.item(i).width+g)/this.radius/(Math.PI/180),c=l*(l*c+n),d=c*(Math.PI/180),n=m,this.letters.item(i).set("angle",c),this.letters.item(i).set("top",-1*l*Math.cos(d)*this.radius),this.letters.item(i).set("left",l*Math.sin(d)*this.radius),this.letters.item(i).set("padding",0),this.letters.item(i).set("selectable",!1);else if("arc"===this.effect)c=l*(l*c+h),d=c*(Math.PI/180),this.letters.item(i).set("top",-1*l*Math.cos(d)*this.radius),this.letters.item(i).set("left",l*Math.sin(d)*this.radius),this.letters.item(i).set("padding",0),this.letters.item(i).set("selectable",!1);else if("STRAIGHT"===this.effect)this.letters.item(i).set("left",k),this.letters.item(i).set("top",0),this.letters.item(i).set("angle",0),k+=this.letters.item(i).get("width"),this.letters.item(i).set("padding",0),this.letters.item(i).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(i).set("selectable",!1);else if("smallToLarge"===this.effect){var p=parseInt(this.smallFont),q=parseInt(this.largeFont),r=q-p,s=Math.ceil(this.text.length/2),t=r/this.text.length,u=p+i*t;this.letters.item(i).set("fontSize",u),this.letters.item(i).set("left",k),k+=this.letters.item(i).get("width"),this.letters.item(i).set("padding",0),this.letters.item(i).set("selectable",!1),this.letters.item(i).set("top",-1*this.letters.item(i).get("fontSize")+i)}else if("largeToSmallTop"===this.effect){var p=parseInt(this.largeFont),q=parseInt(this.smallFont),r=q-p,s=Math.ceil(this.text.length/2),t=r/this.text.length,u=p+i*t;this.letters.item(i).set("fontSize",u),this.letters.item(i).set("left",k),k+=this.letters.item(i).get("width"),this.letters.item(i).set("padding",0),this.letters.item(i).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(i).set("padding",0),this.letters.item(i).set("selectable",!1),this.letters.item(i).top=-1*this.letters.item(i).get("fontSize")+i/this.text.length}else if("largeToSmallBottom"===this.effect){var p=parseInt(this.largeFont),q=parseInt(this.smallFont),r=q-p,s=Math.ceil(this.text.length/2),t=r/this.text.length,u=p+i*t;this.letters.item(i).set("fontSize",u),this.letters.item(i).set("left",k),k+=this.letters.item(i).get("width"),this.letters.item(i).set("padding",0),this.letters.item(i).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(i).set("padding",0),this.letters.item(i).set("selectable",!1),this.letters.item(i).top=-1*this.letters.item(i).get("fontSize")-i}else if("bulge"===this.effect){var p=parseInt(this.smallFont),q=parseInt(this.largeFont),r=q-p,s=Math.ceil(this.text.length/2),t=r/(this.text.length-s);if(s>i)var u=p+i*t;else var u=q-(i-s+1)*t;this.letters.item(i).set("fontSize",u),this.letters.item(i).set("left",k),k+=this.letters.item(i).get("width"),this.letters.item(i).set("padding",0),this.letters.item(i).set("selectable",!1),this.letters.item(i).set("top",-1*this.letters.item(i).get("height")/2)}}var v=this.letters.get("scaleX"),w=this.letters.get("scaleY"),x=this.letters.get("angle");this.letters.set("scaleX",1),this.letters.set("scaleY",1),this.letters.set("angle",0),this.letters._calcBounds(),this.letters._updateObjectsCoords(),this.letters.set("scaleX",v),this.letters.set("scaleY",w),this.letters.set("angle",x),this.width=this.letters.width,this.height=this.letters.height,this.letters.left=-(this.letters.width/2),this.letters.top=-(this.letters.height/2)}},render:function(a){if(this.visible&&this.letters){a.save(),this.transform(a);{Math.max(this.scaleX,this.scaleY)}this.clipTo&&b.util.clipContext(this,a);for(var c=0,d=this.letters.size();d>c;c++){{var e=this.letters.item(c);e.borderScaleFactor,e.hasRotatingPoint}e.visible&&e.render(a)}this.clipTo&&a.restore(),a.restore(),this.setCoords()}},_set:function(a,b){if("text"===a)return void this.setText(b);if(this.callSuper("_set",a,b),this.text&&this.letters){if(-1===["angle","left","top","scaleX","scaleY","width","height"].indexOf(a))for(var c=this.letters.size();c--;)this.letters.item(c).set(a,b);-1!==this._dimensionAffectingProps.indexOf(a)&&(this._updateLetters(),this.setCoords())}},initDimensions:function(){},toObject:function(a){var b=c(this.callSuper("toObject",a),{radius:this.radius,spacing:this.spacing,reverse:this.reverse,effect:this.effect,range:this.range,smallFont:this.smallFont,largeFont:this.largeFont});return this.includeDefaultValues||this._removeDefaultValues(b),b},toString:function(){return"#<fabric.CurvedText ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'", "radius": "'+this.radius+'", "spacing": "'+this.spacing+'", "reverse": "'+this.reverse+'" }>'},toSVG:function(a){var b=["<g ",'transform="',this.getSvgTransform(),'">'];if(this.letters)for(var c=0,d=this.letters.size();d>c;c++)b.push(this.letters.item(c).toSVG(a));return b.push("</g>"),a?a(b.join("")):b.join("")}}),b.CurvedText.fromObject=function(a,c){return b.Object._fromObject("CurvedText",a,c,"text")},b.CurvedText.async=!1}}("undefined"!=typeof exports?exports:this),function(a){"use strict";if("1.6.7"===a.fabric.version){var b=a.fabric||(a.fabric={}),c=b.util.object.extend,d=b.util.object.clone;if(b.CurvedText)return void b.warn("fabric.CurvedText is already defined");var e=b.Text.prototype.stateProperties.concat();e.push("radius","spacing","reverse","effect","range","largeFont","smallFont");var f=b.Text.prototype._dimensionAffectingProps;f.radius=!0,f.spacing=!0,f.reverse=!0,f.fill=!0,f.effect=!0,f.width=!0,f.height=!0,f.range=!0,f.fontSize=!0,f.shadow=!0,f.largeFont=!0,f.smallFont=!0;var g=b.Group.prototype.delegatedProperties;g.backgroundColor=!0,g.textBackgroundColor=!0,g.textDecoration=!0,g.stroke=!0,g.strokeWidth=!0,g.shadow=!0,g.fontWeight=!0,g.fontStyle=!0,g.strokeWidth=!0,g.textAlign=!0,b.CurvedText=b.util.createClass(b.Text,b.Collection,{type:"curvedText",radius:50,range:5,smallFont:10,largeFont:30,effect:"curved",spacing:20,reverse:!1,stateProperties:e,delegatedProperties:g,_dimensionAffectingProps:f,_isRendering:0,complexity:function(){this.callSuper("complexity")},initialize:function(a,c){c||(c={}),this.letters=new b.Group([],{selectable:!1,padding:0}),this.__skipDimension=!0,this.setOptions(c),this.__skipDimension=!1,parseFloat(b.version)>=2&&this.callSuper("initialize",a,c),this.setText(a),this._render()},setText:function(a){if(this.letters){for(;0!==a.length&&this.letters.size()>=a.length;)this.letters.remove(this.letters.item(this.letters.size()-1));for(var c=0;c<a.length;c++)void 0===this.letters.item(c)?this.letters.add(new b.Text(a[c])):this.letters.item(c).setText(a[c])}this.callSuper("setText",a),this._render()},_initDimensions:function(a){if(!this.__skipDimension){a||(a=b.util.createCanvasElement().getContext("2d"),this._setTextStyles(a)),this._textLines=this.text.split(this._reNewline),this._clearCache();var c=this.textAlign;this.textAlign="left",this.width=this.getWidth(),this.textAlign=c,this.height=this.getHeight(),this._render(a)}},_render:function(){var a=b.util.getRandomInt(100,999);if(this._isRendering=a,this.letters){var c=0,d=0,e=0,f=parseInt(this.spacing),g=0;if("curved"===this.effect){for(var h=0,i=this.text.length;i>h;h++)e+=this.letters.item(h).width+f;e-=f}else"arc"===this.effect&&(g=(this.letters.item(0).fontSize+f)/this.radius/(Math.PI/180),e=(this.text.length+1)*(this.letters.item(0).fontSize+f));c="right"===this.get("textAlign")?90-e/2/this.radius/(Math.PI/180):"left"===this.get("textAlign")?-90-e/2/this.radius/(Math.PI/180):-(e/2/this.radius/(Math.PI/180)),this.reverse&&(c=-c);for(var j=0,k=this.reverse?-1:1,l=0,m=0,h=0,i=this.text.length;i>h;h++){if(a!==this._isRendering)return;for(var n in this.delegatedProperties)this.letters.item(h).set(n,this.get(n));if(this.letters.item(h).set("left",j),this.letters.item(h).set("top",0),this.letters.item(h).setAngle(0),this.letters.item(h).set("padding",0),"curved"===this.effect)l=(this.letters.item(h).width+f)/this.radius/(Math.PI/180),c=k*(k*c+m),d=c*(Math.PI/180),m=l,this.letters.item(h).setAngle(c),this.letters.item(h).set("top",-1*k*Math.cos(d)*this.radius),this.letters.item(h).set("left",k*Math.sin(d)*this.radius),this.letters.item(h).set("padding",0),this.letters.item(h).set("selectable",!1);else if("arc"===this.effect)c=k*(k*c+g),d=c*(Math.PI/180),this.letters.item(h).set("top",-1*k*Math.cos(d)*this.radius),this.letters.item(h).set("left",k*Math.sin(d)*this.radius),this.letters.item(h).set("padding",0),this.letters.item(h).set("selectable",!1);else if("STRAIGHT"===this.effect)this.letters.item(h).set("left",j),this.letters.item(h).set("top",0),this.letters.item(h).setAngle(0),j+=this.letters.item(h).get("width"),this.letters.item(h).set("padding",0),this.letters.item(h).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(h).set("selectable",!1);else if("smallToLarge"===this.effect){var o=parseInt(this.smallFont),p=parseInt(this.largeFont),q=p-o,r=Math.ceil(this.text.length/2),s=q/this.text.length,t=o+h*s;this.letters.item(h).set("fontSize",t),this.letters.item(h).set("left",j),j+=this.letters.item(h).get("width"),this.letters.item(h).set("padding",0),this.letters.item(h).set("selectable",!1),this.letters.item(h).set("top",-1*this.letters.item(h).get("fontSize")+h)}else if("largeToSmallTop"===this.effect){var o=parseInt(this.largeFont),p=parseInt(this.smallFont),q=p-o,r=Math.ceil(this.text.length/2),s=q/this.text.length,t=o+h*s;this.letters.item(h).set("fontSize",t),this.letters.item(h).set("left",j),j+=this.letters.item(h).get("width"),this.letters.item(h).set("padding",0),this.letters.item(h).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(h).set("padding",0),this.letters.item(h).set("selectable",!1),this.letters.item(h).top=-1*this.letters.item(h).get("fontSize")+h/this.text.length}else if("largeToSmallBottom"===this.effect){var o=parseInt(this.largeFont),p=parseInt(this.smallFont),q=p-o,r=Math.ceil(this.text.length/2),s=q/this.text.length,t=o+h*s;this.letters.item(h).set("fontSize",t),this.letters.item(h).set("left",j),j+=this.letters.item(h).get("width"),this.letters.item(h).set("padding",0),this.letters.item(h).set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),this.letters.item(h).set("padding",0),this.letters.item(h).set("selectable",!1),
this.letters.item(h).top=-1*this.letters.item(h).get("fontSize")-h}else if("bulge"===this.effect){var o=parseInt(this.smallFont),p=parseInt(this.largeFont),q=p-o,r=Math.ceil(this.text.length/2),s=q/(this.text.length-r);if(r>h)var t=o+h*s;else var t=p-(h-r+1)*s;this.letters.item(h).set("fontSize",t),this.letters.item(h).set("left",j),j+=this.letters.item(h).get("width"),this.letters.item(h).set("padding",0),this.letters.item(h).set("selectable",!1),this.letters.item(h).set("top",-1*this.letters.item(h).get("height")/2)}}var u=this.letters.get("scaleX"),v=this.letters.get("scaleY"),w=this.letters.get("angle");this.letters.set("scaleX",1),this.letters.set("scaleY",1),this.letters.set("angle",0),this.letters._calcBounds(),this.letters._updateObjectsCoords(),this.letters.set("scaleX",u),this.letters.set("scaleY",v),this.letters.set("angle",w),this.width=this.letters.width,this.height=this.letters.height,this.letters.left=-(this.letters.width/2),this.letters.top=-(this.letters.height/2)}},_renderOld:function(){if(this.letters){var a=0,b=0,c=0,d=0;this.reverse&&(d=.5),"center"===this.get("textAlign")||"justify"===this.get("textAlign")?c=this.spacing/2*(this.text.length-d):"right"===this.get("textAlign")&&(c=this.spacing*(this.text.length-d));for(var e=this.reverse?1:-1,f=0,g=this.text.length;g>f;f++){a=e*(-f*parseInt(this.spacing,10)+c),b=a*(Math.PI/180);for(var h in this.delegatedProperties)this.letters.item(f).set(h,this.get(h));this.letters.item(f).set("top",e-Math.cos(b)*this.radius),this.letters.item(f).set("left",e+Math.sin(b)*this.radius),this.letters.item(f).setAngle(a),this.letters.item(f).set("padding",0),this.letters.item(f).set("selectable",!1)}this.letters._calcBounds(),this.letters.top=this.reverse?this.letters.top-2.5*this.height:0,this.letters.left=this.letters.left-this.width/2,this.letters.saveCoords(),this.width=this.letters.width,this.height=this.letters.height,this.letters.left=-(this.letters.width/2),this.letters.top=-(this.letters.height/2)}},render:function(a){if(this.visible&&this.letters){a.save(),this.transform(a);{Math.max(this.scaleX,this.scaleY)}this.clipTo&&b.util.clipContext(this,a);for(var c=0,d=this.letters.size();d>c;c++){{var e=this.letters.item(c);e.borderScaleFactor,e.hasRotatingPoint}e.visible&&e.render(a)}this.clipTo&&a.restore(),a.restore(),this.setCoords()}},_set:function(a,b){this.callSuper("_set",a,b),this.letters&&(this.letters.set(a,b),a in this._dimensionAffectingProps&&(this._initDimensions(),this.setCoords()))},toObject:function(a){var b=c(this.callSuper("toObject",a),{radius:this.radius,spacing:this.spacing,reverse:this.reverse,effect:this.effect,range:this.range,smallFont:this.smallFont,largeFont:this.largeFont});return this.includeDefaultValues||this._removeDefaultValues(b),b},toString:function(){return"#<fabric.CurvedText ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'", "radius": "'+this.radius+'", "spacing": "'+this.spacing+'", "reverse": "'+this.reverse+'" }>'},toSVG:function(a){var b=["<g ",'transform="',this.getSvgTransform(),'">'];if(this.letters)for(var c=0,d=this.letters.size();d>c;c++)b.push(this.letters.item(c).toSVG(a));return b.push("</g>"),a?a(b.join("")):b.join("")}}),b.CurvedText.fromObject=function(a){return new b.CurvedText(a.text,d(a))},b.util.createAccessors(b.CurvedText),b.CurvedText.async=!1}}("undefined"!=typeof exports?exports:this),this.JpegMeta)throw Error("Library included multiple times");var JpegMeta={};JpegMeta.stringIsClean=function(a){for(var b=0;b<a.length;b++)if(a.charCodeAt(b)<32)return!1;return!0},JpegMeta.parseNum=function(a,b,c,d){var e,f,g=">"===a;for(void 0===c&&(c=0),void 0===d&&(d=b.length-c),e=g?c:c+d-1;g?c+d>e:e>=c;g?e++:e--)f<<=8,f+=b.charCodeAt(e);return f},JpegMeta.parseSnum=function(a,b,c,d){var e,f,g,h=">"===a;for(void 0===c&&(c=0),void 0===d&&(d=b.length-c),e=h?c:c+d-1;h?c+d>e:e>=c;h?e++:e--)void 0===g&&(g=128===(128&b.charCodeAt(e))),f<<=8,f+=g?255&~b.charCodeAt(e):b.charCodeAt(e);return g&&(f+=1,f*=-1),f},JpegMeta.Rational=function(a,b){return this.num=a,this.den=b||1,this},JpegMeta.Rational.prototype.toString=function(){return 0===this.num?""+this.num:1===this.den?""+this.num:1===this.num?this.num+" / "+this.den:this.num/this.den},JpegMeta.Rational.prototype.asFloat=function(){return this.num/this.den},JpegMeta.MetaGroup=function(a,b){return this.fieldName=a,this.description=b,this.metaProps={},this},JpegMeta.MetaGroup.prototype._addProperty=function(a,b,c){var d=new JpegMeta.MetaProp(a,b,c);this[d.fieldName]=d,this.metaProps[d.fieldName]=d},JpegMeta.MetaGroup.prototype.toString=function(){return"[MetaGroup "+this.description+"]"},JpegMeta.MetaProp=function(a,b,c){return this.fieldName=a,this.description=b,this.value=c,this},JpegMeta.MetaProp.prototype.toString=function(){return""+this.value},this.JpegMeta.JpegFile=function(a,b){var c=this._SOS;this.metaGroups={},this._binary_data=a,this.filename=b;var d,e,f,g,h,i,j,k=0,l=0;if(this._binary_data.slice(0,2)!==this._SOI_MARKER)throw new Error("Doesn't look like a JPEG file. First two bytes are "+this._binary_data.charCodeAt(0)+","+this._binary_data.charCodeAt(1)+".");for(k+=2;k<this._binary_data.length&&(d=this._binary_data.charCodeAt(k++),e=this._binary_data.charCodeAt(k++),l=k,d==this._DELIM)&&e!==c;){for(h=JpegMeta.parseNum(">",this._binary_data,k,2),k+=h;k<this._binary_data.length;)if(d=this._binary_data.charCodeAt(k++),d==this._DELIM&&(f=this._binary_data.charCodeAt(k++),0!=f)){k-=2;break}g=k-l,this._markers[e]?(i=this._markers[e][0],j=this._markers[e][1]):(i="UNKN",j=void 0),j&&this[j](e,l+2,g-2)}if(void 0===this.general)throw Error("Invalid JPEG file.");return this},this.JpegMeta.JpegFile.prototype.toString=function(){return"[JpegFile "+this.filename+" "+this.general.type+" "+this.general.pixelWidth+"x"+this.general.pixelHeight+" Depth: "+this.general.depth+"]"},this.JpegMeta.JpegFile.prototype._SOI_MARKER="",this.JpegMeta.JpegFile.prototype._DELIM=255,this.JpegMeta.JpegFile.prototype._EOI=217,this.JpegMeta.JpegFile.prototype._SOS=218,this.JpegMeta.JpegFile.prototype._sofHandler=function(a,b){if(void 0!==this.general)throw Error("Unexpected multiple-frame image");this._addMetaGroup("general","General"),this.general._addProperty("depth","Depth",JpegMeta.parseNum(">",this._binary_data,b,1)),this.general._addProperty("pixelHeight","Pixel Height",JpegMeta.parseNum(">",this._binary_data,b+1,2)),this.general._addProperty("pixelWidth","Pixel Width",JpegMeta.parseNum(">",this._binary_data,b+3,2)),this.general._addProperty("type","Type",this._markers[a][2])},this.JpegMeta.JpegFile.prototype._commentHandler=function(a,b,c){var d,e;for(b++,c--,d=b,e="";b+c>d;)e+=String.fromCharCode(this._binary_data.charCodeAt(d)),d++;this._addMetaGroup("comment","Comment"),this.comment._addProperty("comment","Comment",e)},this.JpegMeta.JpegFile.prototype._JFIF_IDENT="JFIF\x00",this.JpegMeta.JpegFile.prototype._JFXX_IDENT="JFXX\x00",this.JpegMeta.JpegFile.prototype._EXIF_IDENT="Exif\x00",this.JpegMeta.JpegFile.prototype._types={1:["BYTE",1],2:["ASCII",1],3:["SHORT",2],4:["LONG",4],5:["RATIONAL",8],6:["SBYTE",1],7:["UNDEFINED",1],8:["SSHORT",2],9:["SLONG",4],10:["SRATIONAL",8],11:["FLOAT",4],12:["DOUBLE",8]},this.JpegMeta.JpegFile.prototype._tifftags={256:["Image width","ImageWidth"],257:["Image height","ImageLength"],258:["Number of bits per component","BitsPerSample"],259:["Compression scheme","Compression",{1:"uncompressed",6:"JPEG compression"}],262:["Pixel composition","PhotmetricInerpretation",{2:"RGB",6:"YCbCr"}],274:["Orientation of image","Orientation",{1:"Normal",2:"Reverse?",3:"Upside-down",4:"Upside-down Reverse",5:"90 degree CW",6:"90 degree CW reverse",7:"90 degree CCW",8:"90 degree CCW reverse"}],277:["Number of components","SamplesPerPixel"],284:["Image data arrangement","PlanarConfiguration",{1:"chunky format",2:"planar format"}],530:["Subsampling ratio of Y to C","YCbCrSubSampling"],531:["Y and C positioning","YCbCrPositioning",{1:"centered",2:"co-sited"}],282:["X Resolution","XResolution"],283:["Y Resolution","YResolution"],296:["Resolution Unit","ResolutionUnit",{2:"inches",3:"centimeters"}],273:["Image data location","StripOffsets"],278:["Number of rows per strip","RowsPerStrip"],279:["Bytes per compressed strip","StripByteCounts"],513:["Offset to JPEG SOI","JPEGInterchangeFormat"],514:["Bytes of JPEG Data","JPEGInterchangeFormatLength"],301:["Transfer function","TransferFunction"],318:["White point chromaticity","WhitePoint"],319:["Chromaticities of primaries","PrimaryChromaticities"],529:["Color space transformation matrix coefficients","YCbCrCoefficients"],532:["Pair of black and white reference values","ReferenceBlackWhite"],306:["Date and time","DateTime"],270:["Image title","ImageDescription"],271:["Make","Make"],272:["Model","Model"],305:["Software","Software"],315:["Person who created the image","Artist"],316:["Host Computer","HostComputer"],33432:["Copyright holder","Copyright"],34665:["Exif tag","ExifIfdPointer"],34853:["GPS tag","GPSInfoIfdPointer"]},this.JpegMeta.JpegFile.prototype._exiftags={36864:["Exif Version","ExifVersion"],40960:["FlashPix Version","FlashpixVersion"],40961:["Color Space","ColorSpace"],37121:["Meaning of each component","ComponentsConfiguration"],37122:["Compressed Bits Per Pixel","CompressedBitsPerPixel"],40962:["Pixel X Dimension","PixelXDimension"],40963:["Pixel Y Dimension","PixelYDimension"],37500:["Manufacturer notes","MakerNote"],37510:["User comments","UserComment"],40964:["Related audio file","RelatedSoundFile"],36867:["Date Time Original","DateTimeOriginal"],36868:["Date Time Digitized","DateTimeDigitized"],37520:["DateTime subseconds","SubSecTime"],37521:["DateTimeOriginal subseconds","SubSecTimeOriginal"],37522:["DateTimeDigitized subseconds","SubSecTimeDigitized"],33434:["Exposure time","ExposureTime"],33437:["FNumber","FNumber"],34850:["Exposure program","ExposureProgram"],34852:["Spectral sensitivity","SpectralSensitivity"],34855:["ISO Speed Ratings","ISOSpeedRatings"],34856:["Optoelectric coefficient","OECF"],37377:["Shutter Speed","ShutterSpeedValue"],37378:["Aperture Value","ApertureValue"],37379:["Brightness","BrightnessValue"],37380:["Exposure Bias Value","ExposureBiasValue"],37381:["Max Aperture Value","MaxApertureValue"],37382:["Subject Distance","SubjectDistance"],37383:["Metering Mode","MeteringMode"],37384:["Light Source","LightSource"],37385:["Flash","Flash"],37386:["Focal Length","FocalLength"],37396:["Subject Area","SubjectArea"],41483:["Flash Energy","FlashEnergy"],41484:["Spatial Frequency Response","SpatialFrequencyResponse"],41486:["Focal Plane X Resolution","FocalPlaneXResolution"],41487:["Focal Plane Y Resolution","FocalPlaneYResolution"],41488:["Focal Plane Resolution Unit","FocalPlaneResolutionUnit"],41492:["Subject Location","SubjectLocation"],41493:["Exposure Index","ExposureIndex"],41495:["Sensing Method","SensingMethod"],41728:["File Source","FileSource"],41729:["Scene Type","SceneType"],41730:["CFA Pattern","CFAPattern"],41985:["Custom Rendered","CustomRendered"],41986:["Exposure Mode","Exposure Mode"],41987:["White Balance","WhiteBalance"],41988:["Digital Zoom Ratio","DigitalZoomRatio"],41989:["Focal length in 35 mm film","FocalLengthIn35mmFilm"],41990:["Scene Capture Type","SceneCaptureType"],41991:["Gain Control","GainControl"],41992:["Contrast","Contrast"],41993:["Saturation","Saturation"],41994:["Sharpness","Sharpness"],41995:["Device settings description","DeviceSettingDescription"],41996:["Subject distance range","SubjectDistanceRange"],42016:["Unique image ID","ImageUniqueID"],40965:["Interoperability tag","InteroperabilityIFDPointer"]},this.JpegMeta.JpegFile.prototype._gpstags={0:["GPS tag version","GPSVersionID"],1:["North or South Latitude","GPSLatitudeRef"],2:["Latitude","GPSLatitude"],3:["East or West Longitude","GPSLongitudeRef"],4:["Longitude","GPSLongitude"],5:["Altitude reference","GPSAltitudeRef"],6:["Altitude","GPSAltitude"],7:["GPS time (atomic clock)","GPSTimeStamp"],8:["GPS satellites usedd for measurement","GPSSatellites"],9:["GPS receiver status","GPSStatus"],10:["GPS mesaurement mode","GPSMeasureMode"],11:["Measurement precision","GPSDOP"],12:["Speed unit","GPSSpeedRef"],13:["Speed of GPS receiver","GPSSpeed"],14:["Reference for direction of movement","GPSTrackRef"],15:["Direction of movement","GPSTrack"],16:["Reference for direction of image","GPSImgDirectionRef"],17:["Direction of image","GPSImgDirection"],18:["Geodetic survey data used","GPSMapDatum"],19:["Reference for latitude of destination","GPSDestLatitudeRef"],20:["Latitude of destination","GPSDestLatitude"],21:["Reference for longitude of destination","GPSDestLongitudeRef"],22:["Longitude of destination","GPSDestLongitude"],23:["Reference for bearing of destination","GPSDestBearingRef"],24:["Bearing of destination","GPSDestBearing"],25:["Reference for distance to destination","GPSDestDistanceRef"],26:["Distance to destination","GPSDestDistance"],27:["Name of GPS processing method","GPSProcessingMethod"],28:["Name of GPS area","GPSAreaInformation"],29:["GPS Date","GPSDateStamp"],30:["GPS differential correction","GPSDifferential"]},this.JpegMeta.JpegFile.prototype._iptctags={0:["Record Version","recordVersion"],3:["Object Type Reference","objectType"],4:["Object Attribute Reference","objectAttribute"],5:["Object Name","objectName"],7:["Edit Status","editStatus"],8:["Editorial Update","editorialUpdate"],10:["Urgency","urgency"],12:["Subject Reference","subjectRef"],15:["Category","category"],20:["Supplemental Category","supplCategory"],22:["Fixture Identifier","fixtureID"],25:["Keywords","keywords"],26:["Content Location Code","contentLocCode"],27:["Content Location Name","contentLocName"],30:["Release Date","releaseDate"],35:["Release Time","releaseTime"],37:["Expiration Date","expirationDate"],38:["Expiration Time","expirationTime"],40:["Special Instructions","specialInstructions"],42:["Action Advised","actionAdvised"],45:["Reference Service","refService"],47:["Reference Date","refDate"],50:["Reference Number","refNumber"],55:["Date Created","dateCreated"],60:["Time Created","timeCreated"],62:["Digital Creation Date","digitalCreationDate"],63:["Digital Creation Time","digitalCreationTime"],65:["Originating Program","originatingProgram"],70:["Program Version","programVersion"],75:["Object Cycle","objectCycle"],80:["By-line","byline"],85:["By-line Title","bylineTitle"],90:["City","city"],92:["Sub-location","sublocation"],95:["Province/State","state"],100:["Country Code","countryCode"],101:["Country Name","countryName"],103:["Original Transmission Reference","origTransRef"],105:["Headline","headline"],110:["Credit","credit"],115:["Source","source"],116:["Copyright Notice","copyrightNotice"],118:["Contact","contact"],120:["Caption/Abstract","caption"],122:["Writer/Editor","writerEditor"],125:["Rasterized Caption","rasterizedCaption"],130:["Image Type","imageType"],131:["Image Orientation","imageOrientation"],135:["Language Identifier","languageID"],150:["Audio Type","audioType"],151:["Audio Sampling Rate","audioSamplingRate"],152:["Audio Sampling Resolution","audioSamplingRes"],153:["Audio Duration","audioDuration"],154:["Audio Outcue","audioOutcue"],200:["Preview File Format","previewFileFormat"],201:["Preview File Format Version","previewFileFormatVer"],202:["Preview Data","previewData"]},this.JpegMeta.JpegFile.prototype._markers={192:["SOF0","_sofHandler","Baseline DCT"],193:["SOF1","_sofHandler","Extended sequential DCT"],194:["SOF2","_sofHandler","Progressive DCT"],195:["SOF3","_sofHandler","Lossless (sequential)"],197:["SOF5","_sofHandler","Differential sequential DCT"],198:["SOF6","_sofHandler","Differential progressive DCT"],199:["SOF7","_sofHandler","Differential lossless (sequential)"],200:["JPG",null,"Reserved for JPEG extensions"],201:["SOF9","_sofHandler","Extended sequential DCT"],202:["SOF10","_sofHandler","Progressive DCT"],203:["SOF11","_sofHandler","Lossless (sequential)"],205:["SOF13","_sofHandler","Differential sequential DCT"],206:["SOF14","_sofHandler","Differential progressive DCT"],207:["SOF15","_sofHandler","Differential lossless (sequential)"],196:["DHT",null,"Define Huffman table(s)"],204:["DAC",null,"Define arithmetic coding conditioning(s)"],208:["RST0",null,"Restart with modulo 8 count 0"],209:["RST1",null,"Restart with modulo 8 count 1"],210:["RST2",null,"Restart with modulo 8 count 2"],211:["RST3",null,"Restart with modulo 8 count 3"],212:["RST4",null,"Restart with modulo 8 count 4"],213:["RST5",null,"Restart with modulo 8 count 5"],214:["RST6",null,"Restart with modulo 8 count 6"],215:["RST7",null,"Restart with modulo 8 count 7"],216:["SOI",null,"Start of image"],217:["EOI",null,"End of image"],218:["SOS",null,"Start of scan"],219:["DQT",null,"Define quantization table(s)"],220:["DNL",null,"Define number of lines"],221:["DRI",null,"Define restart interval"],222:["DHP",null,"Define hierarchical progression"],223:["EXP",null,"Expand reference component(s)"],224:["APP0","_app0Handler","Reserved for application segments"],225:["APP1","_app1Handler"],226:["APP2",null],227:["APP3",null],228:["APP4",null],229:["APP5",null],230:["APP6",null],231:["APP7",null],232:["APP8",null],233:["APP9",null],234:["APP10",null],235:["APP11",null],236:["APP12",null],237:["IPTC","_iptcHandler","IPTC Photo Metadata"],238:["APP14",null],239:["APP15",null],240:["JPG0",null],241:["JPG1",null],242:["JPG2",null],243:["JPG3",null],244:["JPG4",null],245:["JPG5",null],246:["JPG6",null],247:["JPG7",null],248:["JPG8",null],249:["JPG9",null],250:["JPG10",null],251:["JPG11",null],252:["JPG12",null],253:["JPG13",null],254:["COM","_commentHandler","Comment"],1:["JPG13",null]},this.JpegMeta.JpegFile.prototype._addMetaGroup=function(a,b){var c=new JpegMeta.MetaGroup(a,b);return this[c.fieldName]=c,this.metaGroups[c.fieldName]=c,c},this.JpegMeta.JpegFile.prototype._parseIfd=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s=JpegMeta.parseNum(a,b,c+d,2);r=this._addMetaGroup(f,g);for(var t=0;s>t;t++)if(h=c+d+2+12*t,i=JpegMeta.parseNum(a,b,h,2),k=JpegMeta.parseNum(a,b,h+2,2),m=JpegMeta.parseNum(a,b,h+4,4),n=JpegMeta.parseNum(a,b,h+8,4),void 0!==this._types[k]){if(j=this._types[k][0],l=this._types[k][1],n=4>=l*m?h+8:c+n,"UNDEFINED"==j)o=void 0;else if("ASCII"==j)o=b.slice(n,n+m),o=o.split("\x00")[0],JpegMeta.stringIsClean(o)||(o="");else{o=new Array;for(var u=0;m>u;u++,n+=l)("BYTE"==j||"SHORT"==j||"LONG"==j)&&o.push(JpegMeta.parseNum(a,b,n,l)),("SBYTE"==j||"SSHORT"==j||"SLONG"==j)&&o.push(JpegMeta.parseSnum(a,b,n,l)),"RATIONAL"==j&&(p=JpegMeta.parseNum(a,b,n,4),q=JpegMeta.parseNum(a,b,n+4,4),o.push(new JpegMeta.Rational(p,q))),"SRATIONAL"==j&&(p=JpegMeta.parseSnum(a,b,n,4),q=JpegMeta.parseSnum(a,b,n+4,4),o.push(new JpegMeta.Rational(p,q))),o.push();1===m&&(o=o[0])}e.hasOwnProperty(i)?r._addProperty(e[i][1],e[i][0],o):console.log("WARNING(jpegmeta.js): Unknown tag: ",i)}},this.JpegMeta.JpegFile.prototype._jfifHandler=function(a,b){if(void 0!==this.jfif)throw Error("Multiple JFIF segments found");this._addMetaGroup("jfif","JFIF"),this.jfif._addProperty("version_major","Version Major",this._binary_data.charCodeAt(b+5)),this.jfif._addProperty("version_minor","Version Minor",this._binary_data.charCodeAt(b+6)),this.jfif._addProperty("version","JFIF Version",this.jfif.version_major.value+"."+this.jfif.version_minor.value),this.jfif._addProperty("units","Density Unit",this._binary_data.charCodeAt(b+7)),this.jfif._addProperty("Xdensity","X density",JpegMeta.parseNum(">",this._binary_data,b+8,2)),this.jfif._addProperty("Ydensity","Y Density",JpegMeta.parseNum(">",this._binary_data,b+10,2)),this.jfif._addProperty("Xthumbnail","X Thumbnail",JpegMeta.parseNum(">",this._binary_data,b+12,1)),this.jfif._addProperty("Ythumbnail","Y Thumbnail",JpegMeta.parseNum(">",this._binary_data,b+13,1))},this.JpegMeta.JpegFile.prototype._app0Handler=function(a,b){var c=this._binary_data.slice(b,b+5);c==this._JFIF_IDENT?this._jfifHandler(a,b):c==this._JFXX_IDENT},this.JpegMeta.JpegFile.prototype._app1Handler=function(a,b){var c=this._binary_data.slice(b,b+5);c==this._EXIF_IDENT&&this._exifHandler(a,b+6)},JpegMeta.JpegFile.prototype._exifHandler=function(a,b){if(void 0!==this.exif)throw new Error("Multiple JFIF segments found");var c,d,e,f=this._binary_data.slice(b,b+2);if("II"===f)c="<";else{if("MM"!==f)throw new Error("Malformed TIFF meta-data. Unknown endianess: "+f);c=">"}if(d=JpegMeta.parseNum(c,this._binary_data,b+2,2),42!==d)throw new Error("Malformed TIFF meta-data. Bad magic: "+d);if(e=JpegMeta.parseNum(c,this._binary_data,b+4,4),this._parseIfd(c,this._binary_data,b,e,this._tifftags,"tiff","TIFF"),this.tiff.ExifIfdPointer&&this._parseIfd(c,this._binary_data,b,this.tiff.ExifIfdPointer.value,this._exiftags,"exif","Exif"),this.tiff.GPSInfoIfdPointer){if(this._parseIfd(c,this._binary_data,b,this.tiff.GPSInfoIfdPointer.value,this._gpstags,"gps","GPS"),this.gps.GPSLatitude){var g;g=this.gps.GPSLatitude.value[0].asFloat()+1/60*this.gps.GPSLatitude.value[1].asFloat()+1/3600*this.gps.GPSLatitude.value[2].asFloat(),"S"===this.gps.GPSLatitudeRef.value&&(g=-g),this.gps._addProperty("latitude","Dec. Latitude",g)}if(this.gps.GPSLongitude){var h;h=this.gps.GPSLongitude.value[0].asFloat()+1/60*this.gps.GPSLongitude.value[1].asFloat()+1/3600*this.gps.GPSLongitude.value[2].asFloat(),"W"===this.gps.GPSLongitudeRef.value&&(h=-h),this.gps._addProperty("longitude","Dec. Longitude",h)}}},this.JpegMeta.JpegFile.prototype._iptcHandler=function(a,b,c){this._addMetaGroup("iptc","IPTC");for(var d,e,f,g,h="<",i=JpegMeta.parseNum(h,this._binary_data,b+4,1),j=28,k=2,l=0;c>l;l++)if(e=b+l,JpegMeta.parseNum(h,this._binary_data,e,1)==k){if(g=JpegMeta.parseNum(h,this._binary_data,e+1,1),tag_desc=this._iptctags[g],!tag_desc)continue;for(i=0,d=2;c>d&&JpegMeta.parseNum(h,this._binary_data,e+d,1)!=j&&JpegMeta.parseNum(h,this._binary_data,e+d+1,1)!=k;)d++,i++;if(!i)continue;f=this._binary_data.slice(b+l+2,b+l+2+i),f=f.replace("\x00","").trim(),this.iptc._addProperty(tag_desc[1],tag_desc[0],f),l+=i-1}},"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a){var b={init:function(b,c){var d=this;d.elem=c,d.$elem=a(c),d.imageSrc=d.$elem.data("zoom-image")?d.$elem.data("zoom-image"):d.$elem.attr("src"),d.options=a.extend({},a.fn.elevateZoom.options,b),d.options.tint&&(d.options.lensColour="none",d.options.lensOpacity="1"),"inner"==d.options.zoomType&&(d.options.showLens=!1),d.$elem.parent().removeAttr("title").removeAttr("alt"),d.zoomImage=d.imageSrc,d.refresh(1),a("#"+d.options.gallery+" a").click(function(b){return d.options.galleryActiveClass&&(a("#"+d.options.gallery+" a").removeClass(d.options.galleryActiveClass),a(this).addClass(d.options.galleryActiveClass)),b.preventDefault(),d.zoomImagePre=a(this).data(a(this).data("zoom-image")?"zoom-image":"image"),d.swaptheimage(a(this).data("image"),d.zoomImagePre),!1})},refresh:function(a){var b=this;setTimeout(function(){b.fetch(b.imageSrc)},a||b.options.refresh)},fetch:function(a){var b=this,c=new Image;c.onload=function(){b.largeWidth=c.width,b.largeHeight=c.height,b.startZoom(),b.currentImage=b.imageSrc,b.options.onZoomedImageLoaded(b.$elem)},c.src=a},startZoom:function(){var b=this;if(b.nzWidth=b.$elem.width(),b.nzHeight=b.$elem.height(),b.isWindowActive=!1,b.isLensActive=!1,b.isTintActive=!1,b.overWindow=!1,b.options.imageCrossfade&&(b.zoomWrap=b.$elem.wrap('<div style="height:'+b.nzHeight+"px;width:"+b.nzWidth+'px;" class="zoomWrapper" />'),b.$elem.css("position","absolute")),b.zoomLock=1,b.scrollingLock=!1,b.changeBgSize=!1,b.currentZoomLevel=b.options.zoomLevel,b.nzOffset=b.$elem.offset(),b.widthRatio=b.largeWidth/b.currentZoomLevel/b.nzWidth,b.heightRatio=b.largeHeight/b.currentZoomLevel/b.nzHeight,"window"==b.options.zoomType&&(b.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(b.options.zoomWindowBgColour)+";width: "+String(b.options.zoomWindowWidth)+"px;height: "+String(b.options.zoomWindowHeight)+"px;float: left;background-size: "+b.largeWidth/b.currentZoomLevel+"px "+b.largeHeight/b.currentZoomLevel+"px;display: none;z-index:100;border: "+String(b.options.borderSize)+"px solid "+b.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==b.options.zoomType){var c=b.$elem.css("border-left-width");b.zoomWindowStyle="overflow: hidden;margin-left: "+String(c)+";margin-top: "+String(c)+";background-position: 0px 0px;width: "+String(b.nzWidth)+"px;height: "+String(b.nzHeight)+"px;px;float: left;display: none;cursor:"+b.options.cursor+";px solid "+b.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==b.options.zoomType&&(lensHeight=b.nzHeight<b.options.zoomWindowWidth/b.widthRatio?b.nzHeight:String(b.options.zoomWindowHeight/b.heightRatio),lensWidth=b.largeWidth<b.options.zoomWindowWidth?b.nzWidth:b.options.zoomWindowWidth/b.widthRatio,b.lensStyle="background-position: 0px 0px;width: "+String(b.options.zoomWindowWidth/b.widthRatio)+"px;height: "+String(b.options.zoomWindowHeight/b.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+b.options.lensOpacity+";filter: alpha(opacity = "+100*b.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+b.options.lensColour+";cursor:"+b.options.cursor+";border: "+b.options.lensBorderSize+"px solid "+b.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),b.tintStyle="display: block;position: absolute;background-color: "+b.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+b.nzWidth+"px;height: "+b.nzHeight+"px;",b.lensRound="","lens"==b.options.zoomType&&(b.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(b.options.borderSize)+"px solid "+b.options.borderColour+";width:"+String(b.options.lensSize)+"px;height:"+String(b.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==b.options.lensShape&&(b.lensRound="border-top-left-radius: "+String(b.options.lensSize/2+b.options.borderSize)+"px;border-top-right-radius: "+String(b.options.lensSize/2+b.options.borderSize)+"px;border-bottom-left-radius: "+String(b.options.lensSize/2+b.options.borderSize)+"px;border-bottom-right-radius: "+String(b.options.lensSize/2+b.options.borderSize)+"px;"),b.zoomContainer=a('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+b.nzOffset.left+"px;top:"+b.nzOffset.top+"px;height:"+b.nzHeight+"px;width:"+b.nzWidth+'px;"></div>'),a("body").append(b.zoomContainer),b.options.containLensZoom&&"lens"==b.options.zoomType&&b.zoomContainer.css("overflow","hidden"),"inner"!=b.options.zoomType&&(b.zoomLens=a("<div class='zoomLens' style='"+b.lensStyle+b.lensRound+"'>&nbsp;</div>").appendTo(b.zoomContainer).click(function(){b.$elem.trigger("click")}),b.options.tint&&(b.tintContainer=a("<div/>").addClass("tintContainer"),b.zoomTint=a("<div class='zoomTint' style='"+b.tintStyle+"'></div>"),b.zoomLens.wrap(b.tintContainer),b.zoomTintcss=b.zoomLens.after(b.zoomTint),b.zoomTintImage=a('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+b.nzWidth+"px; height: "+b.nzHeight+'px;" src="'+b.imageSrc+'">').appendTo(b.zoomLens).click(function(){b.$elem.trigger("click")}))),b.zoomWindow=isNaN(b.options.zoomWindowPosition)?a("<div style='z-index:999;left:"+b.windowOffsetLeft+"px;top:"+b.windowOffsetTop+"px;"+b.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){b.$elem.trigger("click")}):a("<div style='z-index:999;left:"+b.windowOffsetLeft+"px;top:"+b.windowOffsetTop+"px;"+b.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(b.zoomContainer).click(function(){b.$elem.trigger("click")}),b.zoomWindowContainer=a("<div/>").addClass("zoomWindowContainer").css("width",b.options.zoomWindowWidth),b.zoomWindow.wrap(b.zoomWindowContainer),"lens"==b.options.zoomType&&b.zoomLens.css({backgroundImage:"url('"+b.imageSrc+"')"}),"window"==b.options.zoomType&&b.zoomWindow.css({backgroundImage:"url('"+b.imageSrc+"')"}),"inner"==b.options.zoomType&&b.zoomWindow.css({backgroundImage:"url('"+b.imageSrc+"')"}),b.$elem.bind("touchmove",function(a){a.preventDefault();var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];b.setPosition(c)}),b.zoomContainer.bind("touchmove",function(a){"inner"==b.options.zoomType&&b.showHideWindow("show"),a.preventDefault();var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];b.setPosition(c)}),b.zoomContainer.bind("touchend",function(){b.showHideWindow("hide"),b.options.showLens&&b.showHideLens("hide"),b.options.tint&&"inner"!=b.options.zoomType&&b.showHideTint("hide")}),b.$elem.bind("touchend",function(){b.showHideWindow("hide"),b.options.showLens&&b.showHideLens("hide"),b.options.tint&&"inner"!=b.options.zoomType&&b.showHideTint("hide")}),b.options.showLens&&(b.zoomLens.bind("touchmove",function(a){a.preventDefault();var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];b.setPosition(c)}),b.zoomLens.bind("touchend",function(){b.showHideWindow("hide"),b.options.showLens&&b.showHideLens("hide"),b.options.tint&&"inner"!=b.options.zoomType&&b.showHideTint("hide")})),b.$elem.bind("mousemove",function(a){0==b.overWindow&&b.setElements("show"),(b.lastX!==a.clientX||b.lastY!==a.clientY)&&(b.setPosition(a),b.currentLoc=a),b.lastX=a.clientX,b.lastY=a.clientY}),b.zoomContainer.bind("mousemove",function(a){0==b.overWindow&&b.setElements("show"),(b.lastX!==a.clientX||b.lastY!==a.clientY)&&(b.setPosition(a),b.currentLoc=a),b.lastX=a.clientX,b.lastY=a.clientY}),"inner"!=b.options.zoomType&&b.zoomLens.bind("mousemove",function(a){(b.lastX!==a.clientX||b.lastY!==a.clientY)&&(b.setPosition(a),b.currentLoc=a),b.lastX=a.clientX,b.lastY=a.clientY}),b.options.tint&&"inner"!=b.options.zoomType&&b.zoomTint.bind("mousemove",function(a){(b.lastX!==a.clientX||b.lastY!==a.clientY)&&(b.setPosition(a),b.currentLoc=a),b.lastX=a.clientX,b.lastY=a.clientY}),"inner"==b.options.zoomType&&b.zoomWindow.bind("mousemove",function(a){(b.lastX!==a.clientX||b.lastY!==a.clientY)&&(b.setPosition(a),b.currentLoc=a),b.lastX=a.clientX,b.lastY=a.clientY}),b.zoomContainer.add(b.$elem).mouseenter(function(){0==b.overWindow&&b.setElements("show")}).mouseleave(function(){b.scrollLock||(b.setElements("hide"),b.options.onDestroy(b.$elem))}),"inner"!=b.options.zoomType&&b.zoomWindow.mouseenter(function(){b.overWindow=!0,b.setElements("hide")}).mouseleave(function(){b.overWindow=!1}),1!=b.options.zoomLevel,b.minZoomLevel=b.options.minZoomLevel?b.options.minZoomLevel:2*b.options.scrollZoomIncrement,b.options.scrollZoom&&b.zoomContainer.add(b.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(c){b.scrollLock=!0,clearTimeout(a.data(this,"timer")),a.data(this,"timer",setTimeout(function(){b.scrollLock=!1},250));var d=c.originalEvent.wheelDelta||-1*c.originalEvent.detail;return c.stopImmediatePropagation(),c.stopPropagation(),c.preventDefault(),d/120>0?b.currentZoomLevel>=b.minZoomLevel&&b.changeZoomLevel(b.currentZoomLevel-b.options.scrollZoomIncrement):b.options.maxZoomLevel?b.currentZoomLevel<=b.options.maxZoomLevel&&b.changeZoomLevel(parseFloat(b.currentZoomLevel)+b.options.scrollZoomIncrement):b.changeZoomLevel(parseFloat(b.currentZoomLevel)+b.options.scrollZoomIncrement),!1})},setElements:function(a){var b=this;return b.options.zoomEnabled?("show"==a&&b.isWindowSet&&("inner"==b.options.zoomType&&b.showHideWindow("show"),"window"==b.options.zoomType&&b.showHideWindow("show"),b.options.showLens&&b.showHideLens("show"),b.options.tint&&"inner"!=b.options.zoomType&&b.showHideTint("show")),void("hide"==a&&("window"==b.options.zoomType&&b.showHideWindow("hide"),b.options.tint||b.showHideWindow("hide"),b.options.showLens&&b.showHideLens("hide"),b.options.tint&&b.showHideTint("hide")))):!1},setPosition:function(a){var b=this;return b.options.zoomEnabled?(b.nzHeight=b.$elem.height(),
b.nzWidth=b.$elem.width(),b.nzOffset=b.$elem.offset(),b.options.tint&&"inner"!=b.options.zoomType&&(b.zoomTint.css({top:0}),b.zoomTint.css({left:0})),b.options.responsive&&!b.options.scrollZoom&&b.options.showLens&&(lensHeight=b.nzHeight<b.options.zoomWindowWidth/b.widthRatio?b.nzHeight:String(b.options.zoomWindowHeight/b.heightRatio),lensWidth=b.largeWidth<b.options.zoomWindowWidth?b.nzWidth:b.options.zoomWindowWidth/b.widthRatio,b.widthRatio=b.largeWidth/b.nzWidth,b.heightRatio=b.largeHeight/b.nzHeight,"lens"!=b.options.zoomType&&(lensHeight=b.nzHeight<b.options.zoomWindowWidth/b.widthRatio?b.nzHeight:String(b.options.zoomWindowHeight/b.heightRatio),lensWidth=b.nzWidth<b.options.zoomWindowHeight/b.heightRatio?b.nzWidth:String(b.options.zoomWindowWidth/b.widthRatio),b.zoomLens.css("width",lensWidth),b.zoomLens.css("height",lensHeight),b.options.tint&&(b.zoomTintImage.css("width",b.nzWidth),b.zoomTintImage.css("height",b.nzHeight))),"lens"==b.options.zoomType&&b.zoomLens.css({width:String(b.options.lensSize)+"px",height:String(b.options.lensSize)+"px"})),b.zoomContainer.css({top:b.nzOffset.top}),b.zoomContainer.css({left:b.nzOffset.left}),b.mouseLeft=parseInt(a.pageX-b.nzOffset.left),b.mouseTop=parseInt(a.pageY-b.nzOffset.top),"window"==b.options.zoomType&&(b.Etoppos=b.mouseTop<b.zoomLens.height()/2,b.Eboppos=b.mouseTop>b.nzHeight-b.zoomLens.height()/2-2*b.options.lensBorderSize,b.Eloppos=b.mouseLeft<0+b.zoomLens.width()/2,b.Eroppos=b.mouseLeft>b.nzWidth-b.zoomLens.width()/2-2*b.options.lensBorderSize),"inner"==b.options.zoomType&&(b.Etoppos=b.mouseTop<b.nzHeight/2/b.heightRatio,b.Eboppos=b.mouseTop>b.nzHeight-b.nzHeight/2/b.heightRatio,b.Eloppos=b.mouseLeft<0+b.nzWidth/2/b.widthRatio,b.Eroppos=b.mouseLeft>b.nzWidth-b.nzWidth/2/b.widthRatio-2*b.options.lensBorderSize),b.mouseLeft<0||b.mouseTop<0||b.mouseLeft>b.nzWidth||b.mouseTop>b.nzHeight?void b.setElements("hide"):(b.options.showLens&&(b.lensLeftPos=String(Math.floor(b.mouseLeft-b.zoomLens.width()/2)),b.lensTopPos=String(Math.floor(b.mouseTop-b.zoomLens.height()/2))),b.Etoppos&&(b.lensTopPos=0),b.Eloppos&&(b.windowLeftPos=0,b.lensLeftPos=0,b.tintpos=0),"window"==b.options.zoomType&&(b.Eboppos&&(b.lensTopPos=Math.max(b.nzHeight-b.zoomLens.height()-2*b.options.lensBorderSize,0)),b.Eroppos&&(b.lensLeftPos=b.nzWidth-b.zoomLens.width()-2*b.options.lensBorderSize)),"inner"==b.options.zoomType&&(b.Eboppos&&(b.lensTopPos=Math.max(b.nzHeight-2*b.options.lensBorderSize,0)),b.Eroppos&&(b.lensLeftPos=b.nzWidth-b.nzWidth-2*b.options.lensBorderSize)),"lens"==b.options.zoomType&&(b.windowLeftPos=String(-1*((a.pageX-b.nzOffset.left)*b.widthRatio-b.zoomLens.width()/2)),b.windowTopPos=String(-1*((a.pageY-b.nzOffset.top)*b.heightRatio-b.zoomLens.height()/2)),b.zoomLens.css({backgroundPosition:b.windowLeftPos+"px "+b.windowTopPos+"px"}),b.changeBgSize&&(b.nzHeight>b.nzWidth?("lens"==b.options.zoomType&&b.zoomLens.css({"background-size":b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px"}),b.zoomWindow.css({"background-size":b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px"})):("lens"==b.options.zoomType&&b.zoomLens.css({"background-size":b.largeWidth/b.newvaluewidth+"px "+b.largeHeight/b.newvaluewidth+"px"}),b.zoomWindow.css({"background-size":b.largeWidth/b.newvaluewidth+"px "+b.largeHeight/b.newvaluewidth+"px"})),b.changeBgSize=!1),b.setWindowPostition(a)),b.options.tint&&"inner"!=b.options.zoomType&&b.setTintPosition(a),"window"==b.options.zoomType&&b.setWindowPostition(a),"inner"==b.options.zoomType&&b.setWindowPostition(a),void(b.options.showLens&&(b.fullwidth&&"lens"!=b.options.zoomType&&(b.lensLeftPos=0),b.zoomLens.css({left:b.lensLeftPos+"px",top:b.lensTopPos+"px"}))))):!1},showHideWindow:function(a){var b=this;"show"==a&&(b.isWindowActive||(b.options.zoomWindowFadeIn?b.zoomWindow.stop(!0,!0,!1).fadeIn(b.options.zoomWindowFadeIn):b.zoomWindow.show(),b.isWindowActive=!0)),"hide"==a&&b.isWindowActive&&(b.options.zoomWindowFadeOut?b.zoomWindow.stop(!0,!0).fadeOut(b.options.zoomWindowFadeOut,function(){b.loop&&(clearInterval(b.loop),b.loop=!1)}):b.zoomWindow.hide(),b.isWindowActive=!1)},showHideLens:function(a){var b=this;"show"==a&&(b.isLensActive||(b.options.lensFadeIn?b.zoomLens.stop(!0,!0,!1).fadeIn(b.options.lensFadeIn):b.zoomLens.show(),b.isLensActive=!0)),"hide"==a&&b.isLensActive&&(b.options.lensFadeOut?b.zoomLens.stop(!0,!0).fadeOut(b.options.lensFadeOut):b.zoomLens.hide(),b.isLensActive=!1)},showHideTint:function(a){var b=this;"show"==a&&(b.isTintActive||(b.options.zoomTintFadeIn?b.zoomTint.css({opacity:b.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(b.zoomTint.css({opacity:b.options.tintOpacity}).animate(),b.zoomTint.show()),b.isTintActive=!0)),"hide"==a&&b.isTintActive&&(b.options.zoomTintFadeOut?b.zoomTint.stop(!0,!0).fadeOut(b.options.zoomTintFadeOut):b.zoomTint.hide(),b.isTintActive=!1)},setLensPostition:function(){},setWindowPostition:function(b){var c=this;if(isNaN(c.options.zoomWindowPosition))c.externalContainer=a("#"+c.options.zoomWindowPosition),c.externalContainerWidth=c.externalContainer.width(),c.externalContainerHeight=c.externalContainer.height(),c.externalContainerOffset=c.externalContainer.offset(),c.windowOffsetTop=c.externalContainerOffset.top,c.windowOffsetLeft=c.externalContainerOffset.left;else switch(c.options.zoomWindowPosition){case 1:c.windowOffsetTop=c.options.zoomWindowOffety,c.windowOffsetLeft=+c.nzWidth;break;case 2:c.options.zoomWindowHeight>c.nzHeight&&(c.windowOffsetTop=-1*(c.options.zoomWindowHeight/2-c.nzHeight/2),c.windowOffsetLeft=c.nzWidth);break;case 3:c.windowOffsetTop=c.nzHeight-c.zoomWindow.height()-2*c.options.borderSize,c.windowOffsetLeft=c.nzWidth;break;case 4:c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=c.nzWidth;break;case 5:c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=c.nzWidth-c.zoomWindow.width()-2*c.options.borderSize;break;case 6:c.options.zoomWindowHeight>c.nzHeight&&(c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=-1*(c.options.zoomWindowWidth/2-c.nzWidth/2+2*c.options.borderSize));break;case 7:c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=0;break;case 8:c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize);break;case 9:c.windowOffsetTop=c.nzHeight-c.zoomWindow.height()-2*c.options.borderSize,c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize);break;case 10:c.options.zoomWindowHeight>c.nzHeight&&(c.windowOffsetTop=-1*(c.options.zoomWindowHeight/2-c.nzHeight/2),c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize));break;case 11:c.windowOffsetTop=c.options.zoomWindowOffety,c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize);break;case 12:c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize);break;case 13:c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=0;break;case 14:c.options.zoomWindowHeight>c.nzHeight&&(c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=-1*(c.options.zoomWindowWidth/2-c.nzWidth/2+2*c.options.borderSize));break;case 15:c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=c.nzWidth-c.zoomWindow.width()-2*c.options.borderSize;break;case 16:c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=c.nzWidth;break;default:c.windowOffsetTop=c.options.zoomWindowOffety,c.windowOffsetLeft=c.nzWidth}c.isWindowSet=!0,c.windowOffsetTop=c.windowOffsetTop+c.options.zoomWindowOffety,c.windowOffsetLeft=c.windowOffsetLeft+c.options.zoomWindowOffetx,c.zoomWindow.css({top:c.windowOffsetTop}),c.zoomWindow.css({left:c.windowOffsetLeft}),"inner"==c.options.zoomType&&(c.zoomWindow.css({top:0}),c.zoomWindow.css({left:0})),c.windowLeftPos=String(-1*((b.pageX-c.nzOffset.left)*c.widthRatio-c.zoomWindow.width()/2)),c.windowTopPos=String(-1*((b.pageY-c.nzOffset.top)*c.heightRatio-c.zoomWindow.height()/2)),c.Etoppos&&(c.windowTopPos=0),c.Eloppos&&(c.windowLeftPos=0),c.Eboppos&&(c.windowTopPos=-1*(c.largeHeight/c.currentZoomLevel-c.zoomWindow.height())),c.Eroppos&&(c.windowLeftPos=-1*(c.largeWidth/c.currentZoomLevel-c.zoomWindow.width())),c.fullheight&&(c.windowTopPos=0),c.fullwidth&&(c.windowLeftPos=0),("window"==c.options.zoomType||"inner"==c.options.zoomType)&&(1==c.zoomLock&&(c.widthRatio<=1&&(c.windowLeftPos=0),c.heightRatio<=1&&(c.windowTopPos=0)),"window"==c.options.zoomType&&(c.largeHeight<c.options.zoomWindowHeight&&(c.windowTopPos=0),c.largeWidth<c.options.zoomWindowWidth&&(c.windowLeftPos=0)),c.options.easing?(c.xp||(c.xp=0),c.yp||(c.yp=0),c.loop||(c.loop=setInterval(function(){c.xp+=(c.windowLeftPos-c.xp)/c.options.easingAmount,c.yp+=(c.windowTopPos-c.yp)/c.options.easingAmount,c.scrollingLock?(clearInterval(c.loop),c.xp=c.windowLeftPos,c.yp=c.windowTopPos,c.xp=-1*((b.pageX-c.nzOffset.left)*c.widthRatio-c.zoomWindow.width()/2),c.yp=-1*((b.pageY-c.nzOffset.top)*c.heightRatio-c.zoomWindow.height()/2),c.changeBgSize&&(c.nzHeight>c.nzWidth?("lens"==c.options.zoomType&&c.zoomLens.css({"background-size":c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"}),c.zoomWindow.css({"background-size":c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"})):("lens"!=c.options.zoomType&&c.zoomLens.css({"background-size":c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvalueheight+"px"}),c.zoomWindow.css({"background-size":c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px"})),c.changeBgSize=!1),c.zoomWindow.css({backgroundPosition:c.windowLeftPos+"px "+c.windowTopPos+"px"}),c.scrollingLock=!1,c.loop=!1):Math.round(Math.abs(c.xp-c.windowLeftPos)+Math.abs(c.yp-c.windowTopPos))<1?(clearInterval(c.loop),c.zoomWindow.css({backgroundPosition:c.windowLeftPos+"px "+c.windowTopPos+"px"}),c.loop=!1):(c.changeBgSize&&(c.nzHeight>c.nzWidth?("lens"==c.options.zoomType&&c.zoomLens.css({"background-size":c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"}),c.zoomWindow.css({"background-size":c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"})):("lens"!=c.options.zoomType&&c.zoomLens.css({"background-size":c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px"}),c.zoomWindow.css({"background-size":c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px"})),c.changeBgSize=!1),c.zoomWindow.css({backgroundPosition:c.xp+"px "+c.yp+"px"}))},16))):(c.changeBgSize&&(c.nzHeight>c.nzWidth?("lens"==c.options.zoomType&&c.zoomLens.css({"background-size":c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"}),c.zoomWindow.css({"background-size":c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"})):("lens"==c.options.zoomType&&c.zoomLens.css({"background-size":c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px"}),c.zoomWindow.css(c.largeHeight/c.newvaluewidth<c.options.zoomWindowHeight?{"background-size":c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px"}:{"background-size":c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"})),c.changeBgSize=!1),c.zoomWindow.css({backgroundPosition:c.windowLeftPos+"px "+c.windowTopPos+"px"})))},setTintPosition:function(a){var b=this;b.nzOffset=b.$elem.offset(),b.tintpos=String(-1*(a.pageX-b.nzOffset.left-b.zoomLens.width()/2)),b.tintposy=String(-1*(a.pageY-b.nzOffset.top-b.zoomLens.height()/2)),b.Etoppos&&(b.tintposy=0),b.Eloppos&&(b.tintpos=0),b.Eboppos&&(b.tintposy=-1*(b.nzHeight-b.zoomLens.height()-2*b.options.lensBorderSize)),b.Eroppos&&(b.tintpos=-1*(b.nzWidth-b.zoomLens.width()-2*b.options.lensBorderSize)),b.options.tint&&(b.fullheight&&(b.tintposy=0),b.fullwidth&&(b.tintpos=0),b.zoomTintImage.css({left:b.tintpos+"px"}),b.zoomTintImage.css({top:b.tintposy+"px"}))},swaptheimage:function(b,c){var d=this,e=new Image;d.options.loadingIcon&&(d.spinner=a("<div style=\"background: url('"+d.options.loadingIcon+"') no-repeat center;height:"+d.nzHeight+"px;width:"+d.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),d.$elem.after(d.spinner)),d.options.onImageSwap(d.$elem),e.onload=function(){d.largeWidth=e.width,d.largeHeight=e.height,d.zoomImage=c,d.zoomWindow.css({"background-size":d.largeWidth+"px "+d.largeHeight+"px"}),d.swapAction(b,c)},e.src=c},swapAction:function(b,c){var d=this,e=new Image;if(e.onload=function(){d.nzHeight=e.height,d.nzWidth=e.width,d.options.onImageSwapComplete(d.$elem),d.doneCallback()},e.src=b,d.currentZoomLevel=d.options.zoomLevel,d.options.maxZoomLevel=!1,"lens"==d.options.zoomType&&d.zoomLens.css({backgroundImage:"url('"+c+"')"}),"window"==d.options.zoomType&&d.zoomWindow.css({backgroundImage:"url('"+c+"')"}),"inner"==d.options.zoomType&&d.zoomWindow.css({backgroundImage:"url('"+c+"')"}),d.currentImage=c,d.options.imageCrossfade){var f=d.$elem,g=f.clone();if(d.$elem.attr("src",b),d.$elem.after(g),g.stop(!0).fadeOut(d.options.imageCrossfade,function(){a(this).remove()}),d.$elem.width("auto").removeAttr("width"),d.$elem.height("auto").removeAttr("height"),f.fadeIn(d.options.imageCrossfade),d.options.tint&&"inner"!=d.options.zoomType){var h=d.zoomTintImage,i=h.clone();d.zoomTintImage.attr("src",c),d.zoomTintImage.after(i),i.stop(!0).fadeOut(d.options.imageCrossfade,function(){a(this).remove()}),h.fadeIn(d.options.imageCrossfade),d.zoomTint.css({height:d.$elem.height()}),d.zoomTint.css({width:d.$elem.width()})}d.zoomContainer.css("height",d.$elem.height()),d.zoomContainer.css("width",d.$elem.width()),"inner"==d.options.zoomType&&(d.options.constrainType||(d.zoomWrap.parent().css("height",d.$elem.height()),d.zoomWrap.parent().css("width",d.$elem.width()),d.zoomWindow.css("height",d.$elem.height()),d.zoomWindow.css("width",d.$elem.width()))),d.options.imageCrossfade&&(d.zoomWrap.css("height",d.$elem.height()),d.zoomWrap.css("width",d.$elem.width()))}else d.$elem.attr("src",b),d.options.tint&&(d.zoomTintImage.attr("src",c),d.zoomTintImage.attr("height",d.$elem.height()),d.zoomTintImage.css({height:d.$elem.height()}),d.zoomTint.css({height:d.$elem.height()})),d.zoomContainer.css("height",d.$elem.height()),d.zoomContainer.css("width",d.$elem.width()),d.options.imageCrossfade&&(d.zoomWrap.css("height",d.$elem.height()),d.zoomWrap.css("width",d.$elem.width()));d.options.constrainType&&("height"==d.options.constrainType&&(d.zoomContainer.css("height",d.options.constrainSize),d.zoomContainer.css("width","auto"),d.options.imageCrossfade?(d.zoomWrap.css("height",d.options.constrainSize),d.zoomWrap.css("width","auto"),d.constwidth=d.zoomWrap.width()):(d.$elem.css("height",d.options.constrainSize),d.$elem.css("width","auto"),d.constwidth=d.$elem.width()),"inner"==d.options.zoomType&&(d.zoomWrap.parent().css("height",d.options.constrainSize),d.zoomWrap.parent().css("width",d.constwidth),d.zoomWindow.css("height",d.options.constrainSize),d.zoomWindow.css("width",d.constwidth)),d.options.tint&&(d.tintContainer.css("height",d.options.constrainSize),d.tintContainer.css("width",d.constwidth),d.zoomTint.css("height",d.options.constrainSize),d.zoomTint.css("width",d.constwidth),d.zoomTintImage.css("height",d.options.constrainSize),d.zoomTintImage.css("width",d.constwidth))),"width"==d.options.constrainType&&(d.zoomContainer.css("height","auto"),d.zoomContainer.css("width",d.options.constrainSize),d.options.imageCrossfade?(d.zoomWrap.css("height","auto"),d.zoomWrap.css("width",d.options.constrainSize),d.constheight=d.zoomWrap.height()):(d.$elem.css("height","auto"),d.$elem.css("width",d.options.constrainSize),d.constheight=d.$elem.height()),"inner"==d.options.zoomType&&(d.zoomWrap.parent().css("height",d.constheight),d.zoomWrap.parent().css("width",d.options.constrainSize),d.zoomWindow.css("height",d.constheight),d.zoomWindow.css("width",d.options.constrainSize)),d.options.tint&&(d.tintContainer.css("height",d.constheight),d.tintContainer.css("width",d.options.constrainSize),d.zoomTint.css("height",d.constheight),d.zoomTint.css("width",d.options.constrainSize),d.zoomTintImage.css("height",d.constheight),d.zoomTintImage.css("width",d.options.constrainSize))))},doneCallback:function(){var a=this;a.options.loadingIcon&&a.spinner.hide(),a.nzOffset=a.$elem.offset(),a.nzWidth=a.$elem.width(),a.nzHeight=a.$elem.height(),a.currentZoomLevel=a.options.zoomLevel,a.widthRatio=a.largeWidth/a.nzWidth,a.heightRatio=a.largeHeight/a.nzHeight,"window"==a.options.zoomType&&(lensHeight=a.nzHeight<a.options.zoomWindowWidth/a.widthRatio?a.nzHeight:String(a.options.zoomWindowHeight/a.heightRatio),lensWidth=a.options.zoomWindowWidth<a.options.zoomWindowWidth?a.nzWidth:a.options.zoomWindowWidth/a.widthRatio,a.zoomLens&&(a.zoomLens.css("width",lensWidth),a.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){var a=this;return a.zoomImage},getGalleryList:function(){var b=this;return b.gallerylist=[],b.options.gallery?a("#"+b.options.gallery+" a").each(function(){var c="";a(this).data("zoom-image")?c=a(this).data("zoom-image"):a(this).data("image")&&(c=a(this).data("image")),c==b.zoomImage?b.gallerylist.unshift({href:""+c,title:a(this).find("img").attr("title")}):b.gallerylist.push({href:""+c,title:a(this).find("img").attr("title")})}):b.gallerylist.push({href:""+b.zoomImage,title:a(this).find("img").attr("title")}),b.gallerylist},changeZoomLevel:function(a){var b=this;b.scrollingLock=!0,b.newvalue=parseFloat(a).toFixed(2),newvalue=parseFloat(a).toFixed(2),maxheightnewvalue=b.largeHeight/(b.options.zoomWindowHeight/b.nzHeight*b.nzHeight),maxwidthtnewvalue=b.largeWidth/(b.options.zoomWindowWidth/b.nzWidth*b.nzWidth),"inner"!=b.options.zoomType&&(maxheightnewvalue<=newvalue?(b.heightRatio=b.largeHeight/maxheightnewvalue/b.nzHeight,b.newvalueheight=maxheightnewvalue,b.fullheight=!0):(b.heightRatio=b.largeHeight/newvalue/b.nzHeight,b.newvalueheight=newvalue,b.fullheight=!1),maxwidthtnewvalue<=newvalue?(b.widthRatio=b.largeWidth/maxwidthtnewvalue/b.nzWidth,b.newvaluewidth=maxwidthtnewvalue,b.fullwidth=!0):(b.widthRatio=b.largeWidth/newvalue/b.nzWidth,b.newvaluewidth=newvalue,b.fullwidth=!1),"lens"==b.options.zoomType&&(maxheightnewvalue<=newvalue?(b.fullwidth=!0,b.newvaluewidth=maxheightnewvalue):(b.widthRatio=b.largeWidth/newvalue/b.nzWidth,b.newvaluewidth=newvalue,b.fullwidth=!1))),"inner"==b.options.zoomType&&(maxheightnewvalue=parseFloat(b.largeHeight/b.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(b.largeWidth/b.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(b.heightRatio=b.largeHeight/newvalue/b.nzHeight,b.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,b.fullheight=!0):(b.heightRatio=b.largeHeight/newvalue/b.nzHeight,b.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,b.fullheight=!1),maxwidthtnewvalue<=newvalue?(b.widthRatio=b.largeWidth/newvalue/b.nzWidth,b.newvaluewidth=newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,b.fullwidth=!0):(b.widthRatio=b.largeWidth/newvalue/b.nzWidth,b.newvaluewidth=newvalue,b.fullwidth=!1)),scrcontinue=!1,"inner"==b.options.zoomType&&(b.nzWidth>=b.nzHeight&&(b.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,b.fullheight=!0,b.fullwidth=!0)),b.nzHeight>b.nzWidth&&(b.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,b.fullheight=!0,b.fullwidth=!0))),"inner"!=b.options.zoomType&&(scrcontinue=!0),scrcontinue&&(b.zoomLock=0,b.changeZoom=!0,b.options.zoomWindowHeight/b.heightRatio<=b.nzHeight&&(b.currentZoomLevel=b.newvalueheight,"lens"!=b.options.zoomType&&"inner"!=b.options.zoomType&&(b.changeBgSize=!0,b.zoomLens.css({height:String(b.options.zoomWindowHeight/b.heightRatio)+"px"})),("lens"==b.options.zoomType||"inner"==b.options.zoomType)&&(b.changeBgSize=!0)),b.options.zoomWindowWidth/b.widthRatio<=b.nzWidth&&("inner"!=b.options.zoomType&&b.newvaluewidth>b.newvalueheight&&(b.currentZoomLevel=b.newvaluewidth),"lens"!=b.options.zoomType&&"inner"!=b.options.zoomType&&(b.changeBgSize=!0,b.zoomLens.css({width:String(b.options.zoomWindowWidth/b.widthRatio)+"px"})),("lens"==b.options.zoomType||"inner"==b.options.zoomType)&&(b.changeBgSize=!0)),"inner"==b.options.zoomType&&(b.changeBgSize=!0,b.nzWidth>b.nzHeight&&(b.currentZoomLevel=b.newvaluewidth),b.nzHeight>b.nzWidth&&(b.currentZoomLevel=b.newvaluewidth))),b.setPosition(b.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(a){var b=this;"enable"==a&&(b.options.zoomEnabled=!0),"disable"==a&&(b.options.zoomEnabled=!1)}};a.fn.elevateZoom=function(c){return this.each(function(){var d=Object.create(b);d.init(c,this),a.data(this,"elevateZoom",d)})},a.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:a.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:a.noop,onImageSwapComplete:a.noop}}(jQuery,window,document),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof module&&module.exports?module.exports=a:a(jQuery,window,document)}(function(a){!function(b){var c="function"==typeof define&&define.amd,d="undefined"!=typeof module&&module.exports,e="https:"==document.location.protocol?"https:":"http:",f="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";c||(d?require("jquery-mousewheel")(a):a.event.special.mousewheel||a("head").append(decodeURI("%3Cscript src="+e+"//"+f+"%3E%3C/script%3E"))),b()}(function(){var b,c="mCustomScrollbar",d="mCS",e=".mCustomScrollbar",f={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},g=0,h={},i=window.attachEvent&&!window.addEventListener?1:0,j=!1,k=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],l={init:function(b){var b=a.extend(!0,{},f,b),c=m.call(this);if(b.live){var i=b.liveSelector||this.selector||e,j=a(i);if("off"===b.live)return void o(i);h[i]=setTimeout(function(){j.mCustomScrollbar(b),"once"===b.live&&j.length&&o(i)},500)}else o(i);return b.setWidth=b.set_width?b.set_width:b.setWidth,b.setHeight=b.set_height?b.set_height:b.setHeight,b.axis=b.horizontalScroll?"x":p(b.axis),b.scrollInertia=b.scrollInertia>0&&b.scrollInertia<17?17:b.scrollInertia,"object"!=typeof b.mouseWheel&&1==b.mouseWheel&&(b.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),b.mouseWheel.scrollAmount=b.mouseWheelPixels?b.mouseWheelPixels:b.mouseWheel.scrollAmount,b.mouseWheel.normalizeDelta=b.advanced.normalizeMouseWheelDelta?b.advanced.normalizeMouseWheelDelta:b.mouseWheel.normalizeDelta,b.scrollButtons.scrollType=q(b.scrollButtons.scrollType),n(b),a(c).each(function(){var c=a(this);if(!c.data(d)){c.data(d,{idx:++g,opt:b,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:c.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=c.data(d),f=e.opt,h=c.data("mcs-axis"),i=c.data("mcs-scrollbar-position"),j=c.data("mcs-theme");h&&(f.axis=h),i&&(f.scrollbarPosition=i),j&&(f.theme=j,n(f)),r.call(this),e&&f.callbacks.onCreate&&"function"==typeof f.callbacks.onCreate&&f.callbacks.onCreate.call(this),a("#mCSB_"+e.idx+"_container img:not(."+k[2]+")").addClass(k[2]),l.update.call(null,c)}})},update:function(b,c){var e=b||m.call(this);return a(e).each(function(){var b=a(this);if(b.data(d)){var e=b.data(d),f=e.opt,g=a("#mCSB_"+e.idx+"_container"),h=a("#mCSB_"+e.idx),i=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")];if(!g.length)return;e.tweenRunning&&W(b),c&&e&&f.callbacks.onBeforeUpdate&&"function"==typeof f.callbacks.onBeforeUpdate&&f.callbacks.onBeforeUpdate.call(this),b.hasClass(k[3])&&b.removeClass(k[3]),b.hasClass(k[4])&&b.removeClass(k[4]),h.css("max-height","none"),h.height()!==b.height()&&h.css("max-height",b.height()),t.call(this),"y"===f.axis||f.advanced.autoExpandHorizontalScroll||g.css("width",s(g)),e.overflowed=y.call(this),C.call(this),f.autoDraggerLength&&v.call(this),w.call(this),A.call(this);var j=[Math.abs(g[0].offsetTop),Math.abs(g[0].offsetLeft)];"x"!==f.axis&&(e.overflowed[0]?i[0].height()>i[0].parent().height()?z.call(this):(X(b,j[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(z.call(this),"y"===f.axis?B.call(this):"yx"===f.axis&&e.overflowed[1]&&X(b,j[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==f.axis&&(e.overflowed[1]?i[1].width()>i[1].parent().width()?z.call(this):(X(b,j[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(z.call(this),"x"===f.axis?B.call(this):"yx"===f.axis&&e.overflowed[0]&&X(b,j[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),c&&e&&(2===c&&f.callbacks.onImageLoad&&"function"==typeof f.callbacks.onImageLoad?f.callbacks.onImageLoad.call(this):3===c&&f.callbacks.onSelectorChange&&"function"==typeof f.callbacks.onSelectorChange?f.callbacks.onSelectorChange.call(this):f.callbacks.onUpdate&&"function"==typeof f.callbacks.onUpdate&&f.callbacks.onUpdate.call(this)),U.call(this)}})},scrollTo:function(b,c){if("undefined"!=typeof b&&null!=b){var e=m.call(this);return a(e).each(function(){var e=a(this);if(e.data(d)){var f=e.data(d),g=f.opt,h={trigger:"external",scrollInertia:g.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=a.extend(!0,{},h,c),j=S.call(this,b),k=i.scrollInertia>0&&i.scrollInertia<17?17:i.scrollInertia;j[0]=T.call(this,j[0],"y"),j[1]=T.call(this,j[1],"x"),i.moveDragger&&(j[0]*=f.scrollRatio.y,j[1]*=f.scrollRatio.x),i.dur=ea()?0:k,setTimeout(function(){null!==j[0]&&"undefined"!=typeof j[0]&&"x"!==g.axis&&f.overflowed[0]&&(i.dir="y",i.overwrite="all",X(e,j[0].toString(),i)),null!==j[1]&&"undefined"!=typeof j[1]&&"y"!==g.axis&&f.overflowed[1]&&(i.dir="x",i.overwrite="none",X(e,j[1].toString(),i))},i.timeout)}})}},stop:function(){var b=m.call(this);return a(b).each(function(){var b=a(this);b.data(d)&&W(b)})},disable:function(b){var c=m.call(this);return a(c).each(function(){var c=a(this);if(c.data(d)){{c.data(d)}U.call(this,"remove"),B.call(this),b&&z.call(this),C.call(this,!0),c.addClass(k[3])}})},destroy:function(){var b=m.call(this);return a(b).each(function(){var e=a(this);if(e.data(d)){var f=e.data(d),g=f.opt,h=a("#mCSB_"+f.idx),i=a("#mCSB_"+f.idx+"_container"),j=a(".mCSB_"+f.idx+"_scrollbar");g.live&&o(g.liveSelector||a(b).selector),U.call(this,"remove"),B.call(this),z.call(this),e.removeData(d),_(this,"mcs"),j.remove(),i.find("img."+k[2]).removeClass(k[2]),h.replaceWith(i.contents()),e.removeClass(c+" _"+d+"_"+f.idx+" "+k[6]+" "+k[7]+" "+k[5]+" "+k[3]).addClass(k[4])}})}},m=function(){return"object"!=typeof a(this)||a(this).length<1?e:this},n=function(b){var c=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],d=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],e=["minimal","minimal-dark"],f=["minimal","minimal-dark"],g=["minimal","minimal-dark"];b.autoDraggerLength=a.inArray(b.theme,c)>-1?!1:b.autoDraggerLength,b.autoExpandScrollbar=a.inArray(b.theme,d)>-1?!1:b.autoExpandScrollbar,b.scrollButtons.enable=a.inArray(b.theme,e)>-1?!1:b.scrollButtons.enable,b.autoHideScrollbar=a.inArray(b.theme,f)>-1?!0:b.autoHideScrollbar,b.scrollbarPosition=a.inArray(b.theme,g)>-1?"outside":b.scrollbarPosition},o=function(a){h[a]&&(clearTimeout(h[a]),_(h,a))},p=function(a){return"yx"===a||"xy"===a||"auto"===a?"yx":"x"===a||"horizontal"===a?"x":"y"},q=function(a){return"stepped"===a||"pixels"===a||"step"===a||"click"===a?"stepped":"stepless"},r=function(){var b=a(this),e=b.data(d),f=e.opt,g=f.autoExpandScrollbar?" "+k[1]+"_expand":"",h=["<div id='mCSB_"+e.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_vertical"+g+"'><div class='"+k[12]+"'><div id='mCSB_"+e.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+e.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_horizontal"+g+"'><div class='"+k[12]+"'><div id='mCSB_"+e.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],i="yx"===f.axis?"mCSB_vertical_horizontal":"x"===f.axis?"mCSB_horizontal":"mCSB_vertical",j="yx"===f.axis?h[0]+h[1]:"x"===f.axis?h[1]:h[0],l="yx"===f.axis?"<div id='mCSB_"+e.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",m=f.autoHideScrollbar?" "+k[6]:"",n="x"!==f.axis&&"rtl"===e.langDir?" "+k[7]:"";f.setWidth&&b.css("width",f.setWidth),f.setHeight&&b.css("height",f.setHeight),f.setLeft="y"!==f.axis&&"rtl"===e.langDir?"989999px":f.setLeft,b.addClass(c+" _"+d+"_"+e.idx+m+n).wrapInner("<div id='mCSB_"+e.idx+"' class='mCustomScrollBox mCS-"+f.theme+" "+i+"'><div id='mCSB_"+e.idx+"_container' class='mCSB_container' style='position:relative; top:"+f.setTop+"; left:"+f.setLeft+";' dir='"+e.langDir+"' /></div>");var o=a("#mCSB_"+e.idx),p=a("#mCSB_"+e.idx+"_container");"y"===f.axis||f.advanced.autoExpandHorizontalScroll||p.css("width",s(p)),"outside"===f.scrollbarPosition?("static"===b.css("position")&&b.css("position","relative"),b.css("overflow","visible"),o.addClass("mCSB_outside").after(j)):(o.addClass("mCSB_inside").append(j),p.wrap(l)),u.call(this);var q=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")];q[0].css("min-height",q[0].height()),q[1].css("min-width",q[1].width())},s=function(b){var c=[b[0].scrollWidth,Math.max.apply(Math,b.children().map(function(){return a(this).outerWidth(!0)}).get())],d=b.parent().width();return c[0]>d?c[0]:c[1]>d?c[1]:"100%"},t=function(){var b=a(this),c=b.data(d),e=c.opt,f=a("#mCSB_"+c.idx+"_container");if(e.advanced.autoExpandHorizontalScroll&&"y"!==e.axis){f.css({width:"auto","min-width":0,"overflow-x":"scroll"});var g=Math.ceil(f[0].scrollWidth);3===e.advanced.autoExpandHorizontalScroll||2!==e.advanced.autoExpandHorizontalScroll&&g>f.parent().width()?f.css({
width:g,"min-width":"100%","overflow-x":"inherit"}):f.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(f[0].getBoundingClientRect().right+.4)-Math.floor(f[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},u=function(){var b=a(this),c=b.data(d),e=c.opt,f=a(".mCSB_"+c.idx+"_scrollbar:first"),g=ca(e.scrollButtons.tabindex)?"tabindex='"+e.scrollButtons.tabindex+"'":"",h=["<a href='#' class='"+k[13]+"' "+g+" />","<a href='#' class='"+k[14]+"' "+g+" />","<a href='#' class='"+k[15]+"' "+g+" />","<a href='#' class='"+k[16]+"' "+g+" />"],i=["x"===e.axis?h[2]:h[0],"x"===e.axis?h[3]:h[1],h[2],h[3]];e.scrollButtons.enable&&f.prepend(i[0]).append(i[1]).next(".mCSB_scrollTools").prepend(i[2]).append(i[3])},v=function(){var b=a(this),c=b.data(d),e=a("#mCSB_"+c.idx),f=a("#mCSB_"+c.idx+"_container"),g=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")],h=[e.height()/f.outerHeight(!1),e.width()/f.outerWidth(!1)],j=[parseInt(g[0].css("min-height")),Math.round(h[0]*g[0].parent().height()),parseInt(g[1].css("min-width")),Math.round(h[1]*g[1].parent().width())],k=i&&j[1]<j[0]?j[0]:j[1],l=i&&j[3]<j[2]?j[2]:j[3];g[0].css({height:k,"max-height":g[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":j[0]+"px"}),g[1].css({width:l,"max-width":g[1].parent().width()-10})},w=function(){var b=a(this),c=b.data(d),e=a("#mCSB_"+c.idx),f=a("#mCSB_"+c.idx+"_container"),g=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")],h=[f.outerHeight(!1)-e.height(),f.outerWidth(!1)-e.width()],i=[h[0]/(g[0].parent().height()-g[0].height()),h[1]/(g[1].parent().width()-g[1].width())];c.scrollRatio={y:i[0],x:i[1]}},x=function(a,b,c){var d=c?k[0]+"_expanded":"",e=a.closest(".mCSB_scrollTools");"active"===b?(a.toggleClass(k[0]+" "+d),e.toggleClass(k[1]),a[0]._draggable=a[0]._draggable?0:1):a[0]._draggable||("hide"===b?(a.removeClass(k[0]),e.removeClass(k[1])):(a.addClass(k[0]),e.addClass(k[1])))},y=function(){var b=a(this),c=b.data(d),e=a("#mCSB_"+c.idx),f=a("#mCSB_"+c.idx+"_container"),g=null==c.overflowed?f.height():f.outerHeight(!1),h=null==c.overflowed?f.width():f.outerWidth(!1),i=f[0].scrollHeight,j=f[0].scrollWidth;return i>g&&(g=i),j>h&&(h=j),[g>e.height(),h>e.width()]},z=function(){var b=a(this),c=b.data(d),e=c.opt,f=a("#mCSB_"+c.idx),g=a("#mCSB_"+c.idx+"_container"),h=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")];if(W(b),("x"!==e.axis&&!c.overflowed[0]||"y"===e.axis&&c.overflowed[0])&&(h[0].add(g).css("top",0),X(b,"_resetY")),"y"!==e.axis&&!c.overflowed[1]||"x"===e.axis&&c.overflowed[1]){var i=dx=0;"rtl"===c.langDir&&(i=f.width()-g.outerWidth(!1),dx=Math.abs(i/c.scrollRatio.x)),g.css("left",i),h[1].css("left",dx),X(b,"_resetX")}},A=function(){function b(){g=setTimeout(function(){a.event.special.mousewheel?(clearTimeout(g),H.call(c[0])):b()},100)}var c=a(this),e=c.data(d),f=e.opt;if(!e.bindEvents){if(E.call(this),f.contentTouchScroll&&F.call(this),G.call(this),f.mouseWheel.enable){var g;b()}M.call(this),O.call(this),f.advanced.autoScrollOnFocus&&N.call(this),f.scrollButtons.enable&&P.call(this),f.keyboard.enable&&Q.call(this),e.bindEvents=!0}},B=function(){var b=a(this),c=b.data(d),e=c.opt,f=d+"_"+c.idx,g=".mCSB_"+c.idx+"_scrollbar",h=a("#mCSB_"+c.idx+",#mCSB_"+c.idx+"_container,#mCSB_"+c.idx+"_container_wrapper,"+g+" ."+k[12]+",#mCSB_"+c.idx+"_dragger_vertical,#mCSB_"+c.idx+"_dragger_horizontal,"+g+">a"),i=a("#mCSB_"+c.idx+"_container");e.advanced.releaseDraggableSelectors&&h.add(a(e.advanced.releaseDraggableSelectors)),e.advanced.extraDraggableSelectors&&h.add(a(e.advanced.extraDraggableSelectors)),c.bindEvents&&(a(document).add(a(!J()||top.document)).unbind("."+f),h.each(function(){a(this).unbind("."+f)}),clearTimeout(b[0]._focusTimeout),_(b[0],"_focusTimeout"),clearTimeout(c.sequential.step),_(c.sequential,"step"),clearTimeout(i[0].onCompleteTimeout),_(i[0],"onCompleteTimeout"),c.bindEvents=!1)},C=function(b){var c=a(this),e=c.data(d),f=e.opt,g=a("#mCSB_"+e.idx+"_container_wrapper"),h=g.length?g:a("#mCSB_"+e.idx+"_container"),i=[a("#mCSB_"+e.idx+"_scrollbar_vertical"),a("#mCSB_"+e.idx+"_scrollbar_horizontal")],j=[i[0].find(".mCSB_dragger"),i[1].find(".mCSB_dragger")];"x"!==f.axis&&(e.overflowed[0]&&!b?(i[0].add(j[0]).add(i[0].children("a")).css("display","block"),h.removeClass(k[8]+" "+k[10])):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[0].css("display","none"),h.removeClass(k[10])):(i[0].css("display","none"),h.addClass(k[10])),h.addClass(k[8]))),"y"!==f.axis&&(e.overflowed[1]&&!b?(i[1].add(j[1]).add(i[1].children("a")).css("display","block"),h.removeClass(k[9]+" "+k[11])):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[1].css("display","none"),h.removeClass(k[11])):(i[1].css("display","none"),h.addClass(k[11])),h.addClass(k[9]))),e.overflowed[0]||e.overflowed[1]?c.removeClass(k[5]):c.addClass(k[5])},D=function(b){var c=b.type,d=b.target.ownerDocument!==document&&null!==frameElement?[a(frameElement).offset().top,a(frameElement).offset().left]:null,e=J()&&b.target.ownerDocument!==top.document&&null!==frameElement?[a(b.view.frameElement).offset().top,a(b.view.frameElement).offset().left]:[0,0];switch(c){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return d?[b.originalEvent.pageY-d[0]+e[0],b.originalEvent.pageX-d[1]+e[1],!1]:[b.originalEvent.pageY,b.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var f=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],g=b.originalEvent.touches.length||b.originalEvent.changedTouches.length;return b.target.ownerDocument!==document?[f.screenY,f.screenX,g>1]:[f.pageY,f.pageX,g>1];default:return d?[b.pageY-d[0]+e[0],b.pageX-d[1]+e[1],!1]:[b.pageY,b.pageX,!1]}},E=function(){function b(a,b,d,e){if(n[0].idleTimer=k.scrollInertia<233?250:0,c.attr("id")===m[1])var f="x",i=(c[0].offsetLeft-b+e)*h.scrollRatio.x;else var f="y",i=(c[0].offsetTop-a+d)*h.scrollRatio.y;X(g,i.toString(),{dir:f,drag:!0})}var c,e,f,g=a(this),h=g.data(d),k=h.opt,l=d+"_"+h.idx,m=["mCSB_"+h.idx+"_dragger_vertical","mCSB_"+h.idx+"_dragger_horizontal"],n=a("#mCSB_"+h.idx+"_container"),o=a("#"+m[0]+",#"+m[1]),p=k.advanced.releaseDraggableSelectors?o.add(a(k.advanced.releaseDraggableSelectors)):o,q=k.advanced.extraDraggableSelectors?a(!J()||top.document).add(a(k.advanced.extraDraggableSelectors)):a(!J()||top.document);o.bind("contextmenu."+l,function(a){a.preventDefault()}).bind("mousedown."+l+" touchstart."+l+" pointerdown."+l+" MSPointerDown."+l,function(b){if(b.stopImmediatePropagation(),b.preventDefault(),aa(b)){j=!0,i&&(document.onselectstart=function(){return!1}),K.call(n,!1),W(g),c=a(this);var d=c.offset(),h=D(b)[0]-d.top,l=D(b)[1]-d.left,m=c.height()+d.top,o=c.width()+d.left;m>h&&h>0&&o>l&&l>0&&(e=h,f=l),x(c,"active",k.autoExpandScrollbar)}}).bind("touchmove."+l,function(a){a.stopImmediatePropagation(),a.preventDefault();var d=c.offset(),g=D(a)[0]-d.top,h=D(a)[1]-d.left;b(e,f,g,h)}),a(document).add(q).bind("mousemove."+l+" pointermove."+l+" MSPointerMove."+l,function(a){if(c){var d=c.offset(),g=D(a)[0]-d.top,h=D(a)[1]-d.left;if(e===g&&f===h)return;b(e,f,g,h)}}).add(p).bind("mouseup."+l+" touchend."+l+" pointerup."+l+" MSPointerUp."+l,function(){c&&(x(c,"active",k.autoExpandScrollbar),c=null),j=!1,i&&(document.onselectstart=null),K.call(n,!0)})},F=function(){function c(a){if(!ba(a)||j||D(a)[2])return void(b=0);b=1,w=0,x=0,k=1,y.removeClass("mCS_touch_action");var c=E.offset();l=D(a)[0]-c.top,m=D(a)[1]-c.left,L=[D(a)[0],D(a)[1]]}function e(a){if(ba(a)&&!j&&!D(a)[2]&&(A.documentTouchScroll||a.preventDefault(),a.stopImmediatePropagation(),(!x||w)&&k)){q=Z();var b=C.offset(),c=D(a)[0]-b.top,d=D(a)[1]-b.left,e="mcsLinearOut";if(G.push(c),H.push(d),L[2]=Math.abs(D(a)[0]-L[0]),L[3]=Math.abs(D(a)[1]-L[1]),z.overflowed[0])var f=F[0].parent().height()-F[0].height(),g=l-c>0&&c-l>-(f*z.scrollRatio.y)&&(2*L[3]<L[2]||"yx"===A.axis);if(z.overflowed[1])var h=F[1].parent().width()-F[1].width(),n=m-d>0&&d-m>-(h*z.scrollRatio.x)&&(2*L[2]<L[3]||"yx"===A.axis);g||n?(O||a.preventDefault(),w=1):(x=1,y.addClass("mCS_touch_action")),O&&a.preventDefault(),u="yx"===A.axis?[l-c,m-d]:"x"===A.axis?[null,m-d]:[l-c,null],E[0].idleTimer=250,z.overflowed[0]&&i(u[0],I,e,"y","all",!0),z.overflowed[1]&&i(u[1],I,e,"x",K,!0)}}function f(a){if(!ba(a)||j||D(a)[2])return void(b=0);b=1,a.stopImmediatePropagation(),W(y),p=Z();var c=C.offset();n=D(a)[0]-c.top,o=D(a)[1]-c.left,G=[],H=[]}function g(a){if(ba(a)&&!j&&!D(a)[2]){k=0,a.stopImmediatePropagation(),w=0,x=0,r=Z();var b=C.offset(),c=D(a)[0]-b.top,d=D(a)[1]-b.left;if(!(r-q>30)){t=1e3/(r-p);var e="mcsEaseOut",f=2.5>t,g=f?[G[G.length-2],H[H.length-2]]:[0,0];s=f?[c-g[0],d-g[1]]:[c-n,d-o];var l=[Math.abs(s[0]),Math.abs(s[1])];t=f?[Math.abs(s[0]/4),Math.abs(s[1]/4)]:[t,t];var m=[Math.abs(E[0].offsetTop)-s[0]*h(l[0]/t[0],t[0]),Math.abs(E[0].offsetLeft)-s[1]*h(l[1]/t[1],t[1])];u="yx"===A.axis?[m[0],m[1]]:"x"===A.axis?[null,m[1]]:[m[0],null],v=[4*l[0]+A.scrollInertia,4*l[1]+A.scrollInertia];var y=parseInt(A.contentTouchScroll)||0;u[0]=l[0]>y?u[0]:0,u[1]=l[1]>y?u[1]:0,z.overflowed[0]&&i(u[0],v[0],e,"y",K,!1),z.overflowed[1]&&i(u[1],v[1],e,"x",K,!1)}}}function h(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return a>90?b>4?c[0]:c[3]:a>60?b>3?c[3]:c[2]:a>30?b>8?c[1]:b>6?c[0]:b>4?b:c[2]:b>8?b:c[3]}function i(a,b,c,d,e,f){a&&X(y,a.toString(),{dur:b,scrollEasing:c,dir:d,overwrite:e,drag:f})}var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=a(this),z=y.data(d),A=z.opt,B=d+"_"+z.idx,C=a("#mCSB_"+z.idx),E=a("#mCSB_"+z.idx+"_container"),F=[a("#mCSB_"+z.idx+"_dragger_vertical"),a("#mCSB_"+z.idx+"_dragger_horizontal")],G=[],H=[],I=0,K="yx"===A.axis?"none":"all",L=[],M=E.find("iframe"),N=["touchstart."+B+" pointerdown."+B+" MSPointerDown."+B,"touchmove."+B+" pointermove."+B+" MSPointerMove."+B,"touchend."+B+" pointerup."+B+" MSPointerUp."+B],O=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;E.bind(N[0],function(a){c(a)}).bind(N[1],function(a){e(a)}),C.bind(N[0],function(a){f(a)}).bind(N[2],function(a){g(a)}),M.length&&M.each(function(){a(this).bind("load",function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind(N[0],function(a){c(a),f(a)}).bind(N[1],function(a){e(a)}).bind(N[2],function(a){g(a)})})})},G=function(){function c(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function e(a,b,c){k.type=c&&f?"stepped":"stepless",k.scrollAmount=10,R(g,a,b,"mcsLinearOut",c?60:null)}var f,g=a(this),h=g.data(d),i=h.opt,k=h.sequential,l=d+"_"+h.idx,m=a("#mCSB_"+h.idx+"_container"),n=m.parent();m.bind("mousedown."+l,function(){b||f||(f=1,j=!0)}).add(document).bind("mousemove."+l,function(a){if(!b&&f&&c()){var d=m.offset(),g=D(a)[0]-d.top+m[0].offsetTop,j=D(a)[1]-d.left+m[0].offsetLeft;g>0&&g<n.height()&&j>0&&j<n.width()?k.step&&e("off",null,"stepped"):("x"!==i.axis&&h.overflowed[0]&&(0>g?e("on",38):g>n.height()&&e("on",40)),"y"!==i.axis&&h.overflowed[1]&&(0>j?e("on",37):j>n.width()&&e("on",39)))}}).bind("mouseup."+l+" dragend."+l,function(){b||(f&&(f=0,e("off",null)),j=!1)})},H=function(){function b(b,d){if(W(c),!L(c,b.target)){var g="auto"!==f.mouseWheel.deltaFactor?parseInt(f.mouseWheel.deltaFactor):i&&b.deltaFactor<100?100:b.deltaFactor||100,k=f.scrollInertia;if("x"===f.axis||"x"===f.mouseWheel.axis)var l="x",m=[Math.round(g*e.scrollRatio.x),parseInt(f.mouseWheel.scrollAmount)],n="auto"!==f.mouseWheel.scrollAmount?m[1]:m[0]>=h.width()?.9*h.width():m[0],o=Math.abs(a("#mCSB_"+e.idx+"_container")[0].offsetLeft),p=j[1][0].offsetLeft,q=j[1].parent().width()-j[1].width(),r="y"===f.mouseWheel.axis?b.deltaY||d:b.deltaX;else var l="y",m=[Math.round(g*e.scrollRatio.y),parseInt(f.mouseWheel.scrollAmount)],n="auto"!==f.mouseWheel.scrollAmount?m[1]:m[0]>=h.height()?.9*h.height():m[0],o=Math.abs(a("#mCSB_"+e.idx+"_container")[0].offsetTop),p=j[0][0].offsetTop,q=j[0].parent().height()-j[0].height(),r=b.deltaY||d;"y"===l&&!e.overflowed[0]||"x"===l&&!e.overflowed[1]||((f.mouseWheel.invert||b.webkitDirectionInvertedFromDevice)&&(r=-r),f.mouseWheel.normalizeDelta&&(r=0>r?-1:1),(r>0&&0!==p||0>r&&p!==q||f.mouseWheel.preventDefault)&&(b.stopImmediatePropagation(),b.preventDefault()),b.deltaFactor<5&&!f.mouseWheel.normalizeDelta&&(n=b.deltaFactor,k=17),X(c,(o-r*n).toString(),{dir:l,dur:k}))}}if(a(this).data(d)){var c=a(this),e=c.data(d),f=e.opt,g=d+"_"+e.idx,h=a("#mCSB_"+e.idx),j=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")],k=a("#mCSB_"+e.idx+"_container").find("iframe");k.length&&k.each(function(){a(this).bind("load",function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind("mousewheel."+g,function(a,c){b(a,c)})})}),h.bind("mousewheel."+g,function(a,c){b(a,c)})}},I=new Object,J=function(b){var c=!1,d=!1,e=null;if(void 0===b?d="#empty":void 0!==a(b).attr("id")&&(d=a(b).attr("id")),d!==!1&&void 0!==I[d])return I[d];if(b){try{var f=b.contentDocument||b.contentWindow.document;e=f.body.innerHTML}catch(g){}c=null!==e}else{try{var f=top.document;e=f.body.innerHTML}catch(g){}c=null!==e}return d!==!1&&(I[d]=c),c},K=function(a){var b=this.find("iframe");if(b.length){var c=a?"auto":"none";b.css("pointer-events",c)}},L=function(b,c){var e=c.nodeName.toLowerCase(),f=b.data(d).opt.mouseWheel.disableOver,g=["select","textarea"];return a.inArray(e,f)>-1&&!(a.inArray(e,g)>-1&&!a(c).is(":focus"))},M=function(){var b,c=a(this),e=c.data(d),f=d+"_"+e.idx,g=a("#mCSB_"+e.idx+"_container"),h=g.parent(),i=a(".mCSB_"+e.idx+"_scrollbar ."+k[12]);i.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(c){j=!0,a(c.target).hasClass("mCSB_dragger")||(b=1)}).bind("touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){j=!1}).bind("click."+f,function(d){if(b&&(b=0,a(d.target).hasClass(k[12])||a(d.target).hasClass("mCSB_draggerRail"))){W(c);var f=a(this),i=f.find(".mCSB_dragger");if(f.parent(".mCSB_scrollTools_horizontal").length>0){if(!e.overflowed[1])return;var j="x",l=d.pageX>i.offset().left?-1:1,m=Math.abs(g[0].offsetLeft)-.9*l*h.width()}else{if(!e.overflowed[0])return;var j="y",l=d.pageY>i.offset().top?-1:1,m=Math.abs(g[0].offsetTop)-.9*l*h.height()}X(c,m.toString(),{dir:j,scrollEasing:"mcsEaseInOut"})}})},N=function(){var b=a(this),c=b.data(d),e=c.opt,f=d+"_"+c.idx,g=a("#mCSB_"+c.idx+"_container"),h=g.parent();g.bind("focusin."+f,function(){var c=a(document.activeElement),d=g.find(".mCustomScrollBox").length,f=0;c.is(e.advanced.autoScrollOnFocus)&&(W(b),clearTimeout(b[0]._focusTimeout),b[0]._focusTimer=d?(f+17)*d:0,b[0]._focusTimeout=setTimeout(function(){var a=[da(c)[0],da(c)[1]],d=[g[0].offsetTop,g[0].offsetLeft],i=[d[0]+a[0]>=0&&d[0]+a[0]<h.height()-c.outerHeight(!1),d[1]+a[1]>=0&&d[0]+a[1]<h.width()-c.outerWidth(!1)],j="yx"!==e.axis||i[0]||i[1]?"all":"none";"x"===e.axis||i[0]||X(b,a[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:j,dur:f}),"y"===e.axis||i[1]||X(b,a[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:j,dur:f})},b[0]._focusTimer))})},O=function(){var b=a(this),c=b.data(d),e=d+"_"+c.idx,f=a("#mCSB_"+c.idx+"_container").parent();f.bind("scroll."+e,function(){(0!==f.scrollTop()||0!==f.scrollLeft())&&a(".mCSB_"+c.idx+"_scrollbar").css("visibility","hidden")})},P=function(){var b=a(this),c=b.data(d),e=c.opt,f=c.sequential,g=d+"_"+c.idx,h=".mCSB_"+c.idx+"_scrollbar",i=a(h+">a");i.bind("contextmenu."+g,function(a){a.preventDefault()}).bind("mousedown."+g+" touchstart."+g+" pointerdown."+g+" MSPointerDown."+g+" mouseup."+g+" touchend."+g+" pointerup."+g+" MSPointerUp."+g+" mouseout."+g+" pointerout."+g+" MSPointerOut."+g+" click."+g,function(d){function g(a,c){f.scrollAmount=e.scrollButtons.scrollAmount,R(b,a,c)}if(d.preventDefault(),aa(d)){var h=a(this).attr("class");switch(f.type=e.scrollButtons.scrollType,d.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===f.type)return;j=!0,c.tweenRunning=!1,g("on",h);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===f.type)return;j=!1,f.dir&&g("off",h);break;case"click":if("stepped"!==f.type||c.tweenRunning)return;g("on",h)}}})},Q=function(){function b(b){function d(a,b){g.type=f.keyboard.scrollType,g.scrollAmount=f.keyboard.scrollAmount,"stepped"===g.type&&e.tweenRunning||R(c,a,b)}switch(b.type){case"blur":e.tweenRunning&&g.dir&&d("off",null);break;case"keydown":case"keyup":var h=b.keyCode?b.keyCode:b.which,i="on";if("x"!==f.axis&&(38===h||40===h)||"y"!==f.axis&&(37===h||39===h)){if((38===h||40===h)&&!e.overflowed[0]||(37===h||39===h)&&!e.overflowed[1])return;"keyup"===b.type&&(i="off"),a(document.activeElement).is(l)||(b.preventDefault(),b.stopImmediatePropagation(),d(i,h))}else if(33===h||34===h){if((e.overflowed[0]||e.overflowed[1])&&(b.preventDefault(),b.stopImmediatePropagation()),"keyup"===b.type){W(c);var m=34===h?-1:1;if("x"===f.axis||"yx"===f.axis&&e.overflowed[1]&&!e.overflowed[0])var n="x",o=Math.abs(j[0].offsetLeft)-.9*m*k.width();else var n="y",o=Math.abs(j[0].offsetTop)-.9*m*k.height();X(c,o.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}}else if((35===h||36===h)&&!a(document.activeElement).is(l)&&((e.overflowed[0]||e.overflowed[1])&&(b.preventDefault(),b.stopImmediatePropagation()),"keyup"===b.type)){if("x"===f.axis||"yx"===f.axis&&e.overflowed[1]&&!e.overflowed[0])var n="x",o=35===h?Math.abs(k.width()-j.outerWidth(!1)):0;else var n="y",o=35===h?Math.abs(k.height()-j.outerHeight(!1)):0;X(c,o.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}}}var c=a(this),e=c.data(d),f=e.opt,g=e.sequential,h=d+"_"+e.idx,i=a("#mCSB_"+e.idx),j=a("#mCSB_"+e.idx+"_container"),k=j.parent(),l="input,textarea,select,datalist,keygen,[contenteditable='true']",m=j.find("iframe"),n=["blur."+h+" keydown."+h+" keyup."+h];m.length&&m.each(function(){a(this).bind("load",function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind(n[0],function(a){b(a)})})}),i.attr("tabindex","0").bind(n[0],function(a){b(a)})},R=function(b,c,e,f,g){function h(a){l.snapAmount&&(m.scrollAmount=l.snapAmount instanceof Array?"x"===m.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var c="stepped"!==m.type,d=g?g:a?c?p/1.5:q:1e3/60,e=a?c?7.5:40:2.5,i=[Math.abs(n[0].offsetTop),Math.abs(n[0].offsetLeft)],k=[j.scrollRatio.y>10?10:j.scrollRatio.y,j.scrollRatio.x>10?10:j.scrollRatio.x],o="x"===m.dir[0]?i[1]+m.dir[1]*k[1]*e:i[0]+m.dir[1]*k[0]*e,r="x"===m.dir[0]?i[1]+m.dir[1]*parseInt(m.scrollAmount):i[0]+m.dir[1]*parseInt(m.scrollAmount),s="auto"!==m.scrollAmount?r:o,t=f?f:a?c?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",u=a?!0:!1;return a&&17>d&&(s="x"===m.dir[0]?i[1]:i[0]),X(b,s.toString(),{dir:m.dir[0],scrollEasing:t,dur:d,onComplete:u}),a?void(m.dir=!1):(clearTimeout(m.step),void(m.step=setTimeout(function(){h()},d)))}function i(){clearTimeout(m.step),_(m,"step"),W(b)}var j=b.data(d),l=j.opt,m=j.sequential,n=a("#mCSB_"+j.idx+"_container"),o="stepped"===m.type?!0:!1,p=l.scrollInertia<26?26:l.scrollInertia,q=l.scrollInertia<1?17:l.scrollInertia;switch(c){case"on":if(m.dir=[e===k[16]||e===k[15]||39===e||37===e?"x":"y",e===k[13]||e===k[15]||38===e||37===e?-1:1],W(b),ca(e)&&"stepped"===m.type)return;h(o);break;case"off":i(),(o||j.tweenRunning&&m.dir)&&h(!0)}},S=function(b){var c=a(this).data(d).opt,e=[];return"function"==typeof b&&(b=b()),b instanceof Array?e=b.length>1?[b[0],b[1]]:"x"===c.axis?[null,b[0]]:[b[0],null]:(e[0]=b.y?b.y:b.x||"x"===c.axis?null:b,e[1]=b.x?b.x:b.y||"y"===c.axis?null:b),"function"==typeof e[0]&&(e[0]=e[0]()),"function"==typeof e[1]&&(e[1]=e[1]()),e},T=function(b,c){if(null!=b&&"undefined"!=typeof b){var e=a(this),f=e.data(d),g=f.opt,h=a("#mCSB_"+f.idx+"_container"),i=h.parent(),j=typeof b;c||(c="x"===g.axis?"x":"y");var k="x"===c?h.outerWidth(!1)-i.width():h.outerHeight(!1)-i.height(),m="x"===c?h[0].offsetLeft:h[0].offsetTop,n="x"===c?"left":"top";switch(j){case"function":return b();case"object":var o=b.jquery?b:a(b);if(!o.length)return;return"x"===c?da(o)[1]:da(o)[0];case"string":case"number":if(ca(b))return Math.abs(b);if(-1!==b.indexOf("%"))return Math.abs(k*parseInt(b)/100);if(-1!==b.indexOf("-="))return Math.abs(m-parseInt(b.split("-=")[1]));if(-1!==b.indexOf("+=")){var p=m+parseInt(b.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==b.indexOf("px")&&ca(b.split("px")[0]))return Math.abs(b.split("px")[0]);if("top"===b||"left"===b)return 0;if("bottom"===b)return Math.abs(i.height()-h.outerHeight(!1));if("right"===b)return Math.abs(i.width()-h.outerWidth(!1));if("first"===b||"last"===b){var o=h.find(":"+b);return"x"===c?da(o)[1]:da(o)[0]}return a(b).length?"x"===c?da(a(b))[1]:da(a(b))[0]:(h.css(n,b),void l.update.call(null,e[0]))}}},U=function(b){function c(){return clearTimeout(m[0].autoUpdate),0===h.parents("html").length?void(h=null):void(m[0].autoUpdate=setTimeout(function(){return j.advanced.updateOnSelectorChange&&(i.poll.change.n=f(),i.poll.change.n!==i.poll.change.o)?(i.poll.change.o=i.poll.change.n,void g(3)):j.advanced.updateOnContentResize&&(i.poll.size.n=h[0].scrollHeight+h[0].scrollWidth+m[0].offsetHeight+h[0].offsetHeight+h[0].offsetWidth,i.poll.size.n!==i.poll.size.o)?(i.poll.size.o=i.poll.size.n,void g(1)):!j.advanced.updateOnImageLoad||"auto"===j.advanced.updateOnImageLoad&&"y"===j.axis||(i.poll.img.n=m.find("img").length,i.poll.img.n===i.poll.img.o)?void((j.advanced.updateOnSelectorChange||j.advanced.updateOnContentResize||j.advanced.updateOnImageLoad)&&c()):(i.poll.img.o=i.poll.img.n,void m.find("img").each(function(){e(this)}))},j.advanced.autoUpdateTimeout))}function e(b){function c(a,b){return function(){return b.apply(a,arguments)}}function d(){this.onload=null,a(b).addClass(k[2]),g(2)}if(a(b).hasClass(k[2]))return void g();var e=new Image;e.onload=c(e,d),e.src=b.src}function f(){j.advanced.updateOnSelectorChange===!0&&(j.advanced.updateOnSelectorChange="*");var a=0,b=m.find(j.advanced.updateOnSelectorChange);return j.advanced.updateOnSelectorChange&&b.length>0&&b.each(function(){a+=this.offsetHeight+this.offsetWidth}),a}function g(a){clearTimeout(m[0].autoUpdate),l.update.call(null,h[0],a)}var h=a(this),i=h.data(d),j=i.opt,m=a("#mCSB_"+i.idx+"_container");return b?(clearTimeout(m[0].autoUpdate),void _(m[0],"autoUpdate")):void c()},V=function(a,b,c){return Math.round(a/b)*b-c},W=function(b){var c=b.data(d),e=a("#mCSB_"+c.idx+"_container,#mCSB_"+c.idx+"_container_wrapper,#mCSB_"+c.idx+"_dragger_vertical,#mCSB_"+c.idx+"_dragger_horizontal");e.each(function(){$.call(this)})},X=function(b,c,e){function f(a){return i&&j.callbacks[a]&&"function"==typeof j.callbacks[a]}function g(){return[j.callbacks.alwaysTriggerOffsets||u>=v[0]+y,j.callbacks.alwaysTriggerOffsets||-z>=u]}function h(){var a=[n[0].offsetTop,n[0].offsetLeft],c=[s[0].offsetTop,s[0].offsetLeft],d=[n.outerHeight(!1),n.outerWidth(!1)],f=[m.height(),m.width()];b[0].mcs={content:n,top:a[0],left:a[1],draggerTop:c[0],draggerLeft:c[1],topPct:Math.round(100*Math.abs(a[0])/(Math.abs(d[0])-f[0])),leftPct:Math.round(100*Math.abs(a[1])/(Math.abs(d[1])-f[1])),direction:e.dir}}var i=b.data(d),j=i.opt,k={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:j.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},e=a.extend(k,e),l=[e.dur,e.drag?0:e.dur],m=a("#mCSB_"+i.idx),n=a("#mCSB_"+i.idx+"_container"),o=n.parent(),p=j.callbacks.onTotalScrollOffset?S.call(b,j.callbacks.onTotalScrollOffset):[0,0],q=j.callbacks.onTotalScrollBackOffset?S.call(b,j.callbacks.onTotalScrollBackOffset):[0,0];if(i.trigger=e.trigger,(0!==o.scrollTop()||0!==o.scrollLeft())&&(a(".mCSB_"+i.idx+"_scrollbar").css("visibility","visible"),o.scrollTop(0).scrollLeft(0)),"_resetY"!==c||i.contentReset.y||(f("onOverflowYNone")&&j.callbacks.onOverflowYNone.call(b[0]),i.contentReset.y=1),"_resetX"!==c||i.contentReset.x||(f("onOverflowXNone")&&j.callbacks.onOverflowXNone.call(b[0]),i.contentReset.x=1),"_resetY"!==c&&"_resetX"!==c){if(!i.contentReset.y&&b[0].mcs||!i.overflowed[0]||(f("onOverflowY")&&j.callbacks.onOverflowY.call(b[0]),i.contentReset.x=null),!i.contentReset.x&&b[0].mcs||!i.overflowed[1]||(f("onOverflowX")&&j.callbacks.onOverflowX.call(b[0]),i.contentReset.x=null),j.snapAmount){var r=j.snapAmount instanceof Array?"x"===e.dir?j.snapAmount[1]:j.snapAmount[0]:j.snapAmount;c=V(c,r,j.snapOffset)}switch(e.dir){case"x":var s=a("#mCSB_"+i.idx+"_dragger_horizontal"),t="left",u=n[0].offsetLeft,v=[m.width()-n.outerWidth(!1),s.parent().width()-s.width()],w=[c,0===c?0:c/i.scrollRatio.x],y=p[1],z=q[1],A=y>0?y/i.scrollRatio.x:0,B=z>0?z/i.scrollRatio.x:0;break;case"y":var s=a("#mCSB_"+i.idx+"_dragger_vertical"),t="top",u=n[0].offsetTop,v=[m.height()-n.outerHeight(!1),s.parent().height()-s.height()],w=[c,0===c?0:c/i.scrollRatio.y],y=p[0],z=q[0],A=y>0?y/i.scrollRatio.y:0,B=z>0?z/i.scrollRatio.y:0}w[1]<0||0===w[0]&&0===w[1]?w=[0,0]:w[1]>=v[1]?w=[v[0],v[1]]:w[0]=-w[0],b[0].mcs||(h(),f("onInit")&&j.callbacks.onInit.call(b[0])),clearTimeout(n[0].onCompleteTimeout),Y(s[0],t,Math.round(w[1]),l[1],e.scrollEasing),(i.tweenRunning||!(0===u&&w[0]>=0||u===v[0]&&w[0]<=v[0]))&&Y(n[0],t,Math.round(w[0]),l[0],e.scrollEasing,e.overwrite,{onStart:function(){e.callbacks&&e.onStart&&!i.tweenRunning&&(f("onScrollStart")&&(h(),j.callbacks.onScrollStart.call(b[0])),i.tweenRunning=!0,x(s),i.cbOffsets=g())},onUpdate:function(){e.callbacks&&e.onUpdate&&f("whileScrolling")&&(h(),j.callbacks.whileScrolling.call(b[0]))},onComplete:function(){if(e.callbacks&&e.onComplete){"yx"===j.axis&&clearTimeout(n[0].onCompleteTimeout);var a=n[0].idleTimer||0;n[0].onCompleteTimeout=setTimeout(function(){f("onScroll")&&(h(),j.callbacks.onScroll.call(b[0])),f("onTotalScroll")&&w[1]>=v[1]-A&&i.cbOffsets[0]&&(h(),j.callbacks.onTotalScroll.call(b[0])),f("onTotalScrollBack")&&w[1]<=B&&i.cbOffsets[1]&&(h(),j.callbacks.onTotalScrollBack.call(b[0])),i.tweenRunning=!1,n[0].idleTimer=0,x(s,"hide")},a)}}})}},Y=function(a,b,c,d,e,f,g){function h(){v.stop||(s||o.call(),s=Z()-r,i(),s>=v.time&&(v.time=s>v.time?s+m-(s-v.time):s+m-1,v.time<s+1&&(v.time=s+1)),v.time<d?v.id=n(h):q.call())}function i(){d>0?(v.currVal=l(v.time,t,w,d,e),u[b]=Math.round(v.currVal)+"px"):u[b]=c+"px",p.call()}function j(){m=1e3/60,v.time=s+m,n=window.requestAnimationFrame?window.requestAnimationFrame:function(a){return i(),setTimeout(a,.01)},v.id=n(h)}function k(){null!=v.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(v.id):clearTimeout(v.id),v.id=null)}function l(a,b,c,d,e){switch(e){case"linear":case"mcsLinear":return c*a/d+b;case"mcsLinearOut":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case"easeInOutSmooth":return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);case"easeInOutStrong":return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b);case"easeInOut":case"mcsEaseInOut":return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b);case"easeOutSmooth":return a/=d,a--,-c*(a*a*a*a-1)+b;case"easeOutStrong":return c*(-Math.pow(2,-10*a/d)+1)+b;case"easeOut":case"mcsEaseOut":default:var f=(a/=d)*a,g=f*a;return b+c*(.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a)}}a._mTween||(a._mTween={top:{},left:{}});var m,n,g=g||{},o=g.onStart||function(){},p=g.onUpdate||function(){},q=g.onComplete||function(){},r=Z(),s=0,t=a.offsetTop,u=a.style,v=a._mTween[b];"left"===b&&(t=a.offsetLeft);var w=c-t;v.stop=0,"none"!==f&&k(),j()},Z=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},$=function(){var a=this;a._mTween||(a._mTween={top:{},left:{}});for(var b=["top","left"],c=0;c<b.length;c++){var d=b[c];a._mTween[d].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(a._mTween[d].id):clearTimeout(a._mTween[d].id),a._mTween[d].id=null,a._mTween[d].stop=1)}},_=function(a,b){try{delete a[b]}catch(c){a[b]=null}},aa=function(a){return!(a.which&&1!==a.which)},ba=function(a){var b=a.originalEvent.pointerType;return!(b&&"touch"!==b&&2!==b)},ca=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},da=function(a){var b=a.parents(".mCSB_container");return[a.offset().top-b.offset().top,a.offset().left-b.offset().left]},ea=function(){function a(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null}var b=a();return b?document[b]:!1};a.fn[c]=function(b){return l[b]?l[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist"):l.init.apply(this,arguments)},a[c]=function(b){return l[b]?l[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist"):l.init.apply(this,arguments)},a[c].defaults=f,window[c]=!0,a(window).bind("load",function(){a(e)[c](),a.extend(a.expr[":"],{mcsInView:a.expr[":"].mcsInView||function(b){var c,d,e=a(b),f=e.parents(".mCSB_container");if(f.length)return c=f.parent(),d=[f[0].offsetTop,f[0].offsetLeft],d[0]+da(e)[0]>=0&&d[0]+da(e)[0]<c.height()-e.outerHeight(!1)&&d[1]+da(e)[1]>=0&&d[1]+da(e)[1]<c.width()-e.outerWidth(!1)},mcsInSight:a.expr[":"].mcsInSight||function(b,c,d){var e,f,g,h,i=a(b),j=i.parents(".mCSB_container"),k="exact"===d[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(j.length)return e=[i.outerHeight(!1),i.outerWidth(!1)],g=[j[0].offsetTop+da(i)[0],j[0].offsetLeft+da(i)[1]],f=[j.parent()[0].offsetHeight,j.parent()[0].offsetWidth],h=[e[0]<f[0]?k[0]:k[1],e[1]<f[1]?k[0]:k[1]],g[0]-f[0]*h[0][0]<0&&g[0]+e[0]-f[0]*h[0][1]>=0&&g[1]-f[1]*h[1][0]<0&&g[1]+e[1]-f[1]*h[1][1]>=0},mcsOverflow:a.expr[":"].mcsOverflow||function(b){var c=a(b).data(d);if(c)return c.overflowed[0]||c.overflowed[1]}})})})}),!function(a,b,c){function d(b,c){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=a(b),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=a.extend({},i,c),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function e(b,c){var d=!0;return a.each(b,function(a){return"undefined"==typeof c[a]||b[a]!==c[a]?(d=!1,!1):void 0}),d}function f(){return!k&&j}function g(){var a=c.body||c.documentElement,b=a.style,d="transition";if("string"==typeof b[d])return!0;v=["Moz","Webkit","Khtml","O","ms"],d=d.charAt(0).toUpperCase()+d.substr(1);for(var e=0;e<v.length;e++)if("string"==typeof b[v[e]+d])return!0;return!1}var h="tooltipster",i={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(){},functionBefore:function(a,b){b()},functionReady:function(){},functionAfter:function(){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};d.prototype={_init:function(){var b=this;if(c.querySelector){var d=null;void 0===b.$el.data("tooltipster-initialTitle")&&(d=b.$el.attr("title"),void 0===d&&(d=null),b.$el.data("tooltipster-initialTitle",d)),b._content_set(null!==b.options.content?b.options.content:d);var e=b.options.functionInit.call(b.$el,b.$el,b.Content);"undefined"!=typeof e&&b._content_set(e),b.$el.removeAttr("title").addClass("tooltipstered"),!j&&b.options.iconDesktop||j&&b.options.iconTouch?("string"==typeof b.options.icon?(b.$elProxy=a('<span class="'+b.options.iconTheme+'"></span>'),
b.$elProxy.text(b.options.icon)):b.$elProxy=b.options.iconCloning?b.options.icon.clone(!0):b.options.icon,b.$elProxy.insertAfter(b.$el)):b.$elProxy=b.$el,"hover"==b.options.trigger?(b.$elProxy.on("mouseenter."+b.namespace,function(){(!f()||b.options.touchDevices)&&(b.mouseIsOverProxy=!0,b._show())}).on("mouseleave."+b.namespace,function(){(!f()||b.options.touchDevices)&&(b.mouseIsOverProxy=!1)}),j&&b.options.touchDevices&&b.$elProxy.on("touchstart."+b.namespace,function(){b._showNow()})):"click"==b.options.trigger&&b.$elProxy.on("click."+b.namespace,function(){(!f()||b.options.touchDevices)&&b._show()})}},_show:function(){var a=this;"shown"!=a.Status&&"appearing"!=a.Status&&(a.options.delay?a.timerShow=setTimeout(function(){("click"==a.options.trigger||"hover"==a.options.trigger&&a.mouseIsOverProxy)&&a._showNow()},a.options.delay):a._showNow())},_showNow:function(c){var d=this;d.options.functionBefore.call(d.$el,d.$el,function(){if(d.enabled&&null!==d.Content){c&&d.callbacks.show.push(c),d.callbacks.hide=[],clearTimeout(d.timerShow),d.timerShow=null,clearTimeout(d.timerHide),d.timerHide=null,d.options.onlyOne&&a(".tooltipstered").not(d.$el).each(function(b,c){var d=a(c),e=d.data("tooltipster-ns");a.each(e,function(a,b){var c=d.data(b),e=c.status(),f=c.option("autoClose");"hidden"!==e&&"disappearing"!==e&&f&&c.hide()})});var e=function(){d.Status="shown",a.each(d.callbacks.show,function(a,b){b.call(d.$el)}),d.callbacks.show=[]};if("hidden"!==d.Status){var f=0;"disappearing"===d.Status?(d.Status="appearing",g()?(d.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+d.options.animation+"-show"),d.options.speed>0&&d.$tooltip.delay(d.options.speed),d.$tooltip.queue(e)):d.$tooltip.stop().fadeIn(e)):"shown"===d.Status&&e()}else{d.Status="appearing";var f=d.options.speed;d.bodyOverflowX=a("body").css("overflow-x"),a("body").css("overflow-x","hidden");var h="tooltipster-"+d.options.animation,i="-webkit-transition-duration: "+d.options.speed+"ms; -webkit-animation-duration: "+d.options.speed+"ms; -moz-transition-duration: "+d.options.speed+"ms; -moz-animation-duration: "+d.options.speed+"ms; -o-transition-duration: "+d.options.speed+"ms; -o-animation-duration: "+d.options.speed+"ms; -ms-transition-duration: "+d.options.speed+"ms; -ms-animation-duration: "+d.options.speed+"ms; transition-duration: "+d.options.speed+"ms; animation-duration: "+d.options.speed+"ms;",k=d.options.minWidth?"min-width:"+Math.round(d.options.minWidth)+"px;":"",l=d.options.maxWidth?"max-width:"+Math.round(d.options.maxWidth)+"px;":"",m=d.options.interactive?"pointer-events: auto;":"";if(d.$tooltip=a('<div class="tooltipster-base '+d.options.theme+'" style="'+k+" "+l+" "+m+" "+i+'"><div class="tooltipster-content"></div></div>'),g()&&d.$tooltip.addClass(h),d._content_insert(),d.$tooltip.appendTo("body"),d.reposition(),d.options.functionReady.call(d.$el,d.$el,d.$tooltip),g()?(d.$tooltip.addClass(h+"-show"),d.options.speed>0&&d.$tooltip.delay(d.options.speed),d.$tooltip.queue(e)):d.$tooltip.css("display","none").fadeIn(d.options.speed,e),d._interval_set(),a(b).on("scroll."+d.namespace+" resize."+d.namespace,function(){d.reposition()}),d.options.autoClose)if(a("body").off("."+d.namespace),"hover"==d.options.trigger){if(j&&setTimeout(function(){a("body").on("touchstart."+d.namespace,function(){d.hide()})},0),d.options.interactive){j&&d.$tooltip.on("touchstart."+d.namespace,function(a){a.stopPropagation()});var n=null;d.$elProxy.add(d.$tooltip).on("mouseleave."+d.namespace+"-autoClose",function(){clearTimeout(n),n=setTimeout(function(){d.hide()},d.options.interactiveTolerance)}).on("mouseenter."+d.namespace+"-autoClose",function(){clearTimeout(n)})}else d.$elProxy.on("mouseleave."+d.namespace+"-autoClose",function(){d.hide()});d.options.hideOnClick&&d.$elProxy.on("click."+d.namespace+"-autoClose",function(){d.hide()})}else"click"==d.options.trigger&&(setTimeout(function(){a("body").on("click."+d.namespace+" touchstart."+d.namespace,function(){d.hide()})},0),d.options.interactive&&d.$tooltip.on("click."+d.namespace+" touchstart."+d.namespace,function(a){a.stopPropagation()}))}d.options.timer>0&&(d.timerHide=setTimeout(function(){d.timerHide=null,d.hide()},d.options.timer+f))}})},_interval_set:function(){var b=this;b.checkInterval=setInterval(function(){if(0===a("body").find(b.$el).length||0===a("body").find(b.$elProxy).length||"hidden"==b.Status||0===a("body").find(b.$tooltip).length)("shown"==b.Status||"appearing"==b.Status)&&b.hide(),b._interval_cancel();else if(b.options.positionTracker){var c=b._repositionInfo(b.$elProxy),d=!1;e(c.dimension,b.elProxyPosition.dimension)&&("fixed"===b.$elProxy.css("position")?e(c.position,b.elProxyPosition.position)&&(d=!0):e(c.offset,b.elProxyPosition.offset)&&(d=!0)),d||(b.reposition(),b.options.positionTrackerCallback.call(b,b.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(a){"object"==typeof a&&null!==a&&this.options.contentCloning&&(a=a.clone(!0)),this.Content=a},_content_insert:function(){var a=this,b=this.$tooltip.find(".tooltipster-content");"string"!=typeof a.Content||a.options.contentAsHTML?b.empty().append(a.Content):b.text(a.Content)},_update:function(a){var b=this;b._content_set(a),null!==b.Content?"hidden"!==b.Status&&(b._content_insert(),b.reposition(),b.options.updateAnimation&&(g()?(b.$tooltip.css({width:"","-webkit-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+b.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=b.Status&&(b.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==b.Status&&b.$tooltip.css({"-webkit-transition":b.options.speed+"ms","-moz-transition":b.options.speed+"ms","-o-transition":b.options.speed+"ms","-ms-transition":b.options.speed+"ms",transition:b.options.speed+"ms"})},b.options.speed))},b.options.speed)):b.$tooltip.fadeTo(b.options.speed,.5,function(){"hidden"!=b.Status&&b.$tooltip.fadeTo(b.options.speed,1)}))):b.hide()},_repositionInfo:function(a){return{dimension:{height:a.outerHeight(!1),width:a.outerWidth(!1)},offset:a.offset(),position:{left:parseInt(a.css("left")),top:parseInt(a.css("top"))}}},hide:function(c){var d=this;c&&d.callbacks.hide.push(c),d.callbacks.show=[],clearTimeout(d.timerShow),d.timerShow=null,clearTimeout(d.timerHide),d.timerHide=null;var e=function(){a.each(d.callbacks.hide,function(a,b){b.call(d.$el)}),d.callbacks.hide=[]};if("shown"==d.Status||"appearing"==d.Status){d.Status="disappearing";var f=function(){d.Status="hidden","object"==typeof d.Content&&null!==d.Content&&d.Content.detach(),d.$tooltip.remove(),d.$tooltip=null,a(b).off("."+d.namespace),a("body").off("."+d.namespace).css("overflow-x",d.bodyOverflowX),a("body").off("."+d.namespace),d.$elProxy.off("."+d.namespace+"-autoClose"),d.options.functionAfter.call(d.$el,d.$el),e()};g()?(d.$tooltip.clearQueue().removeClass("tooltipster-"+d.options.animation+"-show").addClass("tooltipster-dying"),d.options.speed>0&&d.$tooltip.delay(d.options.speed),d.$tooltip.queue(f)):d.$tooltip.stop().fadeOut(d.options.speed,f)}else"hidden"==d.Status&&e();return d},show:function(a){return this._showNow(a),this},update:function(a){return this.content(a)},content:function(a){return"undefined"==typeof a?this.Content:(this._update(a),this)},reposition:function(){function c(){var c=a(b).scrollLeft();0>C-c&&(f=C-c,C=c),C+i-c>g&&(f=C-(g+c-i),C=g+c-i)}function d(c,d){h.offset.top-a(b).scrollTop()-j-F-12<0&&d.indexOf("top")>-1&&(H=c),h.offset.top+h.dimension.height+j+12+F>a(b).scrollTop()+a(b).height()&&d.indexOf("bottom")>-1&&(H=c,E=h.offset.top-j-F-12)}var e=this;if(0!==a("body").find(e.$tooltip).length){e.$tooltip.css("width",""),e.elProxyPosition=e._repositionInfo(e.$elProxy);var f=null,g=a(b).width(),h=e.elProxyPosition,i=e.$tooltip.outerWidth(!1),j=(e.$tooltip.innerWidth()+1,e.$tooltip.outerHeight(!1));if(e.$elProxy.is("area")){var k=e.$elProxy.attr("shape"),l=e.$elProxy.parent().attr("name"),m=a('img[usemap="#'+l+'"]'),n=m.offset().left,o=m.offset().top,p=void 0!==e.$elProxy.attr("coords")?e.$elProxy.attr("coords").split(","):void 0;if("circle"==k){var q=parseInt(p[0]),r=parseInt(p[1]),s=parseInt(p[2]);h.dimension.height=2*s,h.dimension.width=2*s,h.offset.top=o+r-s,h.offset.left=n+q-s}else if("rect"==k){var q=parseInt(p[0]),r=parseInt(p[1]),t=parseInt(p[2]),u=parseInt(p[3]);h.dimension.height=u-r,h.dimension.width=t-q,h.offset.top=o+r,h.offset.left=n+q}else if("poly"==k){for(var v=0,w=0,x=0,y=0,z="even",A=0;A<p.length;A++){var B=parseInt(p[A]);"even"==z?(B>x&&(x=B,0===A&&(v=x)),v>B&&(v=B),z="odd"):(B>y&&(y=B,1==A&&(w=y)),w>B&&(w=B),z="even")}h.dimension.height=y-w,h.dimension.width=x-v,h.offset.top=o+w,h.offset.left=n+v}else h.dimension.height=m.outerHeight(!1),h.dimension.width=m.outerWidth(!1),h.offset.top=o,h.offset.left=n}var C=0,D=0,E=0,F=parseInt(e.options.offsetY),G=parseInt(e.options.offsetX),H=e.options.position;if("top"==H){var I=h.offset.left+i-(h.offset.left+h.dimension.width);C=h.offset.left+G-I/2,E=h.offset.top-j-F-12,c(),d("bottom","top")}if("top-left"==H&&(C=h.offset.left+G,E=h.offset.top-j-F-12,c(),d("bottom-left","top-left")),"top-right"==H&&(C=h.offset.left+h.dimension.width+G-i,E=h.offset.top-j-F-12,c(),d("bottom-right","top-right")),"bottom"==H){var I=h.offset.left+i-(h.offset.left+h.dimension.width);C=h.offset.left-I/2+G,E=h.offset.top+h.dimension.height+F+12,c(),d("top","bottom")}if("bottom-left"==H&&(C=h.offset.left+G,E=h.offset.top+h.dimension.height+F+12,c(),d("top-left","bottom-left")),"bottom-right"==H&&(C=h.offset.left+h.dimension.width+G-i,E=h.offset.top+h.dimension.height+F+12,c(),d("top-right","bottom-right")),"left"==H){C=h.offset.left-G-i-12,D=h.offset.left+G+h.dimension.width+12;var J=h.offset.top+j-(h.offset.top+h.dimension.height);if(E=h.offset.top-J/2-F,0>C&&D+i>g){var K=2*parseFloat(e.$tooltip.css("border-width")),L=i+C-K;e.$tooltip.css("width",L+"px"),j=e.$tooltip.outerHeight(!1),C=h.offset.left-G-L-12-K,J=h.offset.top+j-(h.offset.top+h.dimension.height),E=h.offset.top-J/2-F}else 0>C&&(C=h.offset.left+G+h.dimension.width+12,f="left")}if("right"==H){C=h.offset.left+G+h.dimension.width+12,D=h.offset.left-G-i-12;var J=h.offset.top+j-(h.offset.top+h.dimension.height);if(E=h.offset.top-J/2-F,C+i>g&&0>D){var K=2*parseFloat(e.$tooltip.css("border-width")),L=g-C-K;e.$tooltip.css("width",L+"px"),j=e.$tooltip.outerHeight(!1),J=h.offset.top+j-(h.offset.top+h.dimension.height),E=h.offset.top-J/2-F}else C+i>g&&(C=h.offset.left-G-i-12,f="right")}if(e.options.arrow){var M="tooltipster-arrow-"+H;if(e.options.arrowColor.length<1)var N=e.$tooltip.css("background-color");else var N=e.options.arrowColor;if(f?"left"==f?(M="tooltipster-arrow-right",f=""):"right"==f?(M="tooltipster-arrow-left",f=""):f="left:"+Math.round(f)+"px;":f="","top"==H||"top-left"==H||"top-right"==H)var O=parseFloat(e.$tooltip.css("border-bottom-width")),P=e.$tooltip.css("border-bottom-color");else if("bottom"==H||"bottom-left"==H||"bottom-right"==H)var O=parseFloat(e.$tooltip.css("border-top-width")),P=e.$tooltip.css("border-top-color");else if("left"==H)var O=parseFloat(e.$tooltip.css("border-right-width")),P=e.$tooltip.css("border-right-color");else if("right"==H)var O=parseFloat(e.$tooltip.css("border-left-width")),P=e.$tooltip.css("border-left-color");else var O=parseFloat(e.$tooltip.css("border-bottom-width")),P=e.$tooltip.css("border-bottom-color");O>1&&O++;var Q="";if(0!==O){var R="",S="border-color: "+P+";";-1!==M.indexOf("bottom")?R="margin-top: -"+Math.round(O)+"px;":-1!==M.indexOf("top")?R="margin-bottom: -"+Math.round(O)+"px;":-1!==M.indexOf("left")?R="margin-right: -"+Math.round(O)+"px;":-1!==M.indexOf("right")&&(R="margin-left: -"+Math.round(O)+"px;"),Q='<span class="tooltipster-arrow-border" style="'+R+" "+S+';"></span>'}e.$tooltip.find(".tooltipster-arrow").remove();var T='<div class="'+M+' tooltipster-arrow" style="'+f+'">'+Q+'<span style="border-color:'+N+';"></span></div>';e.$tooltip.append(T)}e.$tooltip.css({top:Math.round(E)+"px",left:Math.round(C)+"px"})}return e},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var b=this;b.hide(),b.$el[0]!==b.$elProxy[0]&&b.$elProxy.remove(),b.$el.removeData(b.namespace).off("."+b.namespace);var c=b.$el.data("tooltipster-ns");if(1===c.length){var d=null;"previous"===b.options.restoration?d=b.$el.data("tooltipster-initialTitle"):"current"===b.options.restoration&&(d="string"==typeof b.Content?b.Content:a("<div></div>").append(b.Content).html()),d&&b.$el.attr("title",d),b.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else c=a.grep(c,function(a){return a!==b.namespace}),b.$el.data("tooltipster-ns",c);return b},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(a,b){return"undefined"==typeof b?this.options[a]:(this.options[a]=b,this)},status:function(){return this.Status}},a.fn[h]=function(){var b=arguments;if(0===this.length){if("string"==typeof b[0]){var c=!0;switch(b[0]){case"setDefaults":a.extend(i,b[1]);break;default:c=!1}return c?!0:this}return this}if("string"==typeof b[0]){var e="#*$~&";return this.each(function(){var c=a(this).data("tooltipster-ns"),d=c?a(this).data(c[0]):null;if(!d)throw new Error("You called Tooltipster's \""+b[0]+'" method on an uninitialized element');if("function"!=typeof d[b[0]])throw new Error('Unknown method .tooltipster("'+b[0]+'")');var f=d[b[0]](b[1],b[2]);return f!==d?(e=f,!1):void 0}),"#*$~&"!==e?e:this}var f=[],g=b[0]&&"undefined"!=typeof b[0].multiple,h=g&&b[0].multiple||!g&&i.multiple,j=b[0]&&"undefined"!=typeof b[0].debug,k=j&&b[0].debug||!j&&i.debug;return this.each(function(){var c=!1,e=a(this).data("tooltipster-ns"),g=null;e?h?c=!0:k&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):c=!0,c&&(g=new d(this,b[0]),e||(e=[]),e.push(g.namespace),a(this).data("tooltipster-ns",e),a(this).data(g.namespace,g)),f.push(g)}),h?f:this};var j=!!("ontouchstart"in b),k=!1;a("body").one("mousemove",function(){k=!0})}(jQuery,window,document),function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,d=a.ui.mouse.prototype,e=d._mouseInit,f=d._mouseDestroy;d._touchStart=function(a){var d=this;!c&&d._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,d._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},d._touchMove=function(a){c&&(this._touchMoved=!0,b(a,"mousemove"))},d._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1)},d._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),e.call(b)},d._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),f.call(b)}}}(jQuery),function(a){"function"==typeof define&&define.amd?define(a):a()}(function(){"use strict";function a(b){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(b)}function b(a,b,d,e){function f(a){var b=a.length;if(2>b||b>256||b&b-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return b}var g=0,e=void 0===e?{}:e,h=void 0===e.loop?null:e.loop,i=void 0===e.palette?null:e.palette;if(0>=b||0>=d||b>65535||d>65535)throw"Width/Height invalid.";a[g++]=71,a[g++]=73,a[g++]=70,a[g++]=56,a[g++]=57,a[g++]=97;var j=0,k=0;if(null!==i){for(var l=f(i);l>>=1;)++j;if(l=1<<j,--j,void 0!==e.background){if(k=e.background,k>=l)throw"Background index out of range.";if(0===k)throw"Background index explicitly passed as 0."}}if(a[g++]=255&b,a[g++]=b>>8&255,a[g++]=255&d,a[g++]=d>>8&255,a[g++]=(null!==i?128:0)|j,a[g++]=k,a[g++]=0,null!==i)for(var m=0,n=i.length;n>m;++m){var o=i[m];a[g++]=o>>16&255,a[g++]=o>>8&255,a[g++]=255&o}if(null!==h){if(0>h||h>65535)throw"Loop count invalid.";a[g++]=33,a[g++]=255,a[g++]=11,a[g++]=78,a[g++]=69,a[g++]=84,a[g++]=83,a[g++]=67,a[g++]=65,a[g++]=80,a[g++]=69,a[g++]=50,a[g++]=46,a[g++]=48,a[g++]=3,a[g++]=1,a[g++]=255&h,a[g++]=h>>8&255,a[g++]=0}var p=!1;this.addFrame=function(b,d,e,h,j,k){if(p===!0&&(--g,p=!1),k=void 0===k?{}:k,0>b||0>d||b>65535||d>65535)throw"x/y invalid.";if(0>=e||0>=h||e>65535||h>65535)throw"Width/Height invalid.";if(j.length<e*h)throw"Not enough pixels for the frame size.";var l=!0,m=k.palette;if((void 0===m||null===m)&&(l=!1,m=i),void 0===m||null===m)throw"Must supply either a local or global palette.";for(var n=f(m),o=0;n>>=1;)++o;n=1<<o;var q=void 0===k.delay?0:k.delay,r=void 0===k.disposal?0:k.disposal;if(0>r||r>3)throw"Disposal out of range.";var s=!1,t=0;if(void 0!==k.transparent&&null!==k.transparent&&(s=!0,t=k.transparent,0>t||t>=n))throw"Transparent color index.";if((0!==r||s||0!==q)&&(a[g++]=33,a[g++]=249,a[g++]=4,a[g++]=r<<2|(s===!0?1:0),a[g++]=255&q,a[g++]=q>>8&255,a[g++]=t,a[g++]=0),a[g++]=44,a[g++]=255&b,a[g++]=b>>8&255,a[g++]=255&d,a[g++]=d>>8&255,a[g++]=255&e,a[g++]=e>>8&255,a[g++]=255&h,a[g++]=h>>8&255,a[g++]=l===!0?128|o-1:0,l===!0)for(var u=0,v=m.length;v>u;++u){var w=m[u];a[g++]=w>>16&255,a[g++]=w>>8&255,a[g++]=255&w}g=c(a,g,2>o?2:o,j)},this.end=function(){return p===!1&&(a[g++]=59,p=!0),g}}function c(a,b,c,d){function e(c){for(;m>=c;)a[b++]=255&n,n>>=8,m-=8,b===g+256&&(a[g]=255,g=b++)}function f(a){n|=a<<m,m+=l,e(8)}a[b++]=c;var g=b++,h=1<<c,i=h-1,j=h+1,k=j+1,l=c+1,m=0,n=0,o=d[0]&i,p={};f(h);for(var q=1,r=d.length;r>q;++q){var s=d[q]&i,t=o<<8|s,u=p[t];if(void 0===u){for(n|=o<<m,m+=l;m>=8;)a[b++]=255&n,n>>=8,m-=8,b===g+256&&(a[g]=255,g=b++);4096===k?(f(h),k=j+1,l=c+1,p={}):(k>=1<<l&&++l,p[t]=k++),o=s}else o=u}return f(o),f(j),e(1),g+1===b?a[g]=0:(a[g]=b-g-1,a[b++]=0),b}function d(a){var b=0;if(71!==a[b++]||73!==a[b++]||70!==a[b++]||56!==a[b++]||56!==(a[b++]+1&253)||97!==a[b++])throw"Invalid GIF 87a/89a header.";{var c=a[b++]|a[b++]<<8,d=a[b++]|a[b++]<<8,f=a[b++],g=f>>7,h=7&f,i=1<<h+1;a[b++]}a[b++];var j=null;g&&(j=b,b+=3*i);var k=!0,l=[],m=0,n=null,o=0,p=null;for(this.width=c,this.height=d;k&&b<a.length;)switch(a[b++]){case 33:switch(a[b++]){case 255:if(11!==a[b]||78==a[b+1]&&69==a[b+2]&&84==a[b+3]&&83==a[b+4]&&67==a[b+5]&&65==a[b+6]&&80==a[b+7]&&69==a[b+8]&&50==a[b+9]&&46==a[b+10]&&48==a[b+11]&&3==a[b+12]&&1==a[b+13]&&0==a[b+16])b+=14,p=a[b++]|a[b++]<<8,b++;else for(b+=12;;){var q=a[b++];if(0===q)break;b+=q}break;case 249:if(4!==a[b++]||0!==a[b+4])throw"Invalid graphics extension block.";var r=a[b++];m=a[b++]|a[b++]<<8,n=a[b++],0===(1&r)&&(n=null),o=r>>2&7,b++;break;case 254:for(;;){var q=a[b++];if(0===q)break;b+=q}break;default:throw"Unknown graphic control label: 0x"+a[b-1].toString(16)}break;case 44:var s=a[b++]|a[b++]<<8,t=a[b++]|a[b++]<<8,u=a[b++]|a[b++]<<8,v=a[b++]|a[b++]<<8,w=a[b++],x=w>>7,y=w>>6&1,z=7&w,A=1<<z+1,B=j,C=!1;if(x){var C=!0;B=b,b+=3*A}var D=b;for(b++;;){var q=a[b++];if(0===q)break;b+=q}l.push({x:s,y:t,width:u,height:v,has_local_palette:C,palette_offset:B,data_offset:D,data_length:b-D,transparent_index:n,interlaced:!!y,delay:m,disposal:o});break;case 59:k=!1;break;default:throw"Unknown gif block: 0x"+a[b-1].toString(16)}this.numFrames=function(){return l.length},this.loopCount=function(){return p},this.frameInfo=function(a){if(0>a||a>=l.length)throw"Frame index out of range.";return l[a]},this.decodeAndBlitFrameBGRA=function(b,d){var f=this.frameInfo(b),g=f.width*f.height,h=new Uint8Array(g);e(a,f.data_offset,h,g);var i=f.palette_offset,j=f.transparent_index;null===j&&(j=256);var k=f.width,l=c-k,m=k,n=4*(f.y*c+f.x),o=4*((f.y+f.height)*c+f.x),p=n,q=4*l;f.interlaced===!0&&(q+=4*(k+l)*7);for(var r=8,s=0,t=h.length;t>s;++s){var u=h[s];if(0===m&&(p+=q,m=k,p>=o&&(q=l+4*(k+l)*(r-1),p=n+(k+l)*(r<<1),r>>=1)),u===j)p+=4;else{var v=a[i+3*u],w=a[i+3*u+1],x=a[i+3*u+2];d[p++]=x,d[p++]=w,d[p++]=v,d[p++]=255}--m}},this.decodeAndBlitFrameRGBA=function(b,d){var f=this.frameInfo(b),g=f.width*f.height,h=new Uint8Array(g);e(a,f.data_offset,h,g);var i=f.palette_offset,j=f.transparent_index;null===j&&(j=256);var k=f.width,l=c-k,m=k,n=4*(f.y*c+f.x),o=4*((f.y+f.height)*c+f.x),p=n,q=4*l;f.interlaced===!0&&(q+=4*(k+l)*7);for(var r=8,s=0,t=h.length;t>s;++s){var u=h[s];if(0===m&&(p+=q,m=k,p>=o&&(q=l+4*(k+l)*(r-1),p=n+(k+l)*(r<<1),r>>=1)),u===j)p+=4;else{var v=a[i+3*u],w=a[i+3*u+1],x=a[i+3*u+2];d[p++]=v,d[p++]=w,d[p++]=x,d[p++]=255}--m}}}function e(a,b,c,d){for(var e=a[b++],f=1<<e,g=f+1,h=g+1,i=e+1,j=(1<<i)-1,k=0,l=0,m=0,n=a[b++],o=new Int32Array(4096),p=null;;){for(;16>k&&0!==n;)l|=a[b++]<<k,k+=8,1===n?n=a[b++]:--n;if(i>k)break;var q=l&j;if(l>>=i,k-=i,q!==f){if(q===g)break;for(var r=h>q?q:p,s=0,t=r;t>f;)t=o[t]>>8,++s;var u=t,v=m+s+(r!==q?1:0);if(v>d)return void console.log("Warning, gif stream longer than expected.");c[m++]=u,m+=s;var w=m;for(r!==q&&(c[m++]=u),t=r;s--;)t=o[t],c[--w]=255&t,t>>=8;null!==p&&4096>h&&(o[h++]=p<<8|u,h>=j+1&&12>i&&(++i,j=j<<1|1)),p=q}else h=g+1,i=e+1,j=(1<<i)-1,p=null}return m!==d&&console.log("Warning, gif stream shorter than expected."),c}function f(a){function b(a){for(var b=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],c=0;64>c;c++){var d=y((b[c]*a+50)/100);1>d?d=1:d>255&&(d=255),z[P[c]]=d}for(var e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],f=0;64>f;f++){var g=y((e[f]*a+50)/100);1>g?g=1:g>255&&(g=255),A[P[f]]=g}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],i=0,j=0;8>j;j++)for(var k=0;8>k;k++)B[i]=1/(z[P[i]]*h[j]*h[k]*8),C[i]=1/(A[P[i]]*h[j]*h[k]*8),i++}function c(a,b){for(var c=0,d=0,e=new Array,f=1;16>=f;f++){for(var g=1;g<=a[f];g++)e[b[d]]=[],e[b[d]][0]=c,e[b[d]][1]=f,d++,c++;c*=2}return e}function d(){t=c(Q,R),u=c(U,V),v=c(S,T),w=c(W,X)}function e(){for(var a=1,b=2,c=1;15>=c;c++){for(var d=a;b>d;d++)E[32767+d]=c,D[32767+d]=[],D[32767+d][1]=c,D[32767+d][0]=d;for(var e=-(b-1);-a>=e;e++)E[32767+e]=c,D[32767+e]=[],D[32767+e][1]=c,D[32767+e][0]=b-1+e;a<<=1,b<<=1}}function f(){for(var a=0;256>a;a++)O[a]=19595*a,O[a+256>>0]=38470*a,O[a+512>>0]=7471*a+32768,O[a+768>>0]=-11059*a,O[a+1024>>0]=-21709*a,O[a+1280>>0]=32768*a+8421375,O[a+1536>>0]=-27439*a,O[a+1792>>0]=-5329*a}function g(a){for(var b=a[0],c=a[1]-1;c>=0;)b&1<<c&&(I|=1<<J),c--,J--,0>J&&(255==I?(h(255),h(0)):h(I),J=7,I=0)}function h(a){H.push(a)}function i(a){h(a>>8&255),h(255&a)}function j(a,b){var c,d,e,f,g,h,i,j,k,l=0,m=8,n=64;for(k=0;m>k;++k){c=a[l],d=a[l+1],e=a[l+2],f=a[l+3],g=a[l+4],h=a[l+5],i=a[l+6],j=a[l+7];var o=c+j,p=c-j,q=d+i,r=d-i,s=e+h,t=e-h,u=f+g,v=f-g,w=o+u,x=o-u,y=q+s,z=q-s;a[l]=w+y,a[l+4]=w-y;var A=.707106781*(z+x);a[l+2]=x+A,a[l+6]=x-A,w=v+t,y=t+r,z=r+p;var B=.382683433*(w-z),C=.5411961*w+B,D=1.306562965*z+B,E=.707106781*y,G=p+E,H=p-E;a[l+5]=H+C,a[l+3]=H-C,a[l+1]=G+D,a[l+7]=G-D,l+=8}for(l=0,k=0;m>k;++k){c=a[l],d=a[l+8],e=a[l+16],f=a[l+24],g=a[l+32],h=a[l+40],i=a[l+48],j=a[l+56];var I=c+j,J=c-j,K=d+i,L=d-i,M=e+h,N=e-h,O=f+g,P=f-g,Q=I+O,R=I-O,S=K+M,T=K-M;a[l]=Q+S,a[l+32]=Q-S;var U=.707106781*(T+R);a[l+16]=R+U,a[l+48]=R-U,Q=P+N,S=N+L,T=L+J;var V=.382683433*(Q-T),W=.5411961*Q+V,X=1.306562965*T+V,Y=.707106781*S,Z=J+Y,$=J-Y;a[l+40]=$+W,a[l+24]=$-W,a[l+8]=Z+X,a[l+56]=Z-X,l++}var _;for(k=0;n>k;++k)_=a[k]*b[k],F[k]=_>0?_+.5|0:_-.5|0;return F}function k(){i(65504),i(16),h(74),h(70),h(73),h(70),h(0),h(1),h(1),h(0),i(1),i(1),h(0),h(0)}function l(a,b){i(65472),i(17),h(8),i(b),i(a),h(3),h(1),h(17),h(0),h(2),h(17),h(1),h(3),h(17),h(1)}function m(){i(65499),i(132),h(0);for(var a=0;64>a;a++)h(z[a]);h(1);for(var b=0;64>b;b++)h(A[b])}function n(){i(65476),i(418),h(0);for(var a=0;16>a;a++)h(Q[a+1]);for(var b=0;11>=b;b++)h(R[b]);h(16);for(var c=0;16>c;c++)h(S[c+1]);for(var d=0;161>=d;d++)h(T[d]);h(1);for(var e=0;16>e;e++)h(U[e+1]);for(var f=0;11>=f;f++)h(V[f]);h(17);for(var g=0;16>g;g++)h(W[g+1]);for(var j=0;161>=j;j++)h(X[j])}function o(){i(65498),i(12),h(3),h(1),h(0),h(2),h(17),h(3),h(17),h(0),h(63),h(0)}function p(a,b,c,d,e){for(var f,h=e[0],i=e[240],k=16,l=63,m=64,n=j(a,b),o=0;m>o;++o)G[P[o]]=n[o];var p=G[0]-c;c=G[0],0==p?g(d[0]):(f=32767+p,g(d[E[f]]),g(D[f]));for(var q=63;q>0&&0==G[q];q--);if(0==q)return g(h),c;for(var r,s=1;q>=s;){for(var t=s;0==G[s]&&q>=s;++s);var u=s-t;if(u>=k){r=u>>4;for(var v=1;r>=v;++v)g(i);u=15&u}f=32767+G[s],g(e[(u<<4)+E[f]]),g(D[f]),s++}return q!=l&&g(h),c}function q(){for(var a=String.fromCharCode,b=0;256>b;b++)N[b]=a(b)}function r(a){if(0>=a&&(a=1),a>100&&(a=100),x!=a){var c=0;c=Math.floor(50>a?5e3/a:200-2*a),b(c),x=a}}function s(){var b=(new Date).getTime();a||(a=50),q(),d(),e(),f(),r(a);(new Date).getTime()-b}var t,u,v,w,x,y=Math.floor,z=new Array(64),A=new Array(64),B=new Array(64),C=new Array(64),D=new Array(65535),E=new Array(65535),F=new Array(64),G=new Array(64),H=[],I=0,J=7,K=new Array(64),L=new Array(64),M=new Array(64),N=new Array(256),O=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(a,b){(new Date).getTime();b&&r(b),H=new Array,I=0,J=7,i(65496),k(),m(),l(a.width,a.height),n(),o();var c=0,d=0,e=0;I=0,J=7,this.encode.displayName="_encode_";for(var f,h,j,q,s,x,y,z,A,D=a.data,E=a.width,F=a.height,G=4*E,N=0;F>N;){for(f=0;G>f;){for(s=G*N+f,x=s,y=-1,z=0,A=0;64>A;A++)z=A>>3,y=4*(7&A),x=s+z*G+y,N+z>=F&&(x-=G*(N+1+z-F)),f+y>=G&&(x-=f+y-G+4),h=D[x++],j=D[x++],q=D[x++],K[A]=(O[h]+O[j+256>>0]+O[q+512>>0]>>16)-128,L[A]=(O[h+768>>0]+O[j+1024>>0]+O[q+1280>>0]>>16)-128,M[A]=(O[h+1280>>0]+O[j+1536>>0]+O[q+1792>>0]>>16)-128;c=p(K,B,c,t,v),d=p(L,C,d,u,w),e=p(M,C,e,u,w),f+=32}N+=8}if(J>=0){var P=[];P[1]=J+1,P[0]=(1<<J+1)-1,g(P)}return i(65497),new Uint8Array(H)},s()}function g(a,b){if(this.pos=0,this.buffer=a,this.datav=new DataView(a.buffer),this.is_with_alpha=!!b,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}!function(b){if("object"!==a(b.console)){b.console={};for(var c,d,e=b.console,f=function(){},g=["memory"],h="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");c=g.pop();)e[c]||(e[c]={});for(;d=h.pop();)e[d]||(e[d]=f)}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";"undefined"==typeof b.btoa&&(b.btoa=function(a){var b,c,d,e,f,g,h,j,k=0,l=0,m="",n=[];if(!a)return a;do b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),j=b<<16|c<<8|d,e=j>>18&63,f=j>>12&63,g=j>>6&63,h=63&j,n[l++]=i.charAt(e)+i.charAt(f)+i.charAt(g)+i.charAt(h);while(k<a.length);m=n.join("");var o=a.length%3;return(o?m.slice(0,o-3):m)+"===".slice(o||3)}),"undefined"==typeof b.atob&&(b.atob=function(a){var b,c,d,e,f,g,h,j,k=0,l=0,m="",n=[];if(!a)return a;a+="";do e=i.indexOf(a.charAt(k++)),f=i.indexOf(a.charAt(k++)),g=i.indexOf(a.charAt(k++)),h=i.indexOf(a.charAt(k++)),j=e<<18|f<<12|g<<6|h,b=j>>16&255,c=j>>8&255,d=255&j,n[l++]=64==g?String.fromCharCode(b):64==h?String.fromCharCode(b,c):String.fromCharCode(b,c,d);while(k<a.length);return m=n.join("")}),Array.prototype.map||(Array.prototype.map=function(a){if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var b=Object(this),c=b.length>>>0,d=new Array(c),e=arguments.length>1?arguments[1]:void 0,f=0;c>f;f++)f in b&&(d[f]=a.call(e,b[f],f,b));return d}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var c=Object(this),d=c.length>>>0,e=0;d>e;e++)e in c&&a.call(b,c[e],e,c)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(null==this)throw new TypeError('"this" is null or not defined');var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var d=arguments[1],e=0;c>e;){var f=b[e];if(a.call(d,f,e,b))return f;e++}return void 0},configurable:!0,writable:!0}),Object.keys||(Object.keys=function(){var b=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=d.length;return function(f){if("object"!==a(f)&&("function"!=typeof f||null===f))throw new TypeError;var g,h,i=[];for(g in f)b.call(f,g)&&i.push(g);if(c)for(h=0;e>h;h++)b.call(f,d[h])&&i.push(d[h]);return i}}()),"function"!=typeof Object.assign&&(Object.assign=function(a){if(null==a)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var b=1;b<arguments.length;b++){var c=arguments[b];if(null!=c)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());

var h=function(b){function c(c){if("object"!==a(c))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var d={};this.subscribe=function(a,b,c){if(c=c||!1,"string"!=typeof a||"function"!=typeof b||"boolean"!=typeof c)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");d.hasOwnProperty(a)||(d[a]={});var e=Math.random().toString(35);return d[a][e]=[b,!!c],e},this.unsubscribe=function(a){for(var b in d)if(d[b][a])return delete d[b][a],0===Object.keys(d[b]).length&&delete d[b],!0;return!1},this.publish=function(a){if(d.hasOwnProperty(a)){var e=Array.prototype.slice.call(arguments,1),f=[];for(var g in d[a]){var h=d[a][g];try{h[0].apply(c,e)}catch(i){b.console&&console.error("jsPDF PubSub Error",i.message,i)}h[1]&&f.push(g)}f.length&&f.forEach(this.unsubscribe)}},this.getTopics=function(){return d}}function d(e,f,g,h){var j={},k=[],l=1;"object"===a(e)&&(j=e,e=j.orientation,f=j.unit||f,g=j.format||g,h=j.compress||j.compressPdf||h,k=j.filters||(h===!0?["FlateEncode"]:k),l="number"==typeof j.userUnit?Math.abs(j.userUnit):1),f=f||"mm",e=(""+(e||"P")).toLowerCase();var m=j.putOnlyUsedFonts||!0,n={},o={internal:{},__private__:{}};o.__private__.PubSub=c;var p="1.3",q=o.__private__.getPdfVersion=function(){return p},r=(o.__private__.setPdfVersion=function(a){p=a},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),s=(o.__private__.getPageFormats=function(){return r},o.__private__.getPageFormat=function(a){return r[a]});"string"==typeof g&&(g=s(g)),g=g||s("a4");var t=o.f2=o.__private__.f2=function(a){if(isNaN(a))throw new Error("Invalid argument passed to jsPDF.f2");return a.toFixed(2)},u=o.__private__.f3=function(a){if(isNaN(a))throw new Error("Invalid argument passed to jsPDF.f3");return a.toFixed(3)},v="00000000000000000000000000000000",w=o.__private__.getFileId=function(){return v},x=o.__private__.setFileId=function(a){return a=a||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v=a};o.setFileId=function(a){return x(a),this},o.getFileId=function(){return w()};var y,z=o.__private__.convertDateToPDFDate=function(a){var b="",c=a.getTimezoneOffset(),d=0>c?"+":"-",e=Math.floor(Math.abs(c/60)),f=Math.abs(c%60),g=[d,K(e),"'",K(f),"'"].join("");return b=["D:",a.getFullYear(),K(a.getMonth()+1),K(a.getDate()),K(a.getHours()),K(a.getMinutes()),K(a.getSeconds()),g].join("")},A=o.__private__.convertPDFDateToDate=function(a){var b=parseInt(a.substr(2,4),10),c=parseInt(a.substr(6,2),10)-1,d=parseInt(a.substr(8,2),10),e=parseInt(a.substr(10,2),10),f=parseInt(a.substr(12,2),10),g=parseInt(a.substr(14,2),10),h=(parseInt(a.substr(16,2),10),parseInt(a.substr(20,2),10),new Date(b,c,d,e,f,g,0));return h},B=o.__private__.setCreationDate=function(b){var c,d=/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/;if("undefined"==typeof b&&(b=new Date),"object"===a(b)&&"[object Date]"===Object.prototype.toString.call(b))c=z(b);else{if(!d.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");c=b}return y=c},C=o.__private__.getCreationDate=function(a){var b=y;return"jsDate"===a&&(b=A(y)),b};o.setCreationDate=function(a){return B(a),this},o.getCreationDate=function(a){return C(a)};var D,E,F,G,H,I,J,K=o.__private__.padd2=function(a){return("0"+parseInt(a)).slice(-2)},L=!1,M=[],N=[],O=0,P=(o.__private__.setCustomOutputDestination=function(a){E=a},o.__private__.resetCustomOutputDestination=function(){E=void 0},o.__private__.out=function(a){var b;return a="string"==typeof a?a:a.toString(),b="undefined"==typeof E?L?M[D]:N:E,b.push(a),L||(O+=a.length+1),b}),Q=o.__private__.write=function(a){return P(1===arguments.length?a.toString():Array.prototype.join.call(arguments," "))},R=o.__private__.getArrayBuffer=function(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c);b--;)d[b]=a.charCodeAt(b);return c},S=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],T=(o.__private__.getStandardFonts=function(){return S},j.fontSize||16),U=(o.__private__.setFontSize=o.setFontSize=function(a){return T=a,this},o.__private__.getFontSize=o.getFontSize=function(){return T}),V=j.R2L||!1,W=(o.__private__.setR2L=o.setR2L=function(a){return V=a,this},o.__private__.getR2L=o.getR2L=function(){return V},o.__private__.setZoomMode=function(a){var b=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^\d*\.?\d*\%$/.test(a))F=a;else if(isNaN(a)){if(-1===b.indexOf(a))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+a+'" is not recognized.');F=a}else F=parseInt(a,10)}),X=(o.__private__.getZoomMode=function(){return F},o.__private__.setPageMode=function(a){var b=[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"];if(-1==b.indexOf(a))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+a+'" is not recognized.');G=a}),Y=(o.__private__.getPageMode=function(){return G},o.__private__.setLayoutMode=function(a){var b=[void 0,null,"continuous","single","twoleft","tworight","two"];if(-1==b.indexOf(a))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+a+'" is not recognized.');H=a}),Z=(o.__private__.getLayoutMode=function(){return H},o.__private__.setDisplayMode=o.setDisplayMode=function(a,b,c){return W(a),Y(b),X(c),this},{title:"",subject:"",author:"",keywords:"",creator:""}),$=(o.__private__.getDocumentProperty=function(a){if(-1===Object.keys(Z).indexOf(a))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Z[a]},o.__private__.getDocumentProperties=function(){return Z},o.__private__.setDocumentProperties=o.setProperties=o.setDocumentProperties=function(a){for(var b in Z)Z.hasOwnProperty(b)&&a[b]&&(Z[b]=a[b]);return this},o.__private__.setDocumentProperty=function(a,b){if(-1===Object.keys(Z).indexOf(a))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Z[a]=b},0),_=[],aa={},ba={},ca=0,da=[],ea=[],fa=new c(o),ga=j.hotfixes||[],ha=o.__private__.newObject=function(){var a=ia();return ja(a,!0),a},ia=o.__private__.newObjectDeferred=function(){return $++,_[$]=function(){return O},$},ja=function(a,b){return b="boolean"==typeof b?b:!1,_[a]=O,b&&P(a+" 0 obj"),a},ka=o.__private__.newAdditionalObject=function(){var a=ia(),b={objId:a,content:""};return ea.push(b),b},la=ia(),ma=ia(),na=o.__private__.decodeColorString=function(a){var b=a.split(" ");if(2===b.length&&("g"===b[1]||"G"===b[1])){var c=parseFloat(b[0]);b=[c,c,c,"r"]}for(var d="#",e=0;3>e;e++)d+=("0"+Math.floor(255*parseFloat(b[e])).toString(16)).slice(-2);return d},oa=o.__private__.encodeColorString=function(b){var c;"string"==typeof b&&(b={ch1:b});var d=b.ch1,e=b.ch2,f=b.ch3,g=b.ch4,h=(b.precision,"draw"===b.pdfColorType?["G","RG","K"]:["g","rg","k"]);if("string"==typeof d&&"#"!==d.charAt(0)){var i=new RGBColor(d);if(i.ok)d=i.toHex();else if(!/^\d*\.?\d*$/.test(d))throw new Error('Invalid color "'+d+'" passed to jsPDF.encodeColorString.')}if("string"==typeof d&&/^#[0-9A-Fa-f]{3}$/.test(d)&&(d="#"+d[1]+d[1]+d[2]+d[2]+d[3]+d[3]),"string"==typeof d&&/^#[0-9A-Fa-f]{6}$/.test(d)){var j=parseInt(d.substr(1),16);d=j>>16&255,e=j>>8&255,f=255&j}if("undefined"==typeof e||"undefined"==typeof g&&d===e&&e===f)if("string"==typeof d)c=d+" "+h[0];else switch(b.precision){case 2:c=t(d/255)+" "+h[0];break;case 3:default:c=u(d/255)+" "+h[0]}else if("undefined"==typeof g||"object"===a(g)){if(g&&!isNaN(g.a)&&0===g.a)return c=["1.000","1.000","1.000",h[1]].join(" ");if("string"==typeof d)c=[d,e,f,h[1]].join(" ");else switch(b.precision){case 2:c=[t(d/255),t(e/255),t(f/255),h[1]].join(" ");break;default:case 3:c=[u(d/255),u(e/255),u(f/255),h[1]].join(" ")}}else if("string"==typeof d)c=[d,e,f,g,h[2]].join(" ");else switch(b.precision){case 2:c=[t(d/255),t(e/255),t(f/255),t(g/255),h[2]].join(" ");break;case 3:default:c=[u(d/255),u(e/255),u(f/255),u(g/255),h[2]].join(" ")}return c},pa=o.__private__.getFilters=function(){return k},qa=o.__private__.putStream=function(a){a=a||{};var b=a.data||"",c=a.filters||pa(),e=a.alreadyAppliedFilters||[],f=a.addLength1||!1,g=b.length,h={};c===!0&&(c=["FlateEncode"]);var i=a.additionalKeyValues||[];h="undefined"!=typeof d.API.processDataByFilters?d.API.processDataByFilters(b,c):{data:b,reverseChain:[]};var j=h.reverseChain+(Array.isArray(e)?e.join(" "):e.toString());0!==h.data.length&&(i.push({key:"Length",value:h.data.length}),f===!0&&i.push({key:"Length1",value:g})),0!=j.length&&i.push(j.split("/").length-1===1?{key:"Filter",value:j}:{key:"Filter",value:"["+j+"]"}),P("<<");for(var k=0;k<i.length;k++)P("/"+i[k].key+" "+i[k].value);P(">>"),0!==h.data.length&&(P("stream"),P(h.data),P("endstream"))},ra=o.__private__.putPage=function(a){var b=(a.mediaBox,a.number),c=a.data,d=a.objId,e=a.contentsObjId;ja(d,!0);da[D].mediaBox.topRightX-da[D].mediaBox.bottomLeftX,da[D].mediaBox.topRightY-da[D].mediaBox.bottomLeftY;P("<</Type /Page"),P("/Parent "+a.rootDictionaryObjId+" 0 R"),P("/Resources "+a.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(t(a.mediaBox.bottomLeftX))+" "+parseFloat(t(a.mediaBox.bottomLeftY))+" "+t(a.mediaBox.topRightX)+" "+t(a.mediaBox.topRightY)+"]"),null!==a.cropBox&&P("/CropBox ["+t(a.cropBox.bottomLeftX)+" "+t(a.cropBox.bottomLeftY)+" "+t(a.cropBox.topRightX)+" "+t(a.cropBox.topRightY)+"]"),null!==a.bleedBox&&P("/BleedBox ["+t(a.bleedBox.bottomLeftX)+" "+t(a.bleedBox.bottomLeftY)+" "+t(a.bleedBox.topRightX)+" "+t(a.bleedBox.topRightY)+"]"),null!==a.trimBox&&P("/TrimBox ["+t(a.trimBox.bottomLeftX)+" "+t(a.trimBox.bottomLeftY)+" "+t(a.trimBox.topRightX)+" "+t(a.trimBox.topRightY)+"]"),null!==a.artBox&&P("/ArtBox ["+t(a.artBox.bottomLeftX)+" "+t(a.artBox.bottomLeftY)+" "+t(a.artBox.topRightX)+" "+t(a.artBox.topRightY)+"]"),"number"==typeof a.userUnit&&1!==a.userUnit&&P("/UserUnit "+a.userUnit),fa.publish("putPage",{objId:d,pageContext:da[b],pageNumber:b,page:c}),P("/Contents "+e+" 0 R"),P(">>"),P("endobj");var f=c.join("\n");return ja(e,!0),qa({data:f,filters:pa()}),P("endobj"),d},sa=o.__private__.putPages=function(){var a,b,c=[];for(a=1;ca>=a;a++)da[a].objId=ia(),da[a].contentsObjId=ia();for(a=1;ca>=a;a++)c.push(ra({number:a,data:M[a],objId:da[a].objId,contentsObjId:da[a].contentsObjId,mediaBox:da[a].mediaBox,cropBox:da[a].cropBox,bleedBox:da[a].bleedBox,trimBox:da[a].trimBox,artBox:da[a].artBox,userUnit:da[a].userUnit,rootDictionaryObjId:la,resourceDictionaryObjId:ma}));ja(la,!0),P("<</Type /Pages");var d="/Kids [";for(b=0;ca>b;b++)d+=c[b]+" 0 R ";P(d+"]"),P("/Count "+ca),P(">>"),P("endobj"),fa.publish("postPutPages")},ta=function(a){fa.publish("putFont",{font:a,out:P,newObject:ha,putStream:qa}),a.isAlreadyPutted!==!0&&(a.objectNumber=ha(),P("<<"),P("/Type /Font"),P("/BaseFont /"+a.postScriptName),P("/Subtype /Type1"),"string"==typeof a.encoding&&P("/Encoding /"+a.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},ua=function(){for(var a in aa)aa.hasOwnProperty(a)&&(m===!1||m===!0&&n.hasOwnProperty(a))&&ta(aa[a])},va=function(){P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),P("/Font <<");for(var a in aa)aa.hasOwnProperty(a)&&(m===!1||m===!0&&n.hasOwnProperty(a))&&P("/"+a+" "+aa[a].objectNumber+" 0 R");P(">>"),P("/XObject <<"),fa.publish("putXobjectDict"),P(">>")},wa=function(){ua(),fa.publish("putResources"),ja(ma,!0),P("<<"),va(),P(">>"),P("endobj"),fa.publish("postPutResources")},xa=function(){fa.publish("putAdditionalObjects");for(var a=0;a<ea.length;a++){var b=ea[a];ja(b.objId,!0),P(b.content),P("endobj")}fa.publish("postPutAdditionalObjects")},ya=function(a,b,c){ba.hasOwnProperty(b)||(ba[b]={}),ba[b][c]=a},za=function(a,b,c,d,e){e=e||!1;var f="F"+(Object.keys(aa).length+1).toString(10),g={id:f,postScriptName:a,fontName:b,fontStyle:c,encoding:d,isStandardFont:e,metadata:{}},h=this;return fa.publish("addFont",{font:g,instance:h}),void 0!==f&&(aa[f]=g,ya(f,b,c)),f},Aa=function(a){for(var b=0,c=S.length;c>b;b++){var d=za(a[b][0],a[b][1],a[b][2],S[b][3],!0);n[d]=!0;var e=a[b][0].split("-");ya(d,e[0],e[1]||"")}fa.publish("addFonts",{fonts:aa,dictionary:ba})},Ba=function(a){return a.foo=function(){try{return a.apply(this,arguments)}catch(c){var d=c.stack||"";~d.indexOf(" at ")&&(d=d.split(" at ")[1]);var e="Error in function "+d.split("\n")[0].split("<")[0]+": "+c.message;if(!b.console)throw new Error(e);b.console.error(e,c),b.alert&&alert(e)}},a.foo.bar=a,a.foo},Ca=function(a,b){var c,d,e,f,g,h,i,j,k;if(b=b||{},e=b.sourceEncoding||"Unicode",g=b.outputEncoding,(b.autoencode||g)&&aa[I].metadata&&aa[I].metadata[e]&&aa[I].metadata[e].encoding&&(f=aa[I].metadata[e].encoding,!g&&aa[I].encoding&&(g=aa[I].encoding),!g&&f.codePages&&(g=f.codePages[0]),"string"==typeof g&&(g=f[g]),g)){for(i=!1,h=[],c=0,d=a.length;d>c;c++)j=g[a.charCodeAt(c)],h.push(j?String.fromCharCode(j):a[c]),h[c].charCodeAt(0)>>8&&(i=!0);a=h.join("")}for(c=a.length;void 0===i&&0!==c;)a.charCodeAt(c-1)>>8&&(i=!0),c--;if(!i)return a;for(h=b.noBOM?[]:[254,255],c=0,d=a.length;d>c;c++){if(j=a.charCodeAt(c),k=j>>8,k>>8)throw new Error("Character at position "+c+" of string '"+a+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");h.push(k),h.push(j-(k<<8))}return String.fromCharCode.apply(void 0,h)},Da=o.__private__.pdfEscape=o.pdfEscape=function(a,b){return Ca(a,b).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ea=o.__private__.beginPage=function(a,b){var c,d="string"==typeof b&&b.toLowerCase();if("string"==typeof a&&(c=s(a.toLowerCase()))&&(a=c[0],b=c[1]),Array.isArray(a)&&(b=a[1],a=a[0]),(isNaN(a)||isNaN(b))&&(a=g[0],b=g[1]),d){switch(d.substr(0,1)){case"l":b>a&&(d="s");break;case"p":a>b&&(d="s")}"s"===d&&(c=a,a=b,b=c)}(a>14400||b>14400)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),b=Math.min(14400,b)),g=[a,b],L=!0,M[++ca]=[],da[ca]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(a),topRightY:Number(b)}},Ha(ca)},Fa=function(){Ea.apply(this,arguments),$a(Za),P(gb),0!==mb&&P(mb+" J"),0!==ob&&P(ob+" j"),fa.publish("addPage",{pageNumber:ca})},Ga=function(a){a>0&&ca>=a&&(M.splice(a,1),ca--,D>ca&&(D=ca),this.setPage(D))},Ha=function(a){a>0&&ca>=a&&(D=a)},Ia=o.__private__.getNumberOfPages=o.getNumberOfPages=function(){return M.length-1},Ja=function(a,b,c){var d,e=void 0;return c=c||{},a=void 0!==a?a:aa[I].fontName,b=void 0!==b?b:aa[I].fontStyle,d=a.toLowerCase(),void 0!==ba[d]&&void 0!==ba[d][b]?e=ba[d][b]:void 0!==ba[a]&&void 0!==ba[a][b]?e=ba[a][b]:c.disableWarning===!1&&console.warn("Unable to look up font label for font '"+a+"', '"+b+"'. Refer to getFontList() for available fonts."),e||c.noFallback||(e=ba.times[b],null==e&&(e=ba.times.normal)),e},Ka=o.__private__.putInfo=function(){ha(),P("<<"),P("/Producer (jsPDF "+d.version+")");for(var a in Z)Z.hasOwnProperty(a)&&Z[a]&&P("/"+a.substr(0,1).toUpperCase()+a.substr(1)+" ("+Da(Z[a])+")");P("/CreationDate ("+y+")"),P(">>"),P("endobj")},La=o.__private__.putCatalog=function(a){a=a||{};var b=a.rootDictionaryObjId||la;switch(ha(),P("<<"),P("/Type /Catalog"),P("/Pages "+b+" 0 R"),F||(F="fullwidth"),F){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var c=""+F;"%"===c.substr(c.length-1)&&(F=parseInt(F)/100),"number"==typeof F&&P("/OpenAction [3 0 R /XYZ null null "+t(F)+"]")}switch(H||(H="continuous"),H){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}G&&P("/PageMode /"+G),fa.publish("putCatalog"),P(">>"),P("endobj")},Ma=o.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+($+1)),P("/Root "+$+" 0 R"),P("/Info "+($-1)+" 0 R"),P("/ID [ <"+v+"> <"+v+"> ]"),P(">>")},Na=o.__private__.putHeader=function(){P("%PDF-"+p),P("%")},Oa=o.__private__.putXRef=function(){var a=1,b="0000000000";for(P("xref"),P("0 "+($+1)),P("0000000000 65535 f "),a=1;$>=a;a++){var c=_[a];P("function"==typeof c?(b+_[a]()).slice(-10)+" 00000 n ":"undefined"!=typeof _[a]?(b+_[a]).slice(-10)+" 00000 n ":"0000000000 00000 n ")}},Pa=o.__private__.buildDocument=function(){L=!1,$=0,O=0,N=[],_=[],ea=[],la=ia(),ma=ia(),fa.publish("buildDocument"),Na(),sa(),xa(),wa(),Ka(),La();var a=O;return Oa(),Ma(),P("startxref"),P(""+a),P("%%EOF"),L=!0,N.join("\n")},Qa=o.__private__.getBlob=function(a){return new Blob([R(a)],{type:"application/pdf"})},Ra=o.output=o.__private__.output=Ba(function(a,c){c=c||{};var d=Pa();switch("string"==typeof c?c={filename:c}:c.filename=c.filename||"generated.pdf",a){case void 0:return d;case"save":o.save(c.filename);break;case"arraybuffer":return R(d);case"blob":return Qa(d);case"bloburi":case"bloburl":if("undefined"!=typeof b.URL&&"function"==typeof b.URL.createObjectURL)return b.URL&&b.URL.createObjectURL(Qa(d))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+c.filename+";base64,"+btoa(d);case"dataurlnewwindow":var e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',f=b.open();if(null!==f&&f.document.write(e),f||"undefined"==typeof safari)return f;case"datauri":case"dataurl":return b.document.location.href="data:application/pdf;filename="+c.filename+";base64,"+btoa(d);default:return null}}),Sa=function(a){return Array.isArray(ga)===!0&&ga.indexOf(a)>-1};switch(f){case"pt":J=1;break;case"mm":J=72/25.4;break;case"cm":J=72/2.54;break;case"in":J=72;break;case"px":J=1==Sa("px_scaling")?.75:96/72;break;case"pc":J=12;break;case"em":J=12;break;case"ex":J=6;break;default:throw new Error("Invalid unit: "+f)}B(),x();var Ta=o.__private__.getPageInfo=function(a){if(isNaN(a)||a%1!==0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");var b=da[a].objId;return{objId:b,pageNumber:a,pageContext:da[a]}},Ua=o.__private__.getPageInfoByObjId=function(a){for(var b in da)if(da[b].objId===a)break;if(isNaN(a)||a%1!==0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return Ta(b)},Va=o.__private__.getCurrentPageInfo=function(){return{objId:da[D].objId,pageNumber:D,pageContext:da[D]}};o.addPage=function(){return Fa.apply(this,arguments),this},o.setPage=function(){return Ha.apply(this,arguments),this},o.insertPage=function(a){return this.addPage(),this.movePage(D,a),this},o.movePage=function(a,b){if(a>b){for(var c=M[a],d=da[a],e=a;e>b;e--)M[e]=M[e-1],da[e]=da[e-1];M[b]=c,da[b]=d,this.setPage(b)}else if(b>a){for(var c=M[a],d=da[a],e=a;b>e;e++)M[e]=M[e+1],da[e]=da[e+1];M[b]=c,da[b]=d,this.setPage(b)}return this},o.deletePage=function(){return Ga.apply(this,arguments),this};{var Wa=(o.__private__.text=o.text=function(b,c,d,e){function f(a){return a=a.split("	").join(Array(e.TabLen||9).join(" ")),Da(a,j)}function g(a){for(var b,c=a.concat(),d=[],e=c.length;e--;)b=c.shift(),d.push("string"==typeof b?b:Array.isArray(a)&&1===b.length?b[0]:[b[0],b[1],b[2]]);return d}function h(a,b){var c;if("string"==typeof a)c=b(a)[0];else if(Array.isArray(a)){for(var d,e,f=a.concat(),g=[],h=f.length;h--;)d=f.shift(),"string"==typeof d?g.push(b(d)[0]):Array.isArray(d)&&"string"===d[0]&&(e=b(d[0],d[1],d[2]),g.push([e[0],e[1],e[2]]));c=g}return c}var i;"number"!=typeof b||"number"!=typeof c||"string"!=typeof d&&!Array.isArray(d)||(i=d,d=c,c=b,b=i);var j=arguments[3],k=arguments[4],l=arguments[5];if(("object"!==a(j)||null===j)&&("string"==typeof k&&(l=k,k=null),"string"==typeof j&&(l=j,j=null),"number"==typeof j&&(k=j,j=null),e={flags:j,angle:k,align:l}),j=j||{},j.noBOM=j.noBOM||!0,j.autoencode=j.autoencode||!0,isNaN(c)||isNaN(d)||"undefined"==typeof b||null===b)throw new Error("Invalid arguments passed to jsPDF.text");if(0===b.length)return q;var m="",o=!1,p="number"==typeof e.lineHeightFactor?e.lineHeightFactor:Ya,q=e.scope||this,r=!1,s=!0;if("string"==typeof b)r=!0;else if(Array.isArray(b)){for(var v,w=b.concat(),x=[],y=w.length;y--;)v=w.shift(),("string"!=typeof v||Array.isArray(v)&&"string"!=typeof v[0])&&(s=!1);r=s}if(r===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');var z=aa[I].encoding;("WinAnsiEncoding"===z||"StandardEncoding"===z)&&(b=h(b,function(a,b,c){return[f(a),b,c]})),"string"==typeof b&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var A=T/q.internal.scaleFactor,B=A*(Ya-1);switch(e.baseline){case"bottom":d-=B;break;case"top":d+=A-B;break;case"hanging":d+=A-2*B;break;case"middle":d+=A/2-B;break;case"ideographic":case"alphabetic":}var C=e.maxWidth||0;C>0&&("string"==typeof b?b=q.splitTextToSize(b,C):"[object Array]"===Object.prototype.toString.call(b)&&(b=q.splitTextToSize(b.join(" "),C)));var D={text:b,x:c,y:d,options:e,mutex:{pdfEscape:Da,activeFontKey:I,fonts:aa,activeFontSize:T}};fa.publish("preProcessText",D),b=D.text,e=D.options;var k=e.angle,E=q.internal.scaleFactor,F=[];if(k){k*=Math.PI/180;var G=Math.cos(k),H=Math.sin(k);F=[t(G),t(H),t(-1*H),t(G)]}var J=e.charSpace;"undefined"!=typeof J&&(m+=u(J*E)+" Tc\n");var K=(e.lang,-1),L="undefined"!=typeof e.renderingMode?e.renderingMode:e.stroke,M=q.internal.getCurrentPageInfo().pageContext;switch(L){case 0:case!1:case"fill":K=0;break;case 1:case!0:case"stroke":K=1;break;case 2:case"fillThenStroke":K=2;break;case 3:case"invisible":K=3;break;case 4:case"fillAndAddForClipping":K=4;break;case 5:case"strokeAndAddPathForClipping":K=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":K=6;break;case 7:case"addToPathForClipping":K=7}var N="undefined"!=typeof M.usedRenderingMode?M.usedRenderingMode:-1;-1!==K?m+=K+" Tr\n":-1!==N&&(m+="0 Tr\n"),-1!==K&&(M.usedRenderingMode=K);var O,l=e.align||"left",Q=T*p,R=q.internal.pageSize.getWidth(),E=q.internal.scaleFactor,S=aa[I],J=e.charSpace||kb,C=e.maxWidth||0,j={},U=[];if("[object Array]"===Object.prototype.toString.call(b)){var W,X,O,x=g(b);"left"!==l&&(O=x.map(function(a){return q.getStringUnitWidth(a,{font:S,charSpace:J,fontSize:T})*T/E}));var Y,Z,X=Math.max.apply(Math,O),$=0;if("right"===l){c-=O[0],b=[];for(var _=0,y=x.length;y>_;_++)Y=X-O[_],0===_?(Z=cb(c),W=db(d)):(Z=($-O[_])*E,W=-Q),b.push([x[_],Z,W]),$=O[_]}else if("center"===l){c-=O[0]/2,b=[];for(var _=0,y=x.length;y>_;_++)Y=(X-O[_])/2,0===_?(Z=cb(c),W=db(d)):(Z=($-O[_])/2*E,W=-Q),b.push([x[_],Z,W]),$=O[_]}else if("left"===l){b=[];for(var _=0,y=x.length;y>_;_++)W=0===_?db(d):-Q,Z=0===_?cb(c):0,b.push(x[_])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');b=[];for(var C=0!==C?C:R,_=0,y=x.length;y>_;_++)W=0===_?db(d):-Q,Z=0===_?cb(c):0,y-1>_&&U.push(((C-O[_])/(x[_].split(" ").length-1)*E).toFixed(2)),b.push([x[_],Z,W])}}var ba="boolean"==typeof e.R2L?e.R2L:V;ba===!0&&(b=h(b,function(a,b,c){return[a.split("").reverse().join(""),b,c]}));var D={text:b,x:c,y:d,options:e,mutex:{pdfEscape:Da,activeFontKey:I,fonts:aa,activeFontSize:T}};fa.publish("postProcessText",D),b=D.text,o=D.mutex.isHex;var x=g(b);b=[];for(var ca,da,ea,ga=0,y=x.length,ha="",_=0;y>_;_++)ha="",Array.isArray(x[_])?(ca=parseFloat(x[_][1]),da=parseFloat(x[_][2]),ea=(o?"<":"(")+x[_][0]+(o?">":")"),ga=1):(ca=cb(c),da=db(d),ea=(o?"<":"(")+x[_]+(o?">":")")),void 0!==U&&void 0!==U[_]&&(ha=U[_]+" Tw\n"),b.push(0!==F.length&&0===_?ha+F.join(" ")+" "+ca.toFixed(2)+" "+da.toFixed(2)+" Tm\n"+ea:1===ga||0===ga&&0===_?ha+ca.toFixed(2)+" "+da.toFixed(2)+" Td\n"+ea:ha+ea);b=b.join(0===ga?" Tj\nT* ":" Tj\n"),b+=" Tj\n";var ia="BT\n/"+I+" "+T+" Tf\n"+(T*p).toFixed(2)+" TL\n"+ib+"\n";return ia+=m,ia+=b,ia+="ET",P(ia),n[I]=!0,q},o.__private__.lstext=o.lstext=function(a,b,c,d){return console.warn("jsPDF.lstext is deprecated"),this.text(a,b,c,{charSpace:d})},o.__private__.clip=o.clip=function(a){P("evenodd"===a?"W*":"W"),P("n")},o.__private__.clip_fixed=o.clip_fixed=function(a){console.log("clip_fixed is deprecated"),o.clip(a)},o.__private__.isValidStyle=function(a){var b=[void 0,null,"S","F","DF","FD","f","f*","B","B*"],c=!1;return-1!==b.indexOf(a)&&(c=!0),c}),Xa=o.__private__.getStyle=function(a){var b="S";return"F"===a?b="f":"FD"===a||"DF"===a?b="B":("f"===a||"f*"===a||"B"===a||"B*"===a)&&(b=a),b};o.__private__.line=o.line=function(a,b,c,d){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[c-a,d-b]],a,b)},o.__private__.lines=o.lines=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r;if("number"==typeof a&&(r=c,c=b,b=a,a=r),d=d||[1,1],f=f||!1,isNaN(b)||isNaN(c)||!Array.isArray(a)||!Array.isArray(d)||!Wa(e)||"boolean"!=typeof f)throw new Error("Invalid arguments passed to jsPDF.lines");for(P(u(cb(b))+" "+u(db(c))+" m "),g=d[0],h=d[1],j=a.length,p=b,q=c,i=0;j>i;i++)k=a[i],2===k.length?(p=k[0]*g+p,q=k[1]*h+q,P(u(cb(p))+" "+u(db(q))+" l")):(l=k[0]*g+p,m=k[1]*h+q,n=k[2]*g+p,o=k[3]*h+q,p=k[4]*g+p,q=k[5]*h+q,P(u(cb(l))+" "+u(db(m))+" "+u(cb(n))+" "+u(db(o))+" "+u(cb(p))+" "+u(db(q))+" c"));return f&&P(" h"),null!==e&&P(Xa(e)),this},o.__private__.rect=o.rect=function(a,b,c,d,e){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)||!Wa(e))throw new Error("Invalid arguments passed to jsPDF.rect");return P([t(cb(a)),t(db(b)),t(c*J),t(-d*J),"re"].join(" ")),null!==e&&P(Xa(e)),this},o.__private__.triangle=o.triangle=function(a,b,c,d,e,f,g){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)||isNaN(e)||isNaN(f)||!Wa(g))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[c-a,d-b],[e-c,f-d],[a-e,b-f]],a,b,[1,1],g,!0),this},o.__private__.roundedRect=o.roundedRect=function(a,b,c,d,e,f,g){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)||isNaN(e)||isNaN(f)||!Wa(g))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var h=4/3*(Math.SQRT2-1);return this.lines([[c-2*e,0],[e*h,0,e,f-f*h,e,f],[0,d-2*f],[0,f*h,-(e*h),f,-e,f],[-c+2*e,0],[-(e*h),0,-e,-(f*h),-e,-f],[0,-d+2*f],[0,-(f*h),e*h,-f,e,-f]],a+e,b,[1,1],g),this},o.__private__.ellipse=o.ellipse=function(a,b,c,d,e){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)||!Wa(e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var f=4/3*(Math.SQRT2-1)*c,g=4/3*(Math.SQRT2-1)*d;return P([t(cb(a+c)),t(db(b)),"m",t(cb(a+c)),t(db(b-g)),t(cb(a+f)),t(db(b-d)),t(cb(a)),t(db(b-d)),"c"].join(" ")),P([t(cb(a-f)),t(db(b-d)),t(cb(a-c)),t(db(b-g)),t(cb(a-c)),t(db(b)),"c"].join(" ")),P([t(cb(a-c)),t(db(b+g)),t(cb(a-f)),t(db(b+d)),t(cb(a)),t(db(b+d)),"c"].join(" ")),P([t(cb(a+f)),t(db(b+d)),t(cb(a+c)),t(db(b+g)),t(cb(a+c)),t(db(b)),"c"].join(" ")),null!==e&&P(Xa(e)),this},o.__private__.circle=o.circle=function(a,b,c,d){if(isNaN(a)||isNaN(b)||isNaN(c)||!Wa(d))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(a,b,c,c,d)}}o.setFont=function(a,b){return I=Ja(a,b,{disableWarning:!1}),this},o.setFontStyle=o.setFontType=function(a){return I=Ja(void 0,a),this};o.__private__.getFontList=o.getFontList=function(){var a,b,c,d={};for(a in ba)if(ba.hasOwnProperty(a)){d[a]=c=[];for(b in ba[a])ba[a].hasOwnProperty(b)&&c.push(b)}return d};o.addFont=function(a,b,c,d){d=d||"Identity-H",za.call(this,a,b,c,d)};var Ya,Ya,Za=j.lineWidth||.200025,$a=o.__private__.setLineWidth=o.setLineWidth=function(a){return P((a*J).toFixed(2)+" w"),this},_a=(o.__private__.setLineDash=d.API.setLineDash=function(a,b){if(a=a||[],b=b||0,isNaN(b)||!Array.isArray(a))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return a=a.map(function(a){return(a*J).toFixed(3)}).join(" "),b=parseFloat((b*J).toFixed(3)),P("["+a+"] "+b+" d"),this},o.__private__.getLineHeight=o.getLineHeight=function(){return T*Ya}),_a=o.__private__.getLineHeight=o.getLineHeight=function(){return T*Ya},ab=o.__private__.setLineHeightFactor=o.setLineHeightFactor=function(a){return a=a||1.15,"number"==typeof a&&(Ya=a),this},bb=o.__private__.getLineHeightFactor=o.getLineHeightFactor=function(){return Ya};ab(j.lineHeight);var cb=o.__private__.getHorizontalCoordinate=function(a){return a*J},db=o.__private__.getVerticalCoordinate=function(a){return da[D].mediaBox.topRightY-da[D].mediaBox.bottomLeftY-a*J},eb=o.__private__.getHorizontalCoordinateString=function(a){return t(a*J)},fb=o.__private__.getVerticalCoordinateString=function(a){return t(da[D].mediaBox.topRightY-da[D].mediaBox.bottomLeftY-a*J)},gb=j.strokeColor||"0 G",hb=(o.__private__.getStrokeColor=o.getDrawColor=function(){return na(gb)},o.__private__.setStrokeColor=o.setDrawColor=function(a,b,c,d){var e={ch1:a,ch2:b,ch3:c,ch4:d,pdfColorType:"draw",precision:2};return gb=oa(e),P(gb),this},j.fillColor||"0 g"),ib=(o.__private__.getFillColor=o.getFillColor=function(){return na(hb)},o.__private__.setFillColor=o.setFillColor=function(a,b,c,d){var e={ch1:a,ch2:b,ch3:c,ch4:d,pdfColorType:"fill",precision:2};return hb=oa(e),P(hb),this},j.textColor||"0 g"),jb=o.__private__.getTextColor=o.getTextColor=function(){return na(ib)},kb=(o.__private__.setTextColor=o.setTextColor=function(a,b,c,d){var e={ch1:a,ch2:b,ch3:c,ch4:d,pdfColorType:"text",precision:3};return ib=oa(e),this},j.charSpace||0),lb=o.__private__.getCharSpace=o.getCharSpace=function(){return kb},mb=(o.__private__.setCharSpace=o.setCharSpace=function(a){if(isNaN(a))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return kb=a,this},0);o.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};{var nb,ob=(o.__private__.setLineCap=o.setLineCap=function(a){var b=o.CapJoinStyles[a];if(void 0===b)throw new Error("Line cap style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mb=b,P(b+" J"),this},0);o.__private__.setLineJoin=o.setLineJoin=function(a){var b=o.CapJoinStyles[a];if(void 0===b)throw new Error("Line join style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ob=b,P(b+" j"),this},o.__private__.setMiterLimit=o.setMiterLimit=function(a){if(a=a||0,isNaN(a))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return nb=parseFloat(t(a*J)),P(nb+" M"),this}}o.save=function(a,c){return a=a||"generated.pdf",c=c||{},c.returnPromise=c.returnPromise||!1,
c.returnPromise!==!1?new Promise(function(c,d){try{var e=i(Qa(Pa()),a);"function"==typeof i.unload&&b.setTimeout&&setTimeout(i.unload,911),c(e)}catch(f){d(f.message)}}):(i(Qa(Pa()),a),void("function"==typeof i.unload&&b.setTimeout&&setTimeout(i.unload,911)))};for(var pb in d.API)d.API.hasOwnProperty(pb)&&("events"===pb&&d.API.events.length?!function(a,b){var c,d,e;for(e=b.length-1;-1!==e;e--)c=b[e][0],d=b[e][1],a.subscribe.apply(a,[c].concat("function"==typeof d?[d]:d))}(fa,d.API.events):o[pb]=d.API[pb]);return o.internal={pdfEscape:Da,getStyle:Xa,getFont:function(){return aa[Ja.apply(o,arguments)]},getFontSize:U,getCharSpace:lb,getTextColor:jb,getLineHeight:_a,getLineHeightFactor:bb,write:Q,getHorizontalCoordinate:cb,getVerticalCoordinate:db,getCoordinateString:eb,getVerticalCoordinateString:fb,collections:{},newObject:ha,newAdditionalObject:ka,newObjectDeferred:ia,newObjectDeferredBegin:ja,getFilters:pa,putStream:qa,events:fa,scaleFactor:J,pageSize:{getWidth:function(){return(da[D].mediaBox.topRightX-da[D].mediaBox.bottomLeftX)/J},setWidth:function(a){da[D].mediaBox.topRightX=a*J+da[D].mediaBox.bottomLeftX},getHeight:function(){return(da[D].mediaBox.topRightY-da[D].mediaBox.bottomLeftY)/J},setHeight:function(a){da[D].mediaBox.topRightY=a*J+da[D].mediaBox.bottomLeftY}},output:Ra,getNumberOfPages:Ia,pages:M,out:P,f2:t,f3:u,getPageInfo:Ta,getPageInfoByObjId:Ua,getCurrentPageInfo:Va,getPDFVersion:q,hasHotfix:Sa},Object.defineProperty(o.internal.pageSize,"width",{get:function(){return(da[D].mediaBox.topRightX-da[D].mediaBox.bottomLeftX)/J},set:function(a){da[D].mediaBox.topRightX=a*J+da[D].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(o.internal.pageSize,"height",{get:function(){return(da[D].mediaBox.topRightY-da[D].mediaBox.bottomLeftY)/J},set:function(a){da[D].mediaBox.topRightY=a*J+da[D].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),Aa(S),I="F1",Fa(g,e),fa.publish("initialized"),o}return d.API={events:[]},d.version="1.5.3","function"==typeof define&&define.amd?define("jsPDF",function(){return d}):"undefined"!=typeof module&&module.exports?(module.exports=d,module.exports.jsPDF=d):b.jsPDF=d,d}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());window.tmp=h,function(b,c){function d(a,b,c){c||(c=1);for(var d,e=[];d=b.exec(a);)e.push(d[c]);return e}var e,f=1,g=function(a){return a.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},h=function(a){return a.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},i=function(a){if(isNaN(a))throw new Error("Invalid argument passed to jsPDF.f2");return a.toFixed(2)},j=function(a){if(isNaN(a))throw new Error("Invalid argument passed to jsPDF.f2");return a.toFixed(5)};b.__acroform__={};var k=function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a},l=function(a){return a*f},m=function(a){return a/f},n=function(a){var b=new L,c=Z.internal.getHeight(a)||0,d=Z.internal.getWidth(a)||0;return b.BBox=[0,0,Number(i(d)),Number(i(c))],b},o=b.__acroform__.setBit=function(a,b){if(a=a||0,b=b||0,isNaN(a)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");var c=1<<b;return a|=c},p=b.__acroform__.clearBit=function(a,b){if(a=a||0,b=b||0,isNaN(a)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");var c=1<<b;return a&=~c},q=b.__acroform__.getBit=function(a,b){if(isNaN(a)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0===(a&1<<b)?0:1},r=b.__acroform__.getBitForPdf=function(a,b){if(isNaN(a)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return q(a,b-1)},s=b.__acroform__.setBitForPdf=function(a,b){if(isNaN(a)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return o(a,b-1)},t=b.__acroform__.clearBitForPdf=function(a,b){if(isNaN(a)||isNaN(b))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return p(a,b-1)},u=b.__acroform__.calculateCoordinates=function(a){var b=this.internal.getHorizontalCoordinate,c=this.internal.getVerticalCoordinate,d=a[0],e=a[1],f=a[2],g=a[3],h={};return h.lowerLeft_X=b(d)||0,h.lowerLeft_Y=c(e+g)||0,h.upperRight_X=b(d+f)||0,h.upperRight_Y=c(e)||0,[Number(i(h.lowerLeft_X)),Number(i(h.lowerLeft_Y)),Number(i(h.upperRight_X)),Number(i(h.upperRight_Y))]},v=function(a){if(a.appearanceStreamContent)return a.appearanceStreamContent;if(a.V||a.DV){var b=[],c=a.V||a.DV,d=w(a,c),f=e.internal.getFont(a.fontName,a.fontStyle).id;b.push("/Tx BMC"),b.push("q"),b.push("BT"),b.push(e.__private__.encodeColorString(a.color)),b.push("/"+f+" "+i(d.fontSize)+" Tf"),b.push("1 0 0 1 0 0 Tm"),b.push(d.text),b.push("ET"),b.push("Q"),b.push("EMC");var g=new n(a);return g.stream=b.join("\n"),g}},w=function(a,b){var c=a.maxFontSize||12,d=(a.fontName,{text:"",fontSize:""});b="("==b.substr(0,1)?b.substr(1):b,b=")"==b.substr(b.length-1)?b.substr(0,b.length-1):b;var f=b.split(" "),h=(e.__private__.encodeColorString(a.color),c),j=2,k=2,l=Z.internal.getHeight(a)||0;l=0>l?-l:l;var m=Z.internal.getWidth(a)||0;m=0>m?-m:m;var n=function(b,c,d){if(b+1<f.length){var e=c+" "+f[b+1],g=x(e,a,d).width,h=m-2*k;return h>=g}return!1};h++;a:for(;;){var b="";h--;var o=x("3",a,h).height,p=a.multiline?l-h:(l-o)/2;p+=j;var q=-k,r=p,s=0,t=0,u=0;if(0>=h){h=12,b="(...) Tj\n",b+="% Width of Text: "+x(b,a,h).width+", FieldWidth:"+m+"\n";break}u=x(f[0]+" ",a,h).width;var v="",w=0;for(var y in f)if(f.hasOwnProperty(y)){v+=f[y]+" ",v=" "==v.substr(v.length-1)?v.substr(0,v.length-1):v;var z=parseInt(y);u=x(v+" ",a,h).width;var A=n(z,v,h),B=y>=f.length-1;if(A&&!B){v+=" ";continue}if(A||B){if(B)t=z;else if(a.multiline&&(o+j)*(w+2)+j>l)continue a}else{if(!a.multiline)continue a;if((o+j)*(w+2)+j>l)continue a;t=z}for(var C="",D=s;t>=D;D++)C+=f[D]+" ";switch(C=" "==C.substr(C.length-1)?C.substr(0,C.length-1):C,u=x(C,a,h).width,a.textAlign){case"right":q=m-u-k;break;case"center":q=(m-u)/2;break;case"left":default:q=k}b+=i(q)+" "+i(r)+" Td\n",b+="("+g(C)+") Tj\n",b+=-i(q)+" 0 Td\n",r=-(h+j),u=0,s=t+1,w++,v=""}else;break}return d.text=b,d.fontSize=h,d},x=function(a,b,c){var d=e.internal.getFont(b.fontName,b.fontStyle),f=e.getStringUnitWidth(a,{font:d,fontSize:parseFloat(c),charSpace:0})*parseFloat(c),g=e.getStringUnitWidth("3",{font:d,fontSize:parseFloat(c),charSpace:0})*parseFloat(c)*1.5;return{height:g,width:f}},y={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},z=function(){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];c.objId=void 0,c.hasAnnotation&&B.call(e,c)}},A=function(a){e.internal.acroformPlugin.printedOut&&(e.internal.acroformPlugin.printedOut=!1,e.internal.acroformPlugin.acroFormDictionaryRoot=null),e.internal.acroformPlugin.acroFormDictionaryRoot||G.call(e),e.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(a)},B=function(a){var b={type:"reference",object:a},c=function(a){return a.type===b.type&&a.object===b.object};void 0===e.internal.getPageInfo(a.page).pageContext.annotations.find(c)&&e.internal.getPageInfo(a.page).pageContext.annotations.push(b)},C=function(){if("undefined"==typeof e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},D=function(){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0},E=function(b){var c=!b;b||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream());var b=b||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids;for(var d in b)if(b.hasOwnProperty(d)){var f=b[d],g=[],h=f.Rect;if(f.Rect&&(f.Rect=u.call(this,f.Rect)),e.internal.newObjectDeferredBegin(f.objId,!0),f.DA=Z.createDefaultAppearanceStream(f),"object"===a(f)&&"function"==typeof f.getKeyValueListForStream&&(g=f.getKeyValueListForStream()),f.Rect=h,f.hasAppearanceStream&&!f.appearanceStreamContent){var i=v.call(this,f);g.push({key:"AP",value:"<</N "+i+">>"}),e.internal.acroformPlugin.xForms.push(i)}if(f.appearanceStreamContent){var j="";for(var k in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(k)){var l=f.appearanceStreamContent[k];if(j+="/"+k+" ",j+="<<",Object.keys(l).length>=1||Array.isArray(l)){for(var d in l)if(l.hasOwnProperty(d)){var m=l[d];"function"==typeof m&&(m=m.call(this,f)),j+="/"+d+" "+m+" ",e.internal.acroformPlugin.xForms.indexOf(m)>=0||e.internal.acroformPlugin.xForms.push(m)}}else{var m=l;"function"==typeof m&&(m=m.call(this,f)),j+="/"+d+" "+m,e.internal.acroformPlugin.xForms.indexOf(m)>=0||e.internal.acroformPlugin.xForms.push(m)}j+=">>"}g.push({key:"AP",value:"<<\n"+j+">>"})}e.internal.putStream({additionalKeyValues:g}),e.internal.out("endobj")}c&&F.call(this,e.internal.acroformPlugin.xForms)},F=function(b){for(var c in b)if(b.hasOwnProperty(c)){var d=c,f=b[c];e.internal.newObjectDeferredBegin(f&&f.objId,!0),"object"===a(f)&&"function"==typeof f.putStream&&f.putStream(),delete b[d]}},G=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||this.internal.acroformPlugin.isInitialized===!1)){if(e=this,N.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(y)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");f=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new M,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",D),e.internal.events.subscribe("buildDocument",z),e.internal.events.subscribe("putCatalog",C),e.internal.events.subscribe("postPutPages",E),e.internal.acroformPlugin.isInitialized=!0}},H=b.__acroform__.arrayToPdfArray=function(b){if(Array.isArray(b)){for(var c="[",d=0;d<b.length;d++)switch(0!==d&&(c+=" "),a(b[d])){case"boolean":case"number":case"object":c+=b[d].toString();break;case"string":c+="/"!==b[d].substr(0,1)?"("+g(b[d].toString())+")":b[d].toString()}return c+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},I=function(a){var b=[];return"string"==typeof a&&(b=d(a,/\((.*?)\)/g)),b},J=function(a){return a=a||"",a.toString(),a="("+g(a)+")"},K=function(){var a;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(a||(a=e.internal.newObjectDeferred()),!a)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return a},set:function(b){a=b}})};K.prototype.toString=function(){return this.objId+" 0 R"},K.prototype.putStream=function(){var a=this.getKeyValueListForStream();e.internal.putStream({data:this.stream,additionalKeyValues:a}),e.internal.out("endobj")},K.prototype.getKeyValueListForStream=function(){var a=function(a){var b=[],c=Object.getOwnPropertyNames(a).filter(function(a){return"content"!=a&&"appearanceStreamContent"!=a&&"_"!=a.substring(0,1)});for(var d in c)if(Object.getOwnPropertyDescriptor(a,c[d]).configurable===!1){var e=c[d],f=a[e];f&&(Array.isArray(f)?b.push({key:e,value:H(f)}):f instanceof K?b.push({key:e,value:f.objId+" 0 R"}):"function"!=typeof f&&b.push({key:e,value:f}))}return b};return a(this)};var L=function(){K.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var a=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return a},set:function(b){a=b}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0});var b;Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){b=a.trim()},get:function(){return b?b:null}})};k(L,K);var M=function(){K.call(this);var a=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return a.length>0?a:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return a}});var b;Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){return b?"("+b+")":void 0},set:function(a){b=a}})};k(M,K);var N=function _(){K.call(this);var a=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return a},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');a=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(a,3))},set:function(b){this.F=Boolean(b)===!0?s(a,3):t(a,3)}});var b=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return b},set:function(a){if(isNaN(a))throw new Error('Invalid value "'+a+'" for attribute Ff supplied.');b=a}});var c=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){return 0!==c.length?c:void 0},set:function(a){c="undefined"!=typeof a?a:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!c||isNaN(c[0])?0:m(c[0])},set:function(a){c[0]=l(a)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!c||isNaN(c[1])?0:m(c[1])},set:function(a){c[1]=l(a)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!c||isNaN(c[2])?0:m(c[2])},set:function(a){c[2]=l(a)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!c||isNaN(c[3])?0:m(c[3])},set:function(a){c[3]=l(a)}});var d="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return d},set:function(a){switch(a){case"/Btn":case"/Tx":case"/Ch":case"/Sig":d=a;break;default:throw new Error('Invalid value "'+a+'" for attribute FT supplied.')}}});var e=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!e||e.length<1){if(this instanceof V)return;e="FieldObject"+_.FieldNum++}return"("+g(e)+")"},set:function(a){e=a.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return e},set:function(a){e=a}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(a){f=a}});var i="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return i},set:function(a){i=a}});var j=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m(j)},set:function(a){j=l(a)}});var k=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m(k)},set:function(a){k=l(a)}});var n="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return n},set:function(a){n=a}});var o="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){return!o||this instanceof V||this instanceof X?void 0:J(o)},set:function(a){a=a.toString(),o=a}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){return p?this instanceof S==!1?J(p):p:void 0},set:function(a){a=a.toString(),p=this instanceof S==!1?h("("===a.substr(0,1)?a.substr(1,a.length-2):a):a}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof S==!0?h(p.substr(1,p.length-1)):p},set:function(a){a=a.toString(),p=this instanceof S==!0?"/"+a:a}});var q=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){return q?this instanceof S==!1?J(q):q:void 0},set:function(a){a=a.toString(),q=this instanceof S==!1?h("("===a.substr(0,1)?a.substr(1,a.length-2):a):a}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof S==!0?h(q.substr(1,q.length-1)):q},set:function(a){a=a.toString(),q=this instanceof S==!0?"/"+a:a}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var u=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return u},set:function(a){a=Boolean(a),u=a}});var v;Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return v?v:void 0},set:function(a){v=a}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,1))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,1):t(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,2))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,2):t(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,3))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,3):t(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){return null!==w?w:void 0},set:function(a){if(-1===[0,1,2].indexOf(a))throw new Error('Invalid value "'+a+'" for attribute Q supplied.');w=a}}),Object.defineProperty(this,"textAlign",{get:function(){var a="left";switch(w){case 0:default:a="left";break;case 1:a="center";break;case 2:a="right"}return a},configurable:!0,enumerable:!0,set:function(a){switch(a){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};k(N,K);var O=function(){N.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var a=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var b=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return H(b)},set:function(a){b=I(a)}}),this.getOptions=function(){return b},this.setOptions=function(a){b=a,this.sort&&b.sort()},this.addOption=function(a){a=a||"",a=a.toString(),b.push(a),this.sort&&b.sort()},this.removeOption=function(a,c){for(c=c||!1,a=a||"",a=a.toString();-1!==b.indexOf(a)&&(b.splice(b.indexOf(a),1),c!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,18))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,18):t(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,19))},set:function(a){this.combo===!0&&(this.Ff=Boolean(a)===!0?s(this.Ff,19):t(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,20))},set:function(a){Boolean(a)===!0?(this.Ff=s(this.Ff,20),b.sort()):this.Ff=t(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,22))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,22):t(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,23))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,23):t(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,27))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,27):t(this.Ff,27)}}),this.hasAppearanceStream=!1};k(O,N);var P=function(){O.call(this),this.fontName="helvetica",this.combo=!1};k(P,O);var Q=function(){P.call(this),this.combo=!0};k(Q,P);var R=function(){Q.call(this),this.edit=!0};k(R,Q);var S=function(){N.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,15))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,15):t(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,16))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,16):t(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,17))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,17):t(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,26))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,26):t(this.Ff,26)}});var b={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(b).length){var a=[];a.push("<<");var c;for(c in b)a.push("/"+c+" ("+b[c]+")");return a.push(">>"),a.join("\n")}},set:function(c){"object"===a(c)&&(b=c)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return b.CA||""},set:function(a){"string"==typeof a&&(b.CA=a)}});var c;Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return c},set:function(a){c=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return c.substr(1,c.length-1)},set:function(a){c="/"+a}})};k(S,N);var T=function(){S.call(this),this.pushButton=!0};k(T,S);var U=function(){S.call(this),this.radio=!0,this.pushButton=!1;var a=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a="undefined"!=typeof b?b:[]}})};k(U,S);var V=function(){N.call(this);var b;Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return b},set:function(a){b=a}});var c;Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return c},set:function(a){c=a}});var d={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=[];a.push("<<");var b;for(b in d)a.push("/"+b+" ("+d[b]+")");return a.push(">>"),a.join("\n")},set:function(b){"object"===a(b)&&(d=b)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return d.CA||""},set:function(a){"string"==typeof a&&(d.CA=a)}});var e;Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=Z.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};k(V,N),U.prototype.setAppearance=function(a){if(!("createAppearanceStream"in a&&"getCA"in a))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var b in this.Kids)if(this.Kids.hasOwnProperty(b)){var c=this.Kids[b];c.appearanceStreamContent=a.createAppearanceStream(c.optionName),c.caption=a.getCA()}},U.prototype.createOption=function(a){var b=(this.Kids.length,new V);return b.Parent=this,b.optionName=a,this.Kids.push(b),$.call(this,b),b};var W=function(){S.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Z.CheckBox.createAppearanceStream()};k(W,S);var X=function(){N.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,13))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,13):t(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,21))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,21):t(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,23))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,23):t(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,24))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,24):t(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,25))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,25):t(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,26))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,26):t(this.Ff,26)}});var a=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){a=b}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){Number.isInteger(b)&&(a=b)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};k(X,N);var Y=function(){X.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(r(this.Ff,14))},set:function(a){this.Ff=Boolean(a)===!0?s(this.Ff,14):t(this.Ff,14)}}),this.password=!0};k(Y,X);var Z={CheckBox:{createAppearanceStream:function(){var a={N:{On:Z.CheckBox.YesNormal},D:{On:Z.CheckBox.YesPushDown,Off:Z.CheckBox.OffPushDown}};return a},YesPushDown:function(a){var b=n(a),c=[],d=e.internal.getFont(a.fontName,a.fontStyle).id,f=e.__private__.encodeColorString(a.color),g=w(a,a.caption);return c.push("0.749023 g"),c.push("0 0 "+i(Z.internal.getWidth(a))+" "+i(Z.internal.getHeight(a))+" re"),c.push("f"),c.push("BMC"),c.push("q"),c.push("0 0 1 rg"),c.push("/"+d+" "+i(g.fontSize)+" Tf "+f),c.push("BT"),c.push(g.text),c.push("ET"),c.push("Q"),c.push("EMC"),b.stream=c.join("\n"),b},YesNormal:function(a){var b=n(a),c=e.internal.getFont(a.fontName,a.fontStyle).id,d=e.__private__.encodeColorString(a.color),f=[],g=Z.internal.getHeight(a),h=Z.internal.getWidth(a),j=w(a,a.caption);return f.push("1 g"),f.push("0 0 "+i(h)+" "+i(g)+" re"),f.push("f"),f.push("q"),f.push("0 0 1 rg"),f.push("0 0 "+i(h-1)+" "+i(g-1)+" re"),f.push("W"),f.push("n"),f.push("0 g"),f.push("BT"),f.push("/"+c+" "+i(j.fontSize)+" Tf "+d),f.push(j.text),f.push("ET"),f.push("Q"),b.stream=f.join("\n"),b},OffPushDown:function(a){var b=n(a),c=[];return c.push("0.749023 g"),c.push("0 0 "+i(Z.internal.getWidth(a))+" "+i(Z.internal.getHeight(a))+" re"),c.push("f"),b.stream=c.join("\n"),b}},RadioButton:{Circle:{createAppearanceStream:function(a){var b={D:{Off:Z.RadioButton.Circle.OffPushDown},N:{}};return b.N[a]=Z.RadioButton.Circle.YesNormal,b.D[a]=Z.RadioButton.Circle.YesPushDown,b},getCA:function(){return"l"},YesNormal:function(a){var b=n(a),c=[],d=Z.internal.getWidth(a)<=Z.internal.getHeight(a)?Z.internal.getWidth(a)/4:Z.internal.getHeight(a)/4;d=Number((.9*d).toFixed(5));var e=Z.internal.Bezier_C,f=Number((d*e).toFixed(5));return c.push("q"),c.push("1 0 0 1 "+j(Z.internal.getWidth(a)/2)+" "+j(Z.internal.getHeight(a)/2)+" cm"),c.push(d+" 0 m"),c.push(d+" "+f+" "+f+" "+d+" 0 "+d+" c"),c.push("-"+f+" "+d+" -"+d+" "+f+" -"+d+" 0 c"),c.push("-"+d+" -"+f+" -"+f+" -"+d+" 0 -"+d+" c"),c.push(f+" -"+d+" "+d+" -"+f+" "+d+" 0 c"),c.push("f"),c.push("Q"),b.stream=c.join("\n"),b},YesPushDown:function(a){var b=n(a),c=[],d=Z.internal.getWidth(a)<=Z.internal.getHeight(a)?Z.internal.getWidth(a)/4:Z.internal.getHeight(a)/4,d=Number((.9*d).toFixed(5)),e=Number((2*d).toFixed(5)),f=Number((e*Z.internal.Bezier_C).toFixed(5)),g=Number((d*Z.internal.Bezier_C).toFixed(5));return c.push("0.749023 g"),c.push("q"),c.push("1 0 0 1 "+j(Z.internal.getWidth(a)/2)+" "+j(Z.internal.getHeight(a)/2)+" cm"),c.push(e+" 0 m"),c.push(e+" "+f+" "+f+" "+e+" 0 "+e+" c"),c.push("-"+f+" "+e+" -"+e+" "+f+" -"+e+" 0 c"),c.push("-"+e+" -"+f+" -"+f+" -"+e+" 0 -"+e+" c"),c.push(f+" -"+e+" "+e+" -"+f+" "+e+" 0 c"),c.push("f"),c.push("Q"),c.push("0 g"),c.push("q"),c.push("1 0 0 1 "+j(Z.internal.getWidth(a)/2)+" "+j(Z.internal.getHeight(a)/2)+" cm"),c.push(d+" 0 m"),c.push(""+d+" "+g+" "+g+" "+d+" 0 "+d+" c"),c.push("-"+g+" "+d+" -"+d+" "+g+" -"+d+" 0 c"),c.push("-"+d+" -"+g+" -"+g+" -"+d+" 0 -"+d+" c"),c.push(g+" -"+d+" "+d+" -"+g+" "+d+" 0 c"),c.push("f"),c.push("Q"),b.stream=c.join("\n"),b},OffPushDown:function(a){var b=n(a),c=[],d=Z.internal.getWidth(a)<=Z.internal.getHeight(a)?Z.internal.getWidth(a)/4:Z.internal.getHeight(a)/4,d=Number((.9*d).toFixed(5)),e=Number((2*d).toFixed(5)),f=Number((e*Z.internal.Bezier_C).toFixed(5));return c.push("0.749023 g"),c.push("q"),c.push("1 0 0 1 "+j(Z.internal.getWidth(a)/2)+" "+j(Z.internal.getHeight(a)/2)+" cm"),c.push(e+" 0 m"),c.push(e+" "+f+" "+f+" "+e+" 0 "+e+" c"),c.push("-"+f+" "+e+" -"+e+" "+f+" -"+e+" 0 c"),c.push("-"+e+" -"+f+" -"+f+" -"+e+" 0 -"+e+" c"),c.push(f+" -"+e+" "+e+" -"+f+" "+e+" 0 c"),c.push("f"),c.push("Q"),b.stream=c.join("\n"),b}},Cross:{createAppearanceStream:function(a){var b={D:{Off:Z.RadioButton.Cross.OffPushDown},N:{}};return b.N[a]=Z.RadioButton.Cross.YesNormal,b.D[a]=Z.RadioButton.Cross.YesPushDown,b},getCA:function(){return"8"},YesNormal:function(a){var b=n(a),c=[],d=Z.internal.calculateCross(a);return c.push("q"),c.push("1 1 "+i(Z.internal.getWidth(a)-2)+" "+i(Z.internal.getHeight(a)-2)+" re"),c.push("W"),c.push("n"),c.push(i(d.x1.x)+" "+i(d.x1.y)+" m"),c.push(i(d.x2.x)+" "+i(d.x2.y)+" l"),c.push(i(d.x4.x)+" "+i(d.x4.y)+" m"),c.push(i(d.x3.x)+" "+i(d.x3.y)+" l"),c.push("s"),c.push("Q"),b.stream=c.join("\n"),b},YesPushDown:function(a){var b=n(a),c=Z.internal.calculateCross(a),d=[];return d.push("0.749023 g"),d.push("0 0 "+i(Z.internal.getWidth(a))+" "+i(Z.internal.getHeight(a))+" re"),d.push("f"),d.push("q"),d.push("1 1 "+i(Z.internal.getWidth(a)-2)+" "+i(Z.internal.getHeight(a)-2)+" re"),d.push("W"),d.push("n"),d.push(i(c.x1.x)+" "+i(c.x1.y)+" m"),d.push(i(c.x2.x)+" "+i(c.x2.y)+" l"),d.push(i(c.x4.x)+" "+i(c.x4.y)+" m"),d.push(i(c.x3.x)+" "+i(c.x3.y)+" l"),d.push("s"),d.push("Q"),b.stream=d.join("\n"),b},OffPushDown:function(a){var b=n(a),c=[];return c.push("0.749023 g"),c.push("0 0 "+i(Z.internal.getWidth(a))+" "+i(Z.internal.getHeight(a))+" re"),c.push("f"),b.stream=c.join("\n"),b}}},createDefaultAppearanceStream:function(a){var b=e.internal.getFont(a.fontName,a.fontStyle).id,c=e.__private__.encodeColorString(a.color),d=a.fontSize,f="/"+b+" "+d+" Tf "+c;return f}};Z.internal={Bezier_C:.551915024494,calculateCross:function(a){var b=Z.internal.getWidth(a),c=Z.internal.getHeight(a),d=Math.min(b,c),e={x1:{x:(b-d)/2,y:(c-d)/2+d},x2:{x:(b-d)/2+d,y:(c-d)/2},x3:{x:(b-d)/2,y:(c-d)/2},x4:{x:(b-d)/2+d,y:(c-d)/2+d}};return e}},Z.internal.getWidth=function(b){var c=0;return"object"===a(b)&&(c=l(b.Rect[2])),c},Z.internal.getHeight=function(b){var c=0;return"object"===a(b)&&(c=l(b.Rect[3])),c};{var $=b.addField=function(a){if(G.call(this),!(a instanceof N))throw new Error("Invalid argument passed to jsPDF.addField.");return A.call(this,a),a.page=e.internal.getCurrentPageInfo().pageNumber,this};b.addButton=function(a){if(a instanceof S==!1)throw new Error("Invalid argument passed to jsPDF.addButton.");return $.call(this,a)},b.addTextField=function(a){if(a instanceof X==!1)throw new Error("Invalid argument passed to jsPDF.addTextField.");return $.call(this,a)},b.addChoiceField=function(a){if(a instanceof O==!1)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return $.call(this,a)}}"object"==a(c)&&"undefined"==typeof c.ChoiceField&&"undefined"==typeof c.ListBox&&"undefined"==typeof c.ComboBox&&"undefined"==typeof c.EditBox&&"undefined"==typeof c.Button&&"undefined"==typeof c.PushButton&&"undefined"==typeof c.RadioButton&&"undefined"==typeof c.CheckBox&&"undefined"==typeof c.TextField&&"undefined"==typeof c.PasswordField?(c.ChoiceField=O,
c.ListBox=P,c.ComboBox=Q,c.EditBox=R,c.Button=S,c.PushButton=T,c.RadioButton=U,c.CheckBox=W,c.TextField=X,c.PasswordField=Y,c.AcroForm={Appearance:Z}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),b.AcroFormChoiceField=O,b.AcroFormListBox=P,b.AcroFormComboBox=Q,b.AcroFormEditBox=R,b.AcroFormButton=S,b.AcroFormPushButton=T,b.AcroFormRadioButton=U,b.AcroFormCheckBox=W,b.AcroFormTextField=X,b.AcroFormPasswordField=Y,b.AcroFormAppearance=Z,b.AcroForm={ChoiceField:O,ListBox:P,ComboBox:Q,EditBox:R,Button:S,PushButton:T,RadioButton:U,CheckBox:W,TextField:X,PasswordField:Y,Appearance:Z}}(h.API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(b){var c="addImage_",d={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},e=b.getImageFileTypeByImageData=function(a,c){c=c||"UNKNOWN";var e,f,g,h,i,j="UNKNOWN";b.isArrayBufferView(a)&&(a=b.arrayBufferToBinaryString(a));for(i in d)for(g=d[i],e=0;e<g.length;e+=1){for(h=!0,f=0;f<g[e].length;f+=1)if(void 0!==g[e][f]&&g[e][f]!==a.charCodeAt(f)){h=!1;break}if(h===!0){j=i;break}}return"UNKNOWN"===j&&"UNKNOWN"!==c&&(console.warn('FileType of Image not recognized. Processing image as "'+c+'".'),j=c),j},f=function w(a){for(var b=this.internal.newObject(),c=this.internal.write,d=this.internal.putStream,e=this.internal.getFilters,f=e();-1!==f.indexOf("FlateEncode");)f.splice(f.indexOf("FlateEncode"),1);a.n=b;var g=[];if(g.push({key:"Type",value:"/XObject"}),g.push({key:"Subtype",value:"/Image"}),g.push({key:"Width",value:a.w}),g.push({key:"Height",value:a.h}),a.cs===this.color_spaces.INDEXED?g.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(a.pal.length/3-1)+" "+("smask"in a?b+2:b+1)+" 0 R]"}):(g.push({key:"ColorSpace",value:"/"+a.cs}),a.cs===this.color_spaces.DEVICE_CMYK&&g.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),g.push({key:"BitsPerComponent",value:a.bpc}),"dp"in a&&g.push({key:"DecodeParms",value:"<<"+a.dp+">>"}),"trns"in a&&a.trns.constructor==Array){for(var h="",i=0,j=a.trns.length;j>i;i++)h+=a.trns[i]+" "+a.trns[i]+" ";g.push({key:"Mask",value:"["+h+"]"})}"smask"in a&&g.push({key:"SMask",value:b+1+" 0 R"});var k="undefined"!=typeof a.f?["/"+a.f]:void 0;if(d({data:a.data,additionalKeyValues:g,alreadyAppliedFilters:k}),c("endobj"),"smask"in a){var l="/Predictor "+a.p+" /Colors 1 /BitsPerComponent "+a.bpc+" /Columns "+a.w,m={w:a.w,h:a.h,cs:"DeviceGray",bpc:a.bpc,dp:l,data:a.smask};"f"in a&&(m.f=a.f),w.call(this,m)}a.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),d({data:this.arrayBufferToBinaryString(new Uint8Array(a.pal))}),c("endobj"))},g=function(){var a=this.internal.collections[c+"images"];for(var b in a)f.call(this,a[b])},h=function(){var a,b=this.internal.collections[c+"images"],d=this.internal.write;for(var e in b)a=b[e],d("/I"+a.i,a.n,"0","R")},i=function(a){return a&&"string"==typeof a&&(a=a.toUpperCase()),a in b.image_compression?a:b.image_compression.NONE},j=function(){var a=this.internal.collections[c+"images"];return a||(this.internal.collections[c+"images"]=a={},this.internal.events.subscribe("putResources",g),this.internal.events.subscribe("putXobjectDict",h)),a},k=function(a){var b=0;return a&&(b=Object.keys?Object.keys(a).length:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b}(a)),b},l=function(a){return"undefined"==typeof a||null===a||0===a.length},m=function(a){return"string"==typeof a?b.sHashCode(a):b.isArrayBufferView(a)?b.sHashCode(b.arrayBufferToBinaryString(a)):null},n=function(a){return"function"==typeof b["process"+a.toUpperCase()]},o=function(b){return"object"===a(b)&&1===b.nodeType},p=function(a,c){if("IMG"===a.nodeName&&a.hasAttribute("src")){var d=""+a.getAttribute("src");if(0===d.indexOf("data:image/"))return unescape(d);var e=b.loadFile(d);if(void 0!==e)return btoa(e)}if("CANVAS"===a.nodeName){var f=a;return a.toDataURL("image/jpeg",1)}var f=document.createElement("canvas");f.width=a.clientWidth||a.width,f.height=a.clientHeight||a.height;var g=f.getContext("2d");if(!g)throw"addImage requires canvas to be supported by browser.";return g.drawImage(a,0,0,f.width,f.height),f.toDataURL("png"==(""+c).toLowerCase()?"image/png":"image/jpeg")},q=function(a,b){var c;if(b)for(var d in b)if(a===b[d].alias){c=b[d];break}return c},r=function(a,b,c){return a||b||(a=-96,b=-96),0>a&&(a=-1*c.w*72/a/this.internal.scaleFactor),0>b&&(b=-1*c.h*72/b/this.internal.scaleFactor),0===a&&(a=b*c.w/c.h),0===b&&(b=a*c.h/c.w),[a,b]},s=function(a,b,c,d,e,f,g,h){var i=r.call(this,c,d,e),j=this.internal.getCoordinateString,k=this.internal.getVerticalCoordinateString;if(c=i[0],d=i[1],g[f]=e,h){h*=Math.PI/180;var l=Math.cos(h),m=Math.sin(h),n=function(a){return a.toFixed(4)},o=[n(l),n(m),n(-1*m),n(l),0,0,"cm"]}this.internal.write("q"),h?(this.internal.write([1,"0","0",1,j(a),k(b+d),"cm"].join(" ")),this.internal.write(o.join(" ")),this.internal.write([j(c),"0","0",j(d),"0","0","cm"].join(" "))):this.internal.write([j(c),"0","0",j(d),j(a),k(b+d),"cm"].join(" ")),this.internal.write("/I"+e.i+" Do"),this.internal.write("Q")};b.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},b.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},b.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b.sHashCode=function(a){a=a||"";var b,c,d=0;if(0===a.length)return d;for(b=0;b<a.length;b++)c=a.charCodeAt(b),d=(d<<5)-d+c,d|=0;return d},b.isString=function(a){return"string"==typeof a},b.validateStringAsBase64=function(a){a=a||"",a.toString().trim();var b=!0;return 0===a.length&&(b=!1),a.length%4!==0&&(b=!1),/^[A-Za-z0-9+\/]+$/.test(a.substr(0,a.length-2))===!1&&(b=!1),/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(a.substr(-2))===!1&&(b=!1),b},b.extractInfoFromBase64DataURI=function(a){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(a)},b.extractImageFromDataUrl=function(a){a=a||"";var b=a.split("base64,"),c=null;if(2===b.length){var d=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(b[0]);Array.isArray(d)&&(c={mimeType:d[1],charset:d[2],data:b[1]})}return c},b.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},b.isArrayBuffer=function(a){return this.supportsArrayBuffer()?a instanceof ArrayBuffer:!1},b.isArrayBufferView=function(a){return this.supportsArrayBuffer()?"undefined"==typeof Uint32Array?!1:a instanceof Int8Array||a instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array:!1},b.binaryStringToUint8Array=function(a){for(var b=a.length,c=new Uint8Array(b),d=0;b>d;d++)c[d]=a.charCodeAt(d);return c},b.arrayBufferToBinaryString=function(a){return"function"==typeof atob?atob(this.arrayBufferToBase64(a)):void 0},b.arrayBufferToBase64=function(a){for(var b,c,d,e,f,g="",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(a),j=i.byteLength,k=j%3,l=j-k,m=0;l>m;m+=3)f=i[m]<<16|i[m+1]<<8|i[m+2],b=(16515072&f)>>18,c=(258048&f)>>12,d=(4032&f)>>6,e=63&f,g+=h[b]+h[c]+h[d]+h[e];return 1==k?(f=i[l],b=(252&f)>>2,c=(3&f)<<4,g+=h[b]+h[c]+"=="):2==k&&(f=i[l]<<8|i[l+1],b=(64512&f)>>10,c=(1008&f)>>4,d=(15&f)<<2,g+=h[b]+h[c]+h[d]+"="),g},b.createImageInfo=function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n={alias:h,w:b,h:c,cs:d,bpc:e,i:g,data:a};return f&&(n.f=f),i&&(n.dp=i),j&&(n.trns=j),k&&(n.pal=k),l&&(n.smask=l),m&&(n.p=m),n},b.addImage=function(c,d,e,f,g,h,r,t,u){var v="";if("string"!=typeof d){var w=h;h=g,g=f,f=e,e=d,d=w}if("object"===a(c)&&!o(c)&&"imageData"in c){var x=c;c=x.imageData,d=x.format||d||"UNKNOWN",e=x.x||e||0,f=x.y||f||0,g=x.w||g,h=x.h||h,r=x.alias||r,t=x.compression||t,u=x.rotation||x.angle||u}var y=this.internal.getFilters();if(void 0===t&&-1!==y.indexOf("FlateEncode")&&(t="SLOW"),"string"==typeof c&&(c=unescape(c)),isNaN(e)||isNaN(f))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var z,A,B=j.call(this);if(!((z=q(c,B))||(o(c)&&(c=p(c,d)),l(r)&&(r=m(c)),z=q(r,B)))){if(this.isString(c)&&(v=this.convertStringToImageData(c),""!==v?c=v:(v=b.loadFile(c),void 0!==v&&(c=v))),d=this.getImageFileTypeByImageData(c,d),!n(d))throw new Error("addImage does not support files of type '"+d+"', please ensure that a plugin for '"+d+"' support is added.");if(this.supportsArrayBuffer()&&(c instanceof Uint8Array||(A=c,c=this.binaryStringToUint8Array(c))),z=this["process"+d.toUpperCase()](c,k(B),r,i(t),A),!z)throw new Error("An unknown error occurred whilst processing the image")}return s.call(this,e,f,g,h,z,z.i,B,u),this},b.convertStringToImageData=function(a){var c,d,e="";if(this.isString(a)){var c=this.extractImageFromDataUrl(a);d=null!==c?c.data:a;try{e=atob(d)}catch(f){throw new Error(b.validateStringAsBase64(d)?"atob-Error in jsPDF.convertStringToImageData "+f.message:"Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return e};var t=function(a){var b,c,d;if("JPEG"!==e(a))throw new Error("getJpegSize requires a binary string jpeg file");for(var f=256*a.charCodeAt(4)+a.charCodeAt(5),g=4,h=a.length;h>g;){if(g+=f,255!==a.charCodeAt(g))throw new Error("getJpegSize could not find the size of the image");if(192===a.charCodeAt(g+1)||193===a.charCodeAt(g+1)||194===a.charCodeAt(g+1)||195===a.charCodeAt(g+1)||196===a.charCodeAt(g+1)||197===a.charCodeAt(g+1)||198===a.charCodeAt(g+1)||199===a.charCodeAt(g+1))return c=256*a.charCodeAt(g+5)+a.charCodeAt(g+6),b=256*a.charCodeAt(g+7)+a.charCodeAt(g+8),d=a.charCodeAt(g+9),[b,c,d];g+=2,f=256*a.charCodeAt(g)+a.charCodeAt(g+1)}},u=function(a){var b=a[0]<<8|a[1];if(65496!==b)throw new Error("Supplied data is not a JPEG");for(var c,d,e,f,g=a.length,h=(a[4]<<8)+a[5],i=4;g>i;){if(i+=h,c=v(a,i),h=(c[2]<<8)+c[3],(192===c[1]||194===c[1])&&255===c[0]&&h>7)return c=v(a,i+5),d=(c[2]<<8)+c[3],e=(c[0]<<8)+c[1],f=c[4],{width:d,height:e,numcomponents:f};i+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},v=function(a,b){return a.subarray(b,b+5)};b.processJPEG=function(a,b,c,d,e,f){var g,h=this.decode.DCT_DECODE,i=8;if(!this.isString(a)&&!this.isArrayBuffer(a)&&!this.isArrayBufferView(a))return null;if(this.isString(a)&&(g=t(a)),this.isArrayBuffer(a)&&(a=new Uint8Array(a)),this.isArrayBufferView(a)&&(g=u(a),a=e||this.arrayBufferToBinaryString(a)),void 0===f)switch(g.numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;default:case 3:f=this.color_spaces.DEVICE_RGB}return this.createImageInfo(a,g.width,g.height,f,i,h,b,c)},b.processJPG=function(){return this.processJPEG.apply(this,arguments)},b.getImageProperties=function(a){var c,d,e="";if(o(a)&&(a=p(a)),this.isString(a)&&(e=this.convertStringToImageData(a),""!==e?a=e:(e=b.loadFile(a),void 0!==e&&(a=e))),d=this.getImageFileTypeByImageData(a),!n(d))throw new Error("addImage does not support files of type '"+d+"', please ensure that a plugin for '"+d+"' support is added.");if(this.supportsArrayBuffer()&&(a instanceof Uint8Array||(a=this.binaryStringToUint8Array(a))),c=this["process"+d.toUpperCase()](a),!c)throw new Error("An unknown error occurred whilst processing the image");return{fileType:d,width:c.w,height:c.h,colorSpace:c.cs,compressionMode:c.f,bitsPerComponent:c.bpc}}}(h.API),function(a){return h.API.events.push(["addPage",function(a){var b=this.internal.getPageInfo(a.pageNumber);b.pageContext.annotations=[]}]),a.events.push(["putPage",function(a){for(var b=this.internal.getPageInfoByObjId(a.objId),c=a.pageContext.annotations,d=function(a){return"undefined"!=typeof a&&""!=a?!0:void 0},e=!1,f=0;f<c.length&&!e;f++){var g=c[f];switch(g.type){case"link":if(d(g.options.url)||d(g.options.pageNumber)){e=!0;break}case"reference":case"text":case"freetext":e=!0}}if(0!=e){this.internal.write("/Annots [");for(var h=(this.internal.pageSize.height,this.internal.getCoordinateString),i=this.internal.getVerticalCoordinateString,f=0;f<c.length;f++){var g=c[f];switch(g.type){case"reference":this.internal.write(" "+g.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),l=g.title||"Note",m="/Rect ["+h(g.bounds.x)+" "+i(g.bounds.y+g.bounds.h)+" "+h(g.bounds.x+g.bounds.w)+" "+i(g.bounds.y)+"] ";r="<</Type /Annot /Subtype /Text "+m+"/Contents ("+g.contents+")",r+=" /Popup "+k.objId+" 0 R",r+=" /P "+b.objId+" 0 R",r+=" /T ("+l+") >>",j.content=r;var n=j.objId+" 0 R",o=30,m="/Rect ["+h(g.bounds.x+o)+" "+i(g.bounds.y+g.bounds.h)+" "+h(g.bounds.x+g.bounds.w+o)+" "+i(g.bounds.y)+"] ";r="<</Type /Annot /Subtype /Popup "+m+" /Parent "+n,g.open&&(r+=" /Open true"),r+=" >>",k.content=r,this.internal.write(j.objId,"0 R",k.objId,"0 R");break;case"freetext":var m="/Rect ["+h(g.bounds.x)+" "+i(g.bounds.y)+" "+h(g.bounds.x+g.bounds.w)+" "+i(g.bounds.y+g.bounds.h)+"] ",p=g.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+m+"/Contents ("+g.contents+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+p+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(g.options.name){var q=this.annotations._nameMap[g.options.name];g.options.pageNumber=q.page,g.options.top=q.y}else g.options.top||(g.options.top=0);var m="/Rect ["+h(g.x)+" "+i(g.y)+" "+h(g.x+g.w)+" "+i(g.y+g.h)+"] ",r="";if(g.options.url)r="<</Type /Annot /Subtype /Link "+m+"/Border [0 0 0] /A <</S /URI /URI ("+g.options.url+") >>";else if(g.options.pageNumber){var s=this.internal.getPageInfo(g.options.pageNumber);switch(r="<</Type /Annot /Subtype /Link "+m+"/Border [0 0 0] /Dest ["+s.objId+" 0 R",g.options.magFactor=g.options.magFactor||"XYZ",g.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+g.options.top+"]";break;case"FitV":g.options.left=g.options.left||0,r+=" /FitV "+g.options.left+"]";break;case"XYZ":default:var t=i(g.options.top);g.options.left=g.options.left||0,"undefined"==typeof g.options.zoom&&(g.options.zoom=0),r+=" /XYZ "+g.options.left+" "+t+" "+g.options.zoom+"]"}}""!=r&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),a.createAnnotation=function(a){var b=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":b.pageContext.annotations.push(a)}},a.link=function(a,b,c,d,e){var f=this.internal.getCurrentPageInfo();f.pageContext.annotations.push({x:a,y:b,w:c,h:d,options:e,type:"link"})},a.textWithLink=function(a,b,c,d){var e=this.getTextWidth(a),f=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(a,b,c),c+=.2*f,this.link(b,c-f,e,f,d),e},a.getTextWidth=function(a){var b=this.internal.getFontSize(),c=this.getStringUnitWidth(a)*b/this.internal.scaleFactor;return c},this}(h.API),function(a){var b={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},c={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},d={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},e=[1570,1571,1573,1575],f=-1,g=0,h=1,i=2,j=3;a.__arabicParser__={};var k=a.__arabicParser__.isInArabicSubstitutionA=function(a){return"undefined"!=typeof b[a.charCodeAt(0)]},l=a.__arabicParser__.isArabicLetter=function(a){return"string"==typeof a&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(a)},m=a.__arabicParser__.isArabicEndLetter=function(a){return l(a)&&k(a)&&b[a.charCodeAt(0)].length<=2},n=a.__arabicParser__.isArabicAlfLetter=function(a){return l(a)&&e.indexOf(a.charCodeAt(0))>=0},o=(a.__arabicParser__.arabicLetterHasIsolatedForm=function(a){return l(a)&&k(a)&&b[a.charCodeAt(0)].length>=1},a.__arabicParser__.arabicLetterHasFinalForm=function(a){return l(a)&&k(a)&&b[a.charCodeAt(0)].length>=2}),p=(a.__arabicParser__.arabicLetterHasInitialForm=function(a){return l(a)&&k(a)&&b[a.charCodeAt(0)].length>=3},a.__arabicParser__.arabicLetterHasMedialForm=function(a){return l(a)&&k(a)&&4==b[a.charCodeAt(0)].length}),q=a.__arabicParser__.resolveLigatures=function(a){var b=0,d=c,e=g,f="",h=0;for(b=0;b<a.length;b+=1)"undefined"!=typeof d[a.charCodeAt(b)]?(h++,d=d[a.charCodeAt(b)],"number"==typeof d&&(e=r(a.charAt(b),a.charAt(b-h),a.charAt(b+1)),e=-1!==e?e:0,f+=String.fromCharCode(d),d=c,h=0),b===a.length-1&&(d=c,f+=a.charAt(b-(h-1)),b-=h-1,h=0)):(d=c,f+=a.charAt(b-h),b-=h,h=0);return f},r=(a.__arabicParser__.isArabicDiacritic=function(a){return void 0!==a&&void 0!==d[a.charCodeAt(0)]},a.__arabicParser__.getCorrectForm=function(a,b,c){return l(a)?k(a)===!1?f:!o(a)||!l(b)&&!l(c)||!l(c)&&m(b)||m(a)&&!l(b)||m(a)&&n(b)||m(a)&&m(b)?g:p(a)&&l(b)&&!m(b)&&l(c)&&o(c)?j:m(a)||!l(c)?h:i:-1}),s=a.__arabicParser__.processArabic=a.processArabic=function(a){a=a||"";var c="",d=0,e=0,f=0,g="",h="",i="",j=a.split("\\s+"),k=[];for(d=0;d<j.length;d+=1){for(k.push(""),e=0;e<j[d].length;e+=1)g=j[d][e],h=j[d][e-1],i=j[d][e+1],l(g)?(f=r(g,h,i),k[d]+=-1!==f?String.fromCharCode(b[g.charCodeAt(0)][f]):g):k[d]+=g;k[d]=q(k[d])}return c=k.join(" ")},t=function(a){var b=a.text,c=(a.x,a.y,a.options||{}),d=(a.mutex||{},c.lang,[]);if("[object Array]"===Object.prototype.toString.call(b)){var e=0;for(d=[],e=0;e<b.length;e+=1)d.push("[object Array]"===Object.prototype.toString.call(b[e])?[s(b[e][0]),b[e][1],b[e][2]]:[s(b[e])]);a.text=d}else a.text=s(b)};a.events.push(["preProcessText",t])}(h.API),function(a){a.autoPrint=function(a){var b;switch(a=a||{},a.variant=a.variant||"non-conform",a.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){b=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+b+" 0 R")})}return this}}(h.API),function(a){var b=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(b){a=b}});var b=150;Object.defineProperty(this,"width",{get:function(){return b},set:function(a){b=isNaN(a)||Number.isInteger(a)===!1||0>a?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=b+1)}});var c=300;Object.defineProperty(this,"height",{get:function(){return c},set:function(a){c=isNaN(a)||Number.isInteger(a)===!1||0>a?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=c+1)}});var d=[];Object.defineProperty(this,"childNodes",{get:function(){return d},set:function(a){d=a}});var e={};Object.defineProperty(this,"style",{get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})};return b.prototype.getContext=function(a,b){a=a||"2d";var c;if("2d"!==a)return null;for(c in b)this.pdf.context2d.hasOwnProperty(c)&&(this.pdf.context2d[c]=b[c]);return this.pdf.context2d._canvas=this,this.pdf.context2d},b.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},a.events.push(["initialized",function(){this.canvas=new b,this.canvas.pdf=this}]),this}(h.API),function(a){var b,c=3,d=13,e={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},f=1,g=function(a,b,c,d,f){e={x:a,y:b,w:c,h:d,ln:f}},h=function(){return e},i={left:0,top:0,bottom:0};a.setHeaderFunction=function(a){b=a},a.getTextDimensions=function(a,b){{var c=this.table_font_size||this.internal.getFontSize();this.internal.getFont().fontStyle}b=b||{};var d=b.scaleFactor||this.internal.scaleFactor,e=0,f=0,g=0,h=0;if("string"==typeof a)e=this.getStringUnitWidth(a)*c,0!==e&&(f=1);else{if("[object Array]"!==Object.prototype.toString.call(a))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var i=0;i<a.length;i++)h=this.getStringUnitWidth(a[i])*c,h>e&&(e=h);0!==e&&(f=a.length)}return e/=d,g=Math.max((f*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0),{w:e,h:g}},a.cellAddPage=function(){var a=this.margins||i;this.addPage(),g(a.left,a.top,void 0,void 0),f+=1},a.cellInitialize=function(){e={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},f=1},a.cell=function(a,b,e,f,j,k,l){var m=h(),n=!1;if(void 0!==m.ln)if(m.ln===k)a=m.x+m.w,b=m.y;else{var o=this.margins||i;m.y+m.h+f+d>=this.internal.pageSize.getHeight()-o.bottom&&(this.cellAddPage(),n=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(k,!0)),b=h().y+h().h,n&&(b=d+10)}if(void 0!==j[0])if(this.printingHeaderRow?this.rect(a,b,e,f,"FD"):this.rect(a,b,e,f),"right"===l){j instanceof Array||(j=[j]);for(var p=0;p<j.length;p++){var q=j[p],r=this.getStringUnitWidth(q)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(q,a+e-r-c,b+this.internal.getLineHeight()*(p+1))}}else this.text(j,a+c,b+this.internal.getLineHeight());return g(a,b,e,f,k),this},a.arrayMax=function(a,b){var c,d,e,f=a[0];for(c=0,d=a.length;d>c;c+=1)e=a[c],b?-1===b(f,e)&&(f=e):e>f&&(f=e);return f},a.table=function(b,c,d,g,h){if(!d)throw"No data for PDF table";var j,k,l,m,n,o,p,q,r,s,t=[],u=[],v={},w={},x=[],y=[],z=!1,A=!0,B=12,C=i;if(C.width=this.internal.pageSize.getWidth(),h&&(h.autoSize===!0&&(z=!0),h.printHeaders===!1&&(A=!1),h.fontSize&&(B=h.fontSize),h.css&&"undefined"!=typeof h.css["font-size"]&&(B=16*h.css["font-size"]),h.margins&&(C=h.margins)),this.lnMod=0,e={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},f=1,this.printHeaders=A,this.margins=C,this.setFontSize(B),this.table_font_size=B,void 0===g||null===g)t=Object.keys(d[0]);else if(g[0]&&"string"!=typeof g[0]){var D=19.049976/25.4;for(k=0,l=g.length;l>k;k+=1)j=g[k],t.push(j.name),u.push(j.prompt),w[j.name]=j.width*D}else t=g;if(z)for(s=function(a){return a[j]},k=0,l=t.length;l>k;k+=1){for(j=t[k],v[j]=d.map(s),x.push(this.getTextDimensions(u[k]||j,{scaleFactor:1}).w),o=v[j],p=0,m=o.length;m>p;p+=1)n=o[p],x.push(this.getTextDimensions(n,{scaleFactor:1}).w);w[j]=a.arrayMax(x),x=[]}if(A){var E=this.calculateLineHeight(t,w,u.length?u:t);for(k=0,l=t.length;l>k;k+=1)j=t[k],y.push([b,c,w[j],E,String(u.length?u[k]:j)]);this.setTableHeaderRow(y),this.printHeaderRow(1,!1)}for(k=0,l=d.length;l>k;k+=1){var E;for(q=d[k],E=this.calculateLineHeight(t,w,q),p=0,r=t.length;r>p;p+=1)j=t[p],this.cell(b,c,w[j],E,q[j],k+2,j.align)}return this.lastCellPos=e,this.table_x=b,this.table_y=c,this},a.calculateLineHeight=function(a,b,d){for(var e,f=0,g=0;g<a.length;g++){e=a[g],d[e]=this.splitTextToSize(String(d[e]),b[e]-c);var h=this.internal.getLineHeight()*d[e].length+c;h>f&&(f=h)}return f},a.setTableHeaderRow=function(a){this.tableHeaderRow=a},a.printHeaderRow=function(a,c){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var e,h,i,j;if(this.printingHeaderRow=!0,void 0!==b){var k=b(this,f);g(k[0],k[1],k[2],k[3],-1)}this.setFontStyle("bold");var l=[];for(i=0,j=this.tableHeaderRow.length;j>i;i+=1)this.setFillColor(200,200,200),e=this.tableHeaderRow[i],c&&(this.margins.top=d,e[1]=this.margins&&this.margins.top||0,l.push(e)),h=[].concat(e),this.cell.apply(this,h.concat(a));l.length>0&&this.setTableHeaderRow(l),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(h.API),function(b){var c,d,e,f,g,h,i=function(a){return a=a||{},this.isStrokeTransparent=a.isStrokeTransparent||!1,this.strokeOpacity=a.strokeOpacity||1,this.strokeStyle=a.strokeStyle||"#000000",this.fillStyle=a.fillStyle||"#000000",this.isFillTransparent=a.isFillTransparent||!1,this.fillOpacity=a.fillOpacity||1,this.font=a.font||"10px sans-serif",this.textBaseline=a.textBaseline||"alphabetic",this.textAlign=a.textAlign||"left",this.lineWidth=a.lineWidth||1,this.lineJoin=a.lineJoin||"miter",this.lineCap=a.lineCap||"butt",this.path=a.path||[],this.transform="undefined"!=typeof a.transform?a.transform.clone():new J,this.globalCompositeOperation=a.globalCompositeOperation||"normal",this.globalAlpha=a.globalAlpha||1,this.clip_path=a.clip_path||[],this.currentPoint=a.currentPoint||new H,this.miterLimit=a.miterLimit||10,this.lastPoint=a.lastPoint||new H,this.ignoreClearRect="boolean"==typeof a.ignoreClearRect?a.ignoreClearRect:!0,this};b.events.push(["initialized",function(){this.context2d=new j(this),c=this.internal.f2,d=this.internal.f3,e=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,g=this.internal.getHorizontalCoordinate,h=this.internal.getVerticalCoordinate}]);var j=function(a){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return a}});var b=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return b},set:function(a){b=Boolean(a)}});var c=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return c},set:function(a){c=Boolean(a)}});var d=0;Object.defineProperty(this,"posX",{get:function(){return d},set:function(a){isNaN(a)||(d=a)}});var e=0;Object.defineProperty(this,"posY",{get:function(){return e},set:function(a){isNaN(a)||(e=a)}});var f=!1;Object.defineProperty(this,"autoPaging",{get:function(){return f},set:function(a){f=Boolean(a)}});var g=0;Object.defineProperty(this,"lastBreak",{get:function(){return g},set:function(a){g=a}});var h=[];Object.defineProperty(this,"pageBreaks",{get:function(){return h},set:function(a){h=a}});var j=new i;Object.defineProperty(this,"ctx",{get:function(){return j},set:function(a){a instanceof i&&(j=a)}}),Object.defineProperty(this,"path",{get:function(){return j.path},set:function(a){j.path=a}});var l=[];Object.defineProperty(this,"ctxStack",{get:function(){return l},set:function(a){l=a}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(a){var b;b=k(a),this.ctx.fillStyle=b.style,this.ctx.isFillTransparent=0===b.a,this.ctx.fillOpacity=b.a,this.pdf.setFillColor(b.r,b.g,b.b,{a:b.a}),this.pdf.setTextColor(b.r,b.g,b.b,{a:b.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(a){var b=k(a);this.ctx.strokeStyle=b.style,this.ctx.isStrokeTransparent=0===b.a,this.ctx.strokeOpacity=b.a,0===b.a?this.pdf.setDrawColor(255,255,255):1===b.a?this.pdf.setDrawColor(b.r,b.g,b.b):this.pdf.setDrawColor(b.r,b.g,b.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(a){-1!==["butt","round","square"].indexOf(a)&&(this.ctx.lineCap=a,this.pdf.setLineCap(a))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(a){isNaN(a)||(this.ctx.lineWidth=a,this.pdf.setLineWidth(a))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(a){-1!==["bevel","round","miter"].indexOf(a)&&(this.ctx.lineJoin=a,this.pdf.setLineJoin(a))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(a){isNaN(a)||(this.ctx.miterLimit=a,this.pdf.setMiterLimit(a))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(a){this.ctx.textBaseline=a}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(a){-1!==["right","end","center","left","start"].indexOf(a)&&(this.ctx.textAlign=a)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(a){this.ctx.font=a;var b,c;if(b=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i,c=b.exec(a),null!==c){var d=c[1],e=(c[2],c[3]),f=c[4],g=c[5],h=c[6];f=Math.floor("px"===g?parseFloat(f):"em"===g?parseFloat(f)*this.pdf.getFontSize():parseFloat(f)),this.pdf.setFontSize(f);var i="";("bold"===e||parseInt(e,10)>=700||"bold"===d)&&(i="bold"),"italic"===d&&(i+="italic"),0===i.length&&(i="normal");for(var j="",k=h.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),l={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},m=0;m<k.length;m++){if(void 0!==this.pdf.internal.getFont(k[m],i,{noFallback:!0,disableWarning:!0})){j=k[m];break}if("bolditalic"===i&&void 0!==this.pdf.internal.getFont(k[m],"bold",{noFallback:!0,disableWarning:!0}))j=k[m],i="bold";else if(void 0!==this.pdf.internal.getFont(k[m],"normal",{noFallback:!0,disableWarning:!0})){j=k[m],i="normal";break}}if(""===j)for(var m=0;m<k.length;m++)if(l[k[m]]){j=l[k[m]];break}j=""===j?"Times":j,this.pdf.setFont(j,i)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(a){this.ctx.globalCompositeOperation=a}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(a){this.ctx.globalAlpha=a}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(a){this.ctx.ignoreClearRect=Boolean(a)}})};j.prototype.fill=function(){q.call(this,"fill",!1)},j.prototype.stroke=function(){q.call(this,"stroke",!1)},j.prototype.beginPath=function(){this.path=[{
type:"begin"}]},j.prototype.moveTo=function(a,b){if(isNaN(a)||isNaN(b))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var c=this.ctx.transform.applyToPoint(new H(a,b));this.path.push({type:"mt",x:c.x,y:c.y}),this.ctx.lastPoint=new H(a,b)},j.prototype.closePath=function(){var b=new H(0,0),c=0;for(c=this.path.length-1;-1!==c;c--)if("begin"===this.path[c].type&&"object"===a(this.path[c+1])&&"number"==typeof this.path[c+1].x){b=new H(this.path[c+1].x,this.path[c+1].y),this.path.push({type:"lt",x:b.x,y:b.y});break}"object"===a(this.path[c+2])&&"number"==typeof this.path[c+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[c+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new H(b.x,b.y)},j.prototype.lineTo=function(a,b){if(isNaN(a)||isNaN(b))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var c=this.ctx.transform.applyToPoint(new H(a,b));this.path.push({type:"lt",x:c.x,y:c.y}),this.ctx.lastPoint=new H(c.x,c.y)},j.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},j.prototype.quadraticCurveTo=function(a,b,c,d){if(isNaN(c)||isNaN(d)||isNaN(a)||isNaN(b))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var e=this.ctx.transform.applyToPoint(new H(c,d)),f=this.ctx.transform.applyToPoint(new H(a,b));this.path.push({type:"qct",x1:f.x,y1:f.y,x:e.x,y:e.y}),this.ctx.lastPoint=new H(e.x,e.y)},j.prototype.bezierCurveTo=function(a,b,c,d,e,f){if(isNaN(e)||isNaN(f)||isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var g=this.ctx.transform.applyToPoint(new H(e,f)),h=this.ctx.transform.applyToPoint(new H(a,b)),i=this.ctx.transform.applyToPoint(new H(c,d));this.path.push({type:"bct",x1:h.x,y1:h.y,x2:i.x,y2:i.y,x:g.x,y:g.y}),this.ctx.lastPoint=new H(g.x,g.y)},j.prototype.arc=function(a,b,c,d,e,f){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)||isNaN(e))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(f=Boolean(f),!this.ctx.transform.isIdentity){var g=this.ctx.transform.applyToPoint(new H(a,b));a=g.x,b=g.y;var h=this.ctx.transform.applyToPoint(new H(0,c)),i=this.ctx.transform.applyToPoint(new H(0,0));c=Math.sqrt(Math.pow(h.x-i.x,2)+Math.pow(h.y-i.y,2))}Math.abs(e-d)>=2*Math.PI&&(d=0,e=2*Math.PI),this.path.push({type:"arc",x:a,y:b,radius:c,startAngle:d,endAngle:e,counterclockwise:f})},j.prototype.arcTo=function(){throw new Error("arcTo not implemented.")},j.prototype.rect=function(a,b,c,d){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.lineTo(a,b),this.lineTo(a+c,b),this.lineTo(a,b)},j.prototype.fillRect=function(a,b,c,d){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!l.call(this)){var e={};"butt"!==this.lineCap&&(e.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(e.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(a,b,c,d),this.fill(),e.hasOwnProperty("lineCap")&&(this.lineCap=e.lineCap),e.hasOwnProperty("lineJoin")&&(this.lineJoin=e.lineJoin)}},j.prototype.strokeRect=function(a,b,c,d){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(a,b,c,d),this.stroke())},j.prototype.clearRect=function(a,b,c,d){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(a,b,c,d))},j.prototype.save=function(a){a="boolean"==typeof a?a:!0;for(var b=this.pdf.internal.getCurrentPageInfo().pageNumber,c=0;c<this.pdf.internal.getNumberOfPages();c++)this.pdf.setPage(c+1),this.pdf.internal.out("q");if(this.pdf.setPage(b),a){this.ctx.fontSize=this.pdf.internal.getFontSize();var d=new i(this.ctx);this.ctxStack.push(this.ctx),this.ctx=d}},j.prototype.restore=function(a){a="boolean"==typeof a?a:!0;for(var b=this.pdf.internal.getCurrentPageInfo().pageNumber,c=0;c<this.pdf.internal.getNumberOfPages();c++)this.pdf.setPage(c+1),this.pdf.internal.out("Q");this.pdf.setPage(b),a&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},j.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var k=function(a){var b,c,d,e,f=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,g=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/,h=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/;if(a.isCanvasGradient===!0&&(a=a.getColor()),!a)return{r:0,g:0,b:0,a:0,style:a};if(h.test(a))b=0,c=0,d=0,e=0;else{var i=f.exec(a);if(null!==i)b=parseInt(i[1]),c=parseInt(i[2]),d=parseInt(i[3]),e=1;else if(i=g.exec(a),null!==i)b=parseInt(i[1]),c=parseInt(i[2]),d=parseInt(i[3]),e=parseFloat(i[4]);else{if(e=1,"string"==typeof a&&"#"!==a.charAt(0)){var j=new RGBColor(a);a=j.ok?j.toHex():"#000000"}4===a.length?(b=a.substring(1,2),b+=b,c=a.substring(2,3),c+=c,d=a.substring(3,4),d+=d):(b=a.substring(1,3),c=a.substring(3,5),d=a.substring(5,7)),b=parseInt(b,16),c=parseInt(c,16),d=parseInt(d,16)}}return{r:b,g:c,b:d,a:e,style:a}},l=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};j.prototype.fillText=function(a,b,c,d){if(isNaN(b)||isNaN(c)||"string"!=typeof a)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(d=isNaN(d)?void 0:d,!l.call(this)){c=s.call(this,c);var e=D(this.ctx.transform.rotation),f=this.ctx.transform.scaleX;x.call(this,{text:a,x:b,y:c,scale:f,angle:e,align:this.textAlign,maxWidth:d})}},j.prototype.strokeText=function(a,b,c,d){if(isNaN(b)||isNaN(c)||"string"!=typeof a)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){d=isNaN(d)?void 0:d,c=s.call(this,c);var e=D(this.ctx.transform.rotation),f=this.ctx.transform.scaleX;x.call(this,{text:a,x:b,y:c,scale:f,renderingMode:"stroke",angle:e,align:this.textAlign,maxWidth:d})}},j.prototype.measureText=function(a){if("string"!=typeof a)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var b=this.pdf,c=this.pdf.internal.scaleFactor,d=b.internal.getFontSize(),e=b.getStringUnitWidth(a)*d/b.internal.scaleFactor;e*=Math.round(96*c/72*1e4)/1e4;var f=function(a){a=a||{};var b=a.width||0;return Object.defineProperty(this,"width",{get:function(){return b}}),this};return new f({width:e})},j.prototype.scale=function(a,b){if(isNaN(a)||isNaN(b))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var c=new J(a,0,0,b,0,0);this.ctx.transform=this.ctx.transform.multiply(c)},j.prototype.rotate=function(a){if(isNaN(a))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var b=new J(Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0);this.ctx.transform=this.ctx.transform.multiply(b)},j.prototype.translate=function(a,b){if(isNaN(a)||isNaN(b))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var c=new J(1,0,0,1,a,b);this.ctx.transform=this.ctx.transform.multiply(c)},j.prototype.transform=function(a,b,c,d,e,f){if(isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)||isNaN(e)||isNaN(f))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var g=new J(a,b,c,d,e,f);this.ctx.transform=this.ctx.transform.multiply(g)},j.prototype.setTransform=function(a,b,c,d,e,f){a=isNaN(a)?1:a,b=isNaN(b)?0:b,c=isNaN(c)?0:c,d=isNaN(d)?1:d,e=isNaN(e)?0:e,f=isNaN(f)?0:f,this.ctx.transform=new J(a,b,c,d,e,f)},j.prototype.drawImage=function(a,b,c,d,e,f,g,h,i){var j=this.pdf.getImageProperties(a),k=1,l=1,m=1,o=1,q=1;"undefined"!=typeof d&&"undefined"!=typeof h&&(m=h/d,o=i/e,k=j.width/d*h/d,l=j.height/e*i/e),"undefined"==typeof f&&(f=b,g=c,b=0,c=0),"undefined"!=typeof d&&"undefined"==typeof h&&(h=d,i=e),"undefined"==typeof d&&"undefined"==typeof h&&(h=j.width,i=j.height);var s=this.ctx.transform.decompose(),t=D(s.rotate.shx);q=s.scale.sx,q=s.scale.sy;var u=new J;u=u.multiply(s.translate),u=u.multiply(s.skew),u=u.multiply(s.scale);for(var v=(u.applyToPoint(new H(h,i)),u.applyToRectangle(new I(f-b*m,g-c*o,d*k,e*l))),w=n.call(this,v),x=[],y=0;y<w.length;y+=1)-1===x.indexOf(w[y])&&x.push(w[y]);x.sort();var z;if(this.autoPaging)for(var A=x[0],B=x[x.length-1],C=A;B+1>C;C++){if(this.pdf.setPage(C),0!==this.ctx.clip_path.length){var E=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(z,this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY),r.call(this,"fill",!0),this.path=E}var F=JSON.parse(JSON.stringify(v));F=p([F],this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY)[0],this.pdf.addImage(a,"jpg",F.x,F.y,F.w,F.h,null,null,t)}else this.pdf.addImage(a,"jpg",v.x,v.y,v.w,v.h,null,null,t)};var n=function(a,b,c){var d=[];switch(b=b||this.pdf.internal.pageSize.width,c=c||this.pdf.internal.pageSize.height,a.type){default:case"mt":case"lt":d.push(Math.floor((a.y+this.posY)/c)+1);break;case"arc":d.push(Math.floor((a.y+this.posY-a.radius)/c)+1),d.push(Math.floor((a.y+this.posY+a.radius)/c)+1);break;case"qct":var e=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,a.x1,a.y1,a.x,a.y);d.push(Math.floor(e.y/c)+1),d.push(Math.floor((e.y+e.h)/c)+1);break;case"bct":var f=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,a.x1,a.y1,a.x2,a.y2,a.x,a.y);d.push(Math.floor(f.y/c)+1),d.push(Math.floor((f.y+f.h)/c)+1);break;case"rect":d.push(Math.floor((a.y+this.posY)/c)+1),d.push(Math.floor((a.y+a.h+this.posY)/c)+1)}for(var g=0;g<d.length;g+=1)for(;this.pdf.internal.getNumberOfPages()<d[g];)o.call(this);return d},o=function(){var a=this.fillStyle,b=this.strokeStyle,c=this.font,d=this.lineCap,e=this.lineWidth,f=this.lineJoin;this.pdf.addPage(),this.fillStyle=a,this.strokeStyle=b,this.font=c,this.lineCap=d,this.lineWidth=e,this.lineJoin=f},p=function(a,b,c){for(var d=0;d<a.length;d++)switch(a[d].type){case"bct":a[d].x2+=b,a[d].y2+=c;case"qct":a[d].x1+=b,a[d].y1+=c;case"mt":case"lt":case"arc":default:a[d].x+=b,a[d].y+=c}return a},q=function(a,b){for(var c,d,e=this.fillStyle,f=this.strokeStyle,g=(this.font,this.lineCap),h=this.lineWidth,i=this.lineJoin,j=JSON.parse(JSON.stringify(this.path)),k=JSON.parse(JSON.stringify(this.path)),l=[],m=0;m<k.length;m++)if("undefined"!=typeof k[m].x)for(var q=n.call(this,k[m]),s=0;s<q.length;s+=1)-1===l.indexOf(q[s])&&l.push(q[s]);for(var m=0;m<l.length;m++)for(;this.pdf.internal.getNumberOfPages()<l[m];)o.call(this);if(l.sort(),this.autoPaging)for(var t=l[0],u=l[l.length-1],m=t;u+1>m;m++){if(this.pdf.setPage(m),this.fillStyle=e,this.strokeStyle=f,this.lineCap=g,this.lineWidth=h,this.lineJoin=i,0!==this.ctx.clip_path.length){var v=this.path;c=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(c,this.posX,-1*this.pdf.internal.pageSize.height*(m-1)+this.posY),r.call(this,a,!0),this.path=v}d=JSON.parse(JSON.stringify(j)),this.path=p(d,this.posX,-1*this.pdf.internal.pageSize.height*(m-1)+this.posY),(b===!1||0===m)&&r.call(this,a,b)}else r.call(this,a,b);this.path=j},r=function(a,b){if(!("stroke"===a&&!b&&m.call(this)||"stroke"!==a&&!b&&l.call(this))){var c=[],d=this.ctx.globalAlpha;this.ctx.fillOpacity<1&&(d=this.ctx.fillOpacity);for(var e=this.path,f=0;f<e.length;f++){var g=e[f];switch(g.type){case"begin":c.push({begin:!0});break;case"close":c.push({close:!0});break;case"mt":c.push({start:g,deltas:[],abs:[]});break;case"lt":var h=c.length;if(!isNaN(e[f-1].x)){var i=[g.x-e[f-1].x,g.y-e[f-1].y];if(h>0)for(h;h>=0;h--)if(c[h-1].close!==!0&&c[h-1].begin!==!0){c[h-1].deltas.push(i),c[h-1].abs.push(g);break}}break;case"bct":var i=[g.x1-e[f-1].x,g.y1-e[f-1].y,g.x2-e[f-1].x,g.y2-e[f-1].y,g.x-e[f-1].x,g.y-e[f-1].y];c[c.length-1].deltas.push(i);break;case"qct":var j=e[f-1].x+2/3*(g.x1-e[f-1].x),k=e[f-1].y+2/3*(g.y1-e[f-1].y),n=g.x+2/3*(g.x1-g.x),o=g.y+2/3*(g.y1-g.y),p=g.x,q=g.y,i=[j-e[f-1].x,k-e[f-1].y,n-e[f-1].x,o-e[f-1].y,p-e[f-1].x,q-e[f-1].y];c[c.length-1].deltas.push(i);break;case"arc":c.push({deltas:[],abs:[],arc:!0}),Array.isArray(c[c.length-1].abs)&&c[c.length-1].abs.push(g)}}var r;r=b?null:"stroke"===a?"stroke":"fill";for(var f=0;f<c.length;f++){if(c[f].arc)for(var s=c[f].abs,w=0;w<s.length;w++){var x=s[w];if("undefined"!=typeof x.startAngle){var A=D(x.startAngle),B=D(x.endAngle),C=x.x,E=x.y;t.call(this,C,E,x.radius,A,B,x.counterclockwise,r,b)}else y.call(this,x.x,x.y)}if(!c[f].arc&&c[f].close!==!0&&c[f].begin!==!0){var C=c[f].start.x,E=c[f].start.y;z.call(this,c[f].deltas,C,E,null,null)}}r&&u.call(this,r),b&&v.call(this)}},s=function(a){var b=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,c=b*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return a-c;case"top":return a+b-c;case"hanging":return a+b-2*c;case"middle":return a+b/2-c;case"ideographic":return a;case"alphabetic":default:return a}};j.prototype.createLinearGradient=function(){var a=function(){};return a.colorStops=[],a.addColorStop=function(a,b){this.colorStops.push([a,b])},a.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},a.isCanvasGradient=!0,a},j.prototype.createPattern=function(){return this.createLinearGradient()},j.prototype.createRadialGradient=function(){return this.createLinearGradient()};var t=function(a,b,c,d,e,f,g,h){for(var i=(this.pdf.internal.scaleFactor,E(d)),j=E(e),k=B.call(this,c,i,j,f),l=0;l<k.length;l++){var m=k[l];0===l&&w.call(this,m.x1+a,m.y1+b),A.call(this,a,b,m.x2,m.y2,m.x3,m.y3,m.x4,m.y4)}h?v.call(this):u.call(this,g)},u=function(a){switch(a){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},v=function(){this.pdf.clip()},w=function(a,b){this.pdf.internal.out(e(a)+" "+f(b)+" m")},x=function(a){var b;switch(a.align){case"right":case"end":b="right";break;case"center":b="center";break;case"left":case"start":default:b="left"}var c=this.ctx.transform.applyToPoint(new H(a.x,a.y)),d=this.ctx.transform.decompose(),e=new J;e=e.multiply(d.translate),e=e.multiply(d.skew),e=e.multiply(d.scale);for(var f=this.pdf.getTextDimensions(a.text),g=this.ctx.transform.applyToRectangle(new I(a.x,a.y,f.w,f.h)),h=e.applyToRectangle(new I(a.x,a.y-f.h,f.w,f.h)),i=n.call(this,h),j=[],k=0;k<i.length;k+=1)-1===j.indexOf(i[k])&&j.push(i[k]);j.sort();var l;if(this.autoPaging===!0)for(var m=j[0],o=j[j.length-1],q=m;o+1>q;q++){if(this.pdf.setPage(q),0!==this.ctx.clip_path.length){var s=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(l,this.posX,-1*this.pdf.internal.pageSize.height*(q-1)+this.posY),r.call(this,"fill",!0),this.path=s}var t=JSON.parse(JSON.stringify(g));if(t=p([t],this.posX,-1*this.pdf.internal.pageSize.height*(q-1)+this.posY)[0],a.scale>=.01){var u=this.pdf.internal.getFontSize();this.pdf.setFontSize(u*a.scale)}this.pdf.text(a.text,t.x,t.y,{angle:a.angle,align:b,renderingMode:a.renderingMode,maxWidth:a.maxWidth}),a.scale>=.01&&this.pdf.setFontSize(u)}else{if(a.scale>=.01){var u=this.pdf.internal.getFontSize();this.pdf.setFontSize(u*a.scale)}this.pdf.text(a.text,c.x+this.posX,c.y+this.posY,{angle:a.angle,align:b,renderingMode:a.renderingMode,maxWidth:a.maxWidth}),a.scale>=.01&&this.pdf.setFontSize(u)}},y=function(a,b,c,d){c=c||0,d=d||0,this.pdf.internal.out(e(a+c)+" "+f(b+d)+" l")},z=function(a,b,c){return this.pdf.lines(a,b,c,null,null)},A=function(a,b,d,e,f,i,j,k){this.pdf.internal.out([c(g(d+a)),c(h(e+b)),c(g(f+a)),c(h(i+b)),c(g(j+a)),c(h(k+b)),"c"].join(" "))},B=function(a,b,c,d){var e=1e-5,f=2*Math.PI,g=b;(f>g||g>f)&&(g%=f);var h=c;(f>h||h>f)&&(h%=f);for(var i=[],j=Math.PI/2,k=d?-1:1,l=b,m=Math.min(f,Math.abs(h-g));m>e;){var n=l+k*Math.min(m,j);i.push(C.call(this,a,l,n)),m-=Math.abs(n-l),l=n}return i},C=function(a,b,c){var d=(c-b)/2,e=a*Math.cos(d),f=a*Math.sin(d),g=e,h=-f,i=g*g+h*h,j=i+g*e+h*f,k=4/3*(Math.sqrt(2*i*j)-j)/(g*f-h*e),l=g-k*h,m=h+k*g,n=l,o=-m,p=d+b,q=Math.cos(p),r=Math.sin(p);return{x1:a*Math.cos(b),y1:a*Math.sin(b),x2:l*q-m*r,y2:l*r+m*q,x3:n*q-o*r,y3:n*r+o*q,x4:a*Math.cos(c),y4:a*Math.sin(c)}},D=function(a){return 180*a/Math.PI},E=function(a){return a*Math.PI/180},F=function(a,b,c,d,e,f){var g=a+.5*(c-a),h=b+.5*(d-b),i=e+.5*(c-e),j=f+.5*(d-f),k=Math.min(a,e,g,i),l=Math.max(a,e,g,i),m=Math.min(b,f,h,j),n=Math.max(b,f,h,j);return new I(k,m,l-k,n-m)},G=function(a,b,c,d,e,f,g,h){for(var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=c-a,H=d-b,J=e-c,K=f-d,L=g-e,M=h-f,N=40,v=0;N+1>v;v++)i=v/N,j=a+i*G,k=b+i*H,l=c+i*J,m=d+i*K,n=e+i*L,o=f+i*M,A=l-j,B=m-k,C=n-l,D=o-m,r=j+i*A,s=k+i*B,p=l+i*C,q=m+i*D,E=p-r,F=q-s,t=r+i*E,u=s+i*F,0==v?(w=t,x=u,y=t,z=u):(w=Math.min(w,t),x=Math.min(x,u),y=Math.max(y,t),z=Math.max(z,u));return new I(Math.round(w),Math.round(x),Math.round(y-w),Math.round(z-x))},H=function(a,b){var c=a||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(a){isNaN(a)||(c=parseFloat(a))}});var d=b||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(a){isNaN(a)||(d=parseFloat(a))}});var e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return e},set:function(a){e=a.toString()}}),this},I=function(a,b,c,d){H.call(this,a,b),this.type="rect";var e=c||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return e},set:function(a){isNaN(a)||(e=parseFloat(a))}});var f=d||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return f},set:function(a){isNaN(a)||(f=parseFloat(a))}}),this},J=function(a,b,c,d,e,f){var g=[];return Object.defineProperty(this,"sx",{get:function(){return g[0]},set:function(a){g[0]=Math.round(1e5*a)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return g[1]},set:function(a){g[1]=Math.round(1e5*a)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return g[2]},set:function(a){g[2]=Math.round(1e5*a)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return g[3]},set:function(a){g[3]=Math.round(1e5*a)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return g[4]},set:function(a){g[4]=Math.round(1e5*a)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return g[5]},set:function(a){g[5]=Math.round(1e5*a)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1!==this.sx?!1:0!==this.shy?!1:0!==this.shx?!1:1!==this.sy?!1:0!==this.tx?!1:0!==this.ty?!1:!0}}),this.sx=isNaN(a)?1:a,this.shy=isNaN(b)?0:b,this.shx=isNaN(c)?0:c,this.sy=isNaN(d)?1:d,this.tx=isNaN(e)?0:e,this.ty=isNaN(f)?0:f,this};J.prototype.multiply=function(a){var b=a.sx*this.sx+a.shy*this.shx,c=a.sx*this.shy+a.shy*this.sy,d=a.shx*this.sx+a.sy*this.shx,e=a.shx*this.shy+a.sy*this.sy,f=a.tx*this.sx+a.ty*this.shx+this.tx,g=a.tx*this.shy+a.ty*this.sy+this.ty;return new J(b,c,d,e,f,g)},J.prototype.decompose=function(){var a=this.sx,b=this.shy,c=this.shx,d=this.sy,e=this.tx,f=this.ty,g=Math.sqrt(a*a+b*b);a/=g,b/=g;var h=a*c+b*d;c-=a*h,d-=b*h;var i=Math.sqrt(c*c+d*d);return c/=i,d/=i,h/=i,b*c>a*d&&(a=-a,b=-b,h=-h,g=-g),{scale:new J(g,0,0,i,0,0),translate:new J(1,0,0,1,e,f),rotate:new J(a,b,-b,a,0,0),skew:new J(1,0,h,1,0,0)}},J.prototype.applyToPoint=function(a){var b=a.x*this.sx+a.y*this.shx+this.tx,c=a.x*this.shy+a.y*this.sy+this.ty;return new H(b,c)},J.prototype.applyToRectangle=function(a){var b=this.applyToPoint(a),c=this.applyToPoint(new H(a.x+a.w,a.y+a.h));return new I(b.x,b.y,c.x-b.x,c.y-b.y)},J.prototype.clone=function(){var a=this.sx,b=this.shy,c=this.shx,d=this.sy,e=this.tx,f=this.ty;return new J(a,b,c,d,e,f)}}(h.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),function(a){var b=function(a){var b,c,d,e,f,g,h,i,j,k;for(!/[^\x00-\xFF]/.test(a),b="\x00\x00\x00\x00".slice(a.length%4||4),a+=b,c=[],d=0,e=a.length;e>d;d+=4)f=(a.charCodeAt(d)<<24)+(a.charCodeAt(d+1)<<16)+(a.charCodeAt(d+2)<<8)+a.charCodeAt(d+3),0!==f?(k=f%85,f=(f-k)/85,j=f%85,f=(f-j)/85,i=f%85,f=(f-i)/85,h=f%85,f=(f-h)/85,g=f%85,c.push(g+33,h+33,i+33,j+33,k+33)):c.push(122);return function(a,b){for(var c=b;c>0;c--)a.pop()}(c,b.length),String.fromCharCode.apply(String,c)+"~>"},c=function(a){var b,c,d,e,f,g=String,h="length",i=255,j="charCodeAt",k="slice",l="replace";for("~>"===a[k](-2),a=a[k](0,-2)[l](/\s/g,"")[l]("z","!!!!!"),b="uuuuu"[k](a[h]%5||5),a+=b,d=[],e=0,f=a[h];f>e;e+=5)c=52200625*(a[j](e)-33)+614125*(a[j](e+1)-33)+7225*(a[j](e+2)-33)+85*(a[j](e+3)-33)+(a[j](e+4)-33),d.push(i&c>>24,i&c>>16,i&c>>8,i&c);return function(a,b){for(var c=b;c>0;c--)a.pop()}(d,b[h]),g.fromCharCode.apply(g,d)},d=function(a){for(var b,c="",b=0;b<a.length;b+=1)c+=("0"+a.charCodeAt(b).toString(16)).slice(-2);return c+=">"},e=function(a){var b=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(a=a.replace(/\s/g,""),-1!==a.indexOf(">")&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),b.test(a)===!1)return"";for(var c,d="",c=0;c<a.length;c+=2)d+=String.fromCharCode("0x"+(a[c]+a[c+1]));return d},f=function(b,c){c=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},c);for(var d,e,f=[],g=b.length;g--;)f[g]=b.charCodeAt(g);return d=a.adler32cs.from(b),e=new Deflater(6),e.append(new Uint8Array(f)),b=e.flush(),f=new Uint8Array(b.length+6),f.set(new Uint8Array([120,156])),f.set(b,2),f.set(new Uint8Array([255&d,d>>8&255,d>>16&255,d>>24&255]),b.length+2),b=String.fromCharCode.apply(null,f)};a.processDataByFilters=function(a,g){var h=0,i=a||"",j=[];for(g=g||[],"string"==typeof g&&(g=[g]),h=0;h<g.length;h+=1)switch(g[h]){case"ASCII85Decode":case"/ASCII85Decode":i=c(i),j.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":i=b(i),j.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":i=e(i),j.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":i=d(i),j.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":i=f(i),j.push("/FlateDecode");break;default:throw'The filter: "'+g[h]+'" is not implemented'}return{data:i,reverseChain:j.reverse().join(" ")}}}(h.API),function(a){a.loadFile=function(a,b,c){b=b||!0,c=c||function(){};var d,e=function(a,b){var c=new XMLHttpRequest,d=[],e=0,f=function(a){var b=a.length,c=String.fromCharCode;for(e=0;b>e;e+=1)d.push(c(255&a.charCodeAt(e)));return d.join("")};return c.open("GET",a,!b),c.overrideMimeType("text/plain; charset=x-user-defined"),b===!1&&(c.onload=function(){return f(this.responseText)}),c.send(null),200!==c.status?void console.warn('Unable to load file "'+a+'"'):b?f(c.responseText):void 0};try{d=e(a,b,c)}catch(f){d=void 0}return d},a.loadImageFile=a.loadFile}(h.API),function(b,c){var d=function(b){var c=a(b);return"undefined"===c?"undefined":"string"===c||b instanceof String?"string":"number"===c||b instanceof Number?"number":"function"===c||b instanceof Function?"function":b&&b.constructor===Array?"array":b&&1===b.nodeType?"element":"object"===c?"object":"unknown"},e=function(a,b){var c=document.createElement(a);if(b.className&&(c.className=b.className),b.innerHTML){c.innerHTML=b.innerHTML;for(var d=c.getElementsByTagName("script"),e=d.length;e-->0;null)d[e].parentNode.removeChild(d[e])}for(var f in b.style)c.style[f]=b.style[f];return c},f=function i(a,b){for(var c=3===a.nodeType?document.createTextNode(a.nodeValue):a.cloneNode(!1),d=a.firstChild;d;d=d.nextSibling)(b===!0||1!==d.nodeType||"SCRIPT"!==d.nodeName)&&c.appendChild(i(d,b));return 1===a.nodeType&&("CANVAS"===a.nodeName?(c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0)):("TEXTAREA"===a.nodeName||"SELECT"===a.nodeName)&&(c.value=a.value),c.addEventListener("load",function(){c.scrollTop=a.scrollTop,c.scrollLeft=a.scrollLeft},!0)),c},g=function j(a){var b=Object.assign(j.convert(Promise.resolve()),JSON.parse(JSON.stringify(j.template))),c=j.convert(Promise.resolve(),b);return c=c.setProgress(1,j,1,[j]),c=c.set(a)};g.prototype=Object.create(Promise.prototype),g.prototype.constructor=g,g.convert=function(a,b){return a.__proto__=b||g.prototype,a},g.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},g.prototype.from=function(a,b){function c(a){switch(d(a)){case"string":return"string";case"element":return"canvas"===a.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(b=b||c(a)){case"string":return this.set({src:e("div",{innerHTML:a})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},g.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},g.prototype.toContainer=function(){var a=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(a).then(function(){var a={position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0},b={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},c=f(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===c.tagName&&(b.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=e("div",{className:"html2pdf__overlay",style:a}),this.prop.container=e("div",{className:"html2pdf__container",style:b}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(e("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style["float"]="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},g.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(function(){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,this.isHtml2CanvasLoaded()?html2canvas(this.prop.container,a):void 0}).then(function(a){var b=this.opt.html2canvas.onrendered||function(){};b(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},g.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(function(){var a=this.opt.jsPDF,b=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);return delete b.onrendered,a.context2d.autoPaging=!0,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,b.windowHeight=b.windowHeight||0,b.windowHeight=0==b.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,this.isHtml2CanvasLoaded()?html2canvas(this.prop.container,b):void 0}).then(function(a){var b=this.opt.html2canvas.onrendered||function(){};b(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},g.prototype.toImg=function(){var a=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(a).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},g.prototype.toPdf=function(){var a=[function(){return this.toContext2d()}];return this.thenList(a).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},g.prototype.output=function(a,b,c){return c=c||"pdf","img"===c.toLowerCase()||"image"===c.toLowerCase()?this.outputImg(a,b):this.outputPdf(a,b)},g.prototype.outputPdf=function(a,b){var c=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(c).then(function(){return this.prop.pdf.output(a,b)})},g.prototype.outputImg=function(a){var b=[function(){return this.prop.img||this.toImg()}];return this.thenList(b).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},g.prototype.isHtml2CanvasLoaded=function(){var a="undefined"!=typeof c.html2canvas;return a||console.error("html2canvas not loaded."),a},g.prototype.save=function(a){var b=[function(){return this.prop.pdf||this.toPdf()}];if(this.isHtml2CanvasLoaded())return this.thenList(b).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},g.prototype.doCallback=function(){var a=[function(){return this.prop.pdf||this.toPdf()}];if(this.isHtml2CanvasLoaded())return this.thenList(a).then(function(){this.prop.callback(this.prop.pdf)})},g.prototype.set=function(a){if("object"!==d(a))return this;var b=Object.keys(a||{}).map(function(b){if(b in g.template.prop)return function(){this.prop[b]=a[b]};switch(b){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[b]=a[b]}}},this);return this.then(function(){return this.thenList(b)})},g.prototype.get=function(a,b){return this.then(function(){var c=a in g.template.prop?this.prop[a]:this.opt[a];return b?b(c):c})},g.prototype.setMargin=function(a){return this.then(function(){switch(d(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},g.prototype.setPageSize=function(a){function b(a,b){return Math.floor(a*b/72*96)}return this.then(function(){a=a||h.getPageSize(this.opt.jsPDF),
a.hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:b(a.inner.width,a.k),height:b(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},g.prototype.setProgress=function(a,b,c,d){return null!=a&&(this.progress.val=a),null!=b&&(this.progress.state=b),null!=c&&(this.progress.n=c),null!=d&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},g.prototype.updateProgress=function(a,b,c,d){return this.setProgress(a?this.progress.val+a:null,b?b:null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},g.prototype.then=function(a,b){var c=this;return this.thenCore(a,b,function(a,b){return c.updateProgress(null,null,1,[a]),Promise.prototype.then.call(this,function(b){return c.updateProgress(null,a),b}).then(a,b).then(function(a){return c.updateProgress(1),a})})},g.prototype.thenCore=function(a,b,c){c=c||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),b&&(b=b.bind(d));var e=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name,f=e?d:g.convert(Object.assign({},d),Promise.prototype),h=c.call(f,a,b);return g.convert(h,d.__proto__)},g.prototype.thenExternal=function(a,b){return Promise.prototype.then.call(this,a,b)},g.prototype.thenList=function(a){var b=this;return a.forEach(function(a){b=b.thenCore(a)}),b},g.prototype["catch"]=function(a){a&&(a=a.bind(this));var b=Promise.prototype["catch"].call(this,a);return g.convert(b,this)},g.prototype.catchExternal=function(a){return Promise.prototype["catch"].call(this,a)},g.prototype.error=function(a){return this.then(function(){throw new Error(a)})},g.prototype.using=g.prototype.set,g.prototype.saveAs=g.prototype.save,g.prototype["export"]=g.prototype.output,g.prototype.run=g.prototype.then,h.getPageSize=function(b,c,d){if("object"===a(b)){var e=b;b=e.orientation,c=e.unit||c,d=e.format||d}c=c||"mm",d=d||"a4",b=(""+(b||"P")).toLowerCase();var f=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":var h=1;break;case"mm":var h=72/25.4;break;case"cm":var h=72/2.54;break;case"in":var h=72;break;case"px":var h=.75;break;case"pc":var h=12;break;case"em":var h=12;break;case"ex":var h=6;break;default:throw"Invalid unit: "+c}if(g.hasOwnProperty(f))var i=g[f][1]/h,j=g[f][0]/h;else try{var i=d[1],j=d[0]}catch(k){throw new Error("Invalid format: "+d)}if("p"===b||"portrait"===b){if(b="p",j>i){var l=j;j=i,i=l}}else{if("l"!==b&&"landscape"!==b)throw"Invalid orientation: "+b;if(b="l",i>j){var l=j;j=i,i=l}}var m={width:j,height:i,unit:c,k:h};return m},b.html=function(a,b){b=b||{},b.callback=b.callback||function(){},b.html2canvas=b.html2canvas||{},b.html2canvas.canvas=b.html2canvas.canvas||this.canvas,b.jsPDF=b.jsPDF||this;var c=(b.jsPDF,new g(b));return b.worker?c:c.from(a).doCallback()}}(h.API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(a){var b,c,d;a.addJS=function(a){return d=a,this.internal.events.subscribe("postPutResources",function(){b=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(b+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),c=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+d+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==b&&void 0!==c&&this.internal.out("/Names <</JavaScript "+b+" 0 R>>")}),this}}(h.API),function(a){return a.events.push(["postPutResources",function(){var a=this,b=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var c=a.outline.render().split(/\r\n/),d=0;d<c.length;d++){var e=c[d],f=b.exec(e);if(null!=f){var g=f[1];a.internal.newObjectDeferredBegin(g,!1)}a.internal.write(e)}if(this.outline.createNamedDestinations){for(var h=this.internal.pages.length,i=[],d=0;h>d;d++){var j=a.internal.newObject();i.push(j);var k=a.internal.getPageInfo(d+1);a.internal.write("<< /D["+k.objId+" 0 R /XYZ null null null]>> endobj")}var l=a.internal.newObject();a.internal.write("<< /Names [ ");for(var d=0;d<i.length;d++)a.internal.write("(page_"+(d+1)+")"+i[d]+" 0 R");a.internal.write(" ] >>","endobj");{a.internal.newObject()}a.internal.write("<< /Dests "+l+" 0 R"),a.internal.write(">>","endobj")}}]),a.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+namesOid+" 0 R"))}]),a.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(a,b,c){var d={title:b,options:c,children:[]};return null==a&&(a=this.root),a.children.push(d),d},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(b){b.id=a.internal.newObjectDeferred();for(var c=0;c<b.children.length;c++)this.genIds_r(b.children[c])},a.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},a.outline.renderItems=function(b){for(var c=(this.ctx.pdf.internal.getCoordinateString,this.ctx.pdf.internal.getVerticalCoordinateString),d=0;d<b.children.length;d++){var e=b.children[d];this.objStart(e),this.line("/Title "+this.makeString(e.title)),this.line("/Parent "+this.makeRef(b)),d>0&&this.line("/Prev "+this.makeRef(b.children[d-1])),d<b.children.length-1&&this.line("/Next "+this.makeRef(b.children[d+1])),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1])));var f=this.count=this.count_r({count:0},e);if(f>0&&this.line("/Count "+f),e.options&&e.options.pageNumber){var g=a.internal.getPageInfo(e.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+c(0)+" 0]")}this.objEnd()}for(var d=0;d<b.children.length;d++){var e=b.children[d];this.renderItems(e)}},a.outline.line=function(a){this.ctx.val+=a+"\r\n"},a.outline.makeRef=function(a){return a.id+" 0 R"},a.outline.makeString=function(b){return"("+a.internal.pdfEscape(b)+")"},a.outline.objStart=function(a){this.ctx.val+="\r\n"+a.id+" 0 obj\r\n<<\r\n"},a.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},a.outline.count_r=function(a,b){for(var c=0;c<b.children.length;c++)a.count++,this.count_r(a,b.children[c]);return a.count}}]),this}(h.API),function(a){var b=function(){return"function"!=typeof PNG||"function"!=typeof l},c=function(b){return b!==a.image_compression.NONE&&d()},d=function(){var a="function"==typeof Deflater;if(!a)throw new Error("requires deflate.js for compression");return a},e=function(b,c,d,e){var i=5,l=k;switch(e){case a.image_compression.FAST:i=3,l=j;break;case a.image_compression.MEDIUM:i=6,l=m;break;case a.image_compression.SLOW:i=9,l=n}b=h(b,c,d,l);var o=new Uint8Array(f(i)),p=g(b),q=new Deflater(i),r=q.append(b),s=q.flush(),t=o.length+r.length+s.length,u=new Uint8Array(t+4);return u.set(o),u.set(r,o.length),u.set(s,o.length+r.length),u[t++]=p>>>24&255,u[t++]=p>>>16&255,u[t++]=p>>>8&255,u[t++]=255&p,a.arrayBufferToBinaryString(u)},f=function(a,b){var c=8,d=Math.LOG2E*Math.log(32768)-8,e=d<<4|c,f=e<<8,g=Math.min(3,(b-1&255)>>1);return f|=g<<6,f|=0,f+=31-f%31,[e,255&f&255]},g=function(a,b){for(var c,d=1,e=65535&d,f=d>>>16&65535,g=a.length,h=0;g>0;){c=g>b?b:g,g-=c;do e+=a[h++],f+=e;while(--c);e%=65521,f%=65521}return(f<<16|e)>>>0},h=function(a,b,c,d){for(var e,f,g,h=a.length/b,i=new Uint8Array(a.length+h),j=p(),k=0;h>k;k++){if(g=k*b,e=a.subarray(g,g+b),d)i.set(d(e,c,f),g+k);else{for(var l=0,m=j.length,n=[];m>l;l++)n[l]=j[l](e,c,f);var o=q(n.concat());i.set(n[o],g+k)}f=e}return i},i=function(a){var b=Array.apply([],a);return b.unshift(0),b},j=function(a,b){var c,d=[],e=0,f=a.length;for(d[0]=1;f>e;e++)c=a[e-b]||0,d[e+1]=a[e]-c+256&255;return d},k=function(a,b,c){var d,e=[],f=0,g=a.length;for(e[0]=2;g>f;f++)d=c&&c[f]||0,e[f+1]=a[f]-d+256&255;return e},m=function(a,b,c){var d,e,f=[],g=0,h=a.length;for(f[0]=3;h>g;g++)d=a[g-b]||0,e=c&&c[g]||0,f[g+1]=a[g]+256-(d+e>>>1)&255;return f},n=function(a,b,c){var d,e,f,g,h=[],i=0,j=a.length;for(h[0]=4;j>i;i++)d=a[i-b]||0,e=c&&c[i]||0,f=c&&c[i-b]||0,g=o(d,e,f),h[i+1]=a[i]-g+256&255;return h},o=function(a,b,c){var d=a+b-c,e=Math.abs(d-a),f=Math.abs(d-b),g=Math.abs(d-c);return f>=e&&g>=e?a:g>=f?b:c},p=function(){return[i,j,k,m,n]},q=function(a){for(var b,c,d,e=0,f=a.length;f>e;)b=r(a[e].slice(1)),(c>b||!c)&&(c=b,d=e),e++;return d},r=function(a){for(var b=0,c=a.length,d=0;c>b;)d+=Math.abs(a[b++]);return d},s=function(b){var c;switch(b){case a.image_compression.FAST:c=11;break;case a.image_compression.MEDIUM:c=13;break;case a.image_compression.SLOW:c=14;break;default:c=12}return c};a.processPNG=function(a,d,f,g){var h,i,j,k,l,m,n=this.color_spaces.DEVICE_RGB,o=this.decode.FLATE_DECODE,p=8;if(this.isArrayBuffer(a)&&(a=new Uint8Array(a)),this.isArrayBufferView(a)){if(b())throw new Error("PNG support requires png.js and zlib.js");if(h=new PNG(a),a=h.imgData,p=h.bits,n=h.colorSpace,k=h.colors,-1!==[4,6].indexOf(h.colorType)){if(8===h.bits)for(var q,r,t=32==h.pixelBitlength?new Uint32Array(h.decodePixels().buffer):16==h.pixelBitlength?new Uint16Array(h.decodePixels().buffer):new Uint8Array(h.decodePixels().buffer),u=t.length,v=new Uint8Array(u*h.colors),w=new Uint8Array(u),x=h.pixelBitlength-h.bits,y=0,z=0;u>y;y++){for(q=t[y],r=0;x>r;)v[z++]=q>>>r&255,r+=h.bits;w[y]=q>>>r&255}if(16===h.bits){for(var q,t=new Uint32Array(h.decodePixels().buffer),u=t.length,v=new Uint8Array(u*(32/h.pixelBitlength)*h.colors),w=new Uint8Array(u*(32/h.pixelBitlength)),A=h.colors>1,y=0,z=0,B=0;u>y;)q=t[y++],v[z++]=q>>>0&255,A&&(v[z++]=q>>>16&255,q=t[y++],v[z++]=q>>>0&255),w[B++]=q>>>16&255;p=8}c(g)?(a=e(v,h.width*h.colors,h.colors,g),m=e(w,h.width,1,g)):(a=v,m=w,o=null)}if(3===h.colorType&&(n=this.color_spaces.INDEXED,l=h.palette,h.transparency.indexed)){for(var C=h.transparency.indexed,D=0,y=0,u=C.length;u>y;++y)D+=C[y];if(D/=255,D===u-1&&-1!==C.indexOf(0))j=[C.indexOf(0)];else if(D!==u){for(var t=h.decodePixels(),w=new Uint8Array(t.length),y=0,u=t.length;u>y;y++)w[y]=C[t[y]];m=e(w,h.width,1)}}var E=s(g);return i=o===this.decode.FLATE_DECODE?"/Predictor "+E+" /Colors "+k+" /BitsPerComponent "+p+" /Columns "+h.width:"/Colors "+k+" /BitsPerComponent "+p+" /Columns "+h.width,(this.isArrayBuffer(a)||this.isArrayBufferView(a))&&(a=this.arrayBufferToBinaryString(a)),(m&&this.isArrayBuffer(m)||this.isArrayBufferView(m))&&(m=this.arrayBufferToBinaryString(m)),this.createImageInfo(a,h.width,h.height,n,p,o,d,f,i,j,l,m,E)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(h.API),function(a){a.processGIF89A=function(b,c,e,g){var h=new d(b),i=h.width,j=h.height,k=100,l=[];h.decodeAndBlitFrameRGBA(0,l);var m={data:l,width:i,height:j},n=new f(k),o=n.encode(m,k);return a.processJPEG.call(this,o,c,e,g)},a.processGIF87A=a.processGIF89A}(h.API),function(a){a.processBMP=function(b,c,d,e){var h=new g(b,!1),i=h.width,j=h.height,k=100,l=h.getData(),m={data:l,width:i,height:j},n=new f(k),o=n.encode(m,k);return a.processJPEG.call(this,o,c,d,e)}}(h.API),function(a){a.setLanguage=function(a){var b={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"};return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!==b[a]&&(this.internal.languageSettings.languageCode=a,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this}}(h.API),function(a){var b=a.getCharWidthsArray=function(a,b){b=b||{};var c,d,e,f=b.font||this.internal.getFont(),g=b.fontSize||this.internal.getFontSize(),h=b.charSpace||this.internal.getCharSpace(),i=b.widths?b.widths:f.metadata.Unicode.widths,j=i.fof?i.fof:1,k=b.kerning?b.kerning:f.metadata.Unicode.kerning,l=k.fof?k.fof:1,m=0,n=i[0]||j,o=[];for(c=0,d=a.length;d>c;c++)e=a.charCodeAt(c),o.push("function"==typeof f.metadata.widthOfString?(f.metadata.widthOfGlyph(f.metadata.characterToGlyph(e))+h*(1e3/g)||0)/1e3:(i[e]||n)/j+(k[e]&&k[e][m]||0)/l),m=e;return o},c=a.getArraySum=function(a){for(var b=a.length,c=0;b;)b--,c+=a[b];return c},d=a.getStringUnitWidth=function(a,d){d=d||{};var e=d.fontSize||this.internal.getFontSize(),f=d.font||this.internal.getFont(),g=d.charSpace||this.internal.getCharSpace(),h=0;return h="function"==typeof f.metadata.widthOfString?f.metadata.widthOfString(a,e,g)/e:c(b.apply(this,arguments))},e=function(a,b,c,d){for(var e=[],f=0,g=a.length,h=0;f!==g&&h+b[f]<c;)h+=b[f],f++;e.push(a.slice(0,f));var i=f;for(h=0;f!==g;)h+b[f]>d&&(e.push(a.slice(i,f)),h=0,i=f),h+=b[f],f++;return i!==f&&e.push(a.slice(i,f)),e},f=function(a,f,g){g||(g={});var h,i,j,k,l,m,n=[],o=[n],p=g.textIndent||0,q=0,r=0,s=a.split(" "),t=b.apply(this,[" ",g])[0];if(m=-1===g.lineIndent?s[0].length+2:g.lineIndent||0){var u=Array(m).join(" "),v=[];s.map(function(a){a=a.split(/\s*\n/),a.length>1?v=v.concat(a.map(function(a,b){return(b&&a.length?"\n":"")+a})):v.push(a[0])}),s=v,m=d.apply(this,[u,g])}for(j=0,k=s.length;k>j;j++){var w=0;if(h=s[j],m&&"\n"==h[0]&&(h=h.substr(1),w=1),i=b.apply(this,[h,g]),r=c(i),p+q+r>f||w){if(r>f){for(l=e.apply(this,[h,i,f-(p+q),f]),n.push(l.shift()),n=[l.pop()];l.length;)o.push([l.shift()]);r=c(i.slice(h.length-(n[0]?n[0].length:0)))}else n=[h];o.push(n),p=r+m,q=t}else n.push(h),p+=q+r,q=t}if(m)var x=function(a,b){return(b?u:"")+a.join(" ")};else var x=function(a){return a.join(" ")};return o.map(x)};a.splitTextToSize=function(a,b,c){c=c||{};var d,e=c.fontSize||this.internal.getFontSize(),g=function(a){var b={0:1},c={};if(a.widths&&a.kerning)return{widths:a.widths,kerning:a.kerning};var d=this.internal.getFont(a.fontName,a.fontStyle),e="Unicode";return d.metadata[e]?{widths:d.metadata[e].widths||b,kerning:d.metadata[e].kerning||c}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,c);d=Array.isArray(a)?a:a.split(/\r?\n/);var h=1*this.internal.scaleFactor*b/e;g.textIndent=c.textIndent?1*c.textIndent*this.internal.scaleFactor/e:0,g.lineIndent=c.lineIndent;var i,j,k=[];for(i=0,j=d.length;j>i;i++)k=k.concat(f.apply(this,[d[i],h,g]));return k}}(h.API),function(a){var b=function(a){for(var b="0123456789abcdef",c="klmnopqrstuvwxyz",d={},e=0;e<c.length;e++)d[c[e]]=b[e];var f,g,h,i,j,k={},l=1,m=k,n=[],o="",p="",q=a.length-1;for(e=1;e!=q;)j=a[e],e+=1,"'"==j?g?(i=g.join(""),g=f):g=[]:g?g.push(j):"{"==j?(n.push([m,i]),m={},i=f):"}"==j?(h=n.pop(),h[0][h[1]]=m,i=f,m=h[0]):"-"==j?l=-1:i===f?d.hasOwnProperty(j)?(o+=d[j],i=parseInt(o,16)*l,l=1,o=""):o+=j:d.hasOwnProperty(j)?(p+=d[j],m[i]=parseInt(p,16)*l,l=1,i=f,p=""):p+=j;return k},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:b("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},e={Unicode:{"Courier-Oblique":b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":b("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":b("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":b("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:b("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:b("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":b("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:b("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":b("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":b("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),
"Helvetica-Oblique":b("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFont",function(a){var b,c,f,g=a.font,h="Unicode";b=e[h][g.postScriptName],b&&(c=g.metadata[h]?g.metadata[h]:g.metadata[h]={},c.widths=b.widths,c.kerning=b.kerning),f=d[h][g.postScriptName],f&&(c=g.metadata[h]?g.metadata[h]:g.metadata[h]={},c.encoding=f,f.codePages&&f.codePages.length&&(g.encoding=f.codePages[0]))}])}(h.API),function(a){a.API.events.push(["addFont",function(b){var c=b.font,d=b.instance;if("undefined"!=typeof d&&d.existsFileInVFS(c.postScriptName)){var e=d.getFileFromVFS(c.postScriptName);if("string"!=typeof e)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");c.metadata=a.API.TTFFont.open(c.postScriptName,c.fontName,e,c.encoding),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]}else if(c.isStandardFont===!1)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').")}])}(h,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),function(a){a.addSvg=function(a,b,c,d,e){function f(a,b){var c=b.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(b.createTextNode(a)),b.getElementsByTagName("head")[0].appendChild(c)}function g(a){var b="childframe",c=a.createElement("iframe");return f(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",a),c.name=b,c.setAttribute("width",0),c.setAttribute("height",0),c.setAttribute("frameborder","0"),c.setAttribute("scrolling","no"),c.setAttribute("seamless","seamless"),c.setAttribute("class","jsPDF_sillysvg_iframe"),a.body.appendChild(c),c}function h(a,b){var c=(b.contentWindow||b.contentDocument).document;return c.write(a),c.close(),c.getElementsByTagName("svg")[0]}function i(a){for(var b=parseFloat(a[1]),c=parseFloat(a[2]),d=[],e=3,f=a.length;f>e;)"c"===a[e]?(d.push([parseFloat(a[e+1]),parseFloat(a[e+2]),parseFloat(a[e+3]),parseFloat(a[e+4]),parseFloat(a[e+5]),parseFloat(a[e+6])]),e+=7):"l"===a[e]?(d.push([parseFloat(a[e+1]),parseFloat(a[e+2])]),e+=3):e+=1;return[b,c,d]}var j;if(b===j||c===j)throw new Error("addSVG needs values for 'x' and 'y'");var k=g(document),l=h(a,k),m=[1,1],n=parseFloat(l.getAttribute("width")),o=parseFloat(l.getAttribute("height"));n&&o&&(d&&e?m=[d/n,e/o]:d?m=[d/n,d/n]:e&&(m=[e/o,e/o]));var p,q,r,s,t=l.childNodes;for(p=0,q=t.length;q>p;p++)r=t[p],r.tagName&&"PATH"===r.tagName.toUpperCase()&&(s=i(r.getAttribute("d").split(" ")),s[0]=s[0]*m[0]+b,s[1]=s[1]*m[1]+c,this.lines.call(this,s[2],s[0],s[1],m));return this},a.addSVG=a.addSvg,a.addSvgAsImage=function(a,b,c,d,e,f,g,h){if(isNaN(b)||isNaN(c))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(d)||isNaN(e))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var i=document.createElement("canvas");i.width=d,i.height=e;var j=i.getContext("2d");return j.fillStyle="#fff",j.fillRect(0,0,i.width,i.height),canvg(i,a,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(i.toDataURL("image/jpeg",1),b,c,d,e,g,h),this}}(h.API),function(a){a.putTotalPages=function(a){var b,c=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(b=new RegExp(a,"g"),c=this.internal.getNumberOfPages()):(b=new RegExp(this.pdfEscape16(a,this.internal.getFont()),"g"),c=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var d=1;d<=this.internal.getNumberOfPages();d++)for(var e=0;e<this.internal.pages[d].length;e++)this.internal.pages[d][e]=this.internal.pages[d][e].replace(b,c);return this}}(h.API),function(b){b.viewerPreferences=function(b,c){function d(a,b){var c,d=!1;for(c=0;c<a.length;c+=1)a[c]===b&&(d=!0);return d}b=b||{},c=c||!1;var e,f,g,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},i=Object.keys(h),j=[],k=0,l=0,m=0,n=!0;if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,"reset"===b||c===!0){var o=i.length;for(m=0;o>m;m+=1)e[i[m]].value=e[i[m]].defaultValue,e[i[m]].explicitSet=!1}if("object"===a(b))for(f in b)if(g=b[f],d(i,f)&&void 0!==g){if("boolean"===e[f].type&&"boolean"==typeof g)e[f].value=g;else if("name"===e[f].type&&d(e[f].valueSet,g))e[f].value=g;else if("integer"===e[f].type&&Number.isInteger(g))e[f].value=g;else if("array"===e[f].type){for(k=0;k<g.length;k+=1)if(n=!0,1===g[k].length&&"number"==typeof g[k][0])j.push(String(g[k]-1));else if(g[k].length>1){for(l=0;l<g[k].length;l+=1)"number"!=typeof g[k][l]&&(n=!1);n===!0&&j.push([g[k][0]-1,g[k][1]-1].join(" "))}e[f].value="["+j.join(" ")+"]"}else e[f].value=e[f].defaultValue;e[f].explicitSet=!0}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var a,b=[];for(a in e)e[a].explicitSet===!0&&b.push("name"===e[a].type?"/"+a+" /"+e[a].value:"/"+a+" "+e[a].value);0!==b.length&&this.internal.write("/ViewerPreferences\n<<\n"+b.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this}}(h.API),function(a){var b="",c="",d="";a.addMetadata=function(a,e){return c=e||"http://jspdf.default.namespaceuri/",b=a,this.internal.events.subscribe("postPutResources",function(){if(b){var a='<x:xmpmeta xmlns:x="adobe:ns:meta/">',e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+c+'"><jspdf:metadata>',f="</jspdf:metadata></rdf:Description></rdf:RDF>",g="</x:xmpmeta>",h=unescape(encodeURIComponent(a)),i=unescape(encodeURIComponent(e)),j=unescape(encodeURIComponent(b)),k=unescape(encodeURIComponent(f)),l=unescape(encodeURIComponent(g)),m=i.length+j.length+k.length+h.length+l.length;d=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(h+i+j+k+l),this.internal.write("endstream"),this.internal.write("endobj")}else d=""}),this.internal.events.subscribe("putCatalog",function(){d&&this.internal.write("/Metadata "+d+" 0 R")}),this}}(h.API),function(a){function b(a){for(var b="",c=0;c<a.length;c++)b+=""+a.charCodeAt(c).toString(16);return b}var c=a.API,d=c.pdfEscape16=function(a,b){for(var c,d=b.metadata.Unicode.widths,e=["","0","00","000","0000"],f=[""],g=0,h=a.length;h>g;++g){if(c=b.metadata.characterToGlyph(a.charCodeAt(g)),b.metadata.glyIdsUsed.push(c),b.metadata.toUnicode[c]=a.charCodeAt(g),-1==d.indexOf(c)&&(d.push(c),d.push([parseInt(b.metadata.widthOfGlyph(c),10)])),"0"==c)return f.join("");c=c.toString(16),f.push(e[4-c.length],c)}return f.join("")},e=function(a){var b,c,d,e,f,g,h;for(f="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",c=Object.keys(a).sort(function(a,b){return a-b}),d=[],g=0,h=c.length;h>g;g++)b=c[g],d.length>=100&&(f+="\n"+d.length+" beginbfchar\n"+d.join("\n")+"\nendbfchar",d=[]),e=("0000"+a[b].toString(16)).slice(-4),b=("0000"+(+b).toString(16)).slice(-4),d.push("<"+b+"><"+e+">");return d.length&&(f+="\n"+d.length+" beginbfchar\n"+d.join("\n")+"\nendbfchar\n"),f+="endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"},f=function(b,c,d,f){if(b.metadata instanceof a.API.TTFFont&&"Identity-H"===b.encoding){for(var g=b.metadata.Unicode.widths,h=b.metadata.subset.encode(b.metadata.glyIdsUsed,1),i=h,j="",k=0;k<i.length;k++)j+=String.fromCharCode(i[k]);var l=d();f({data:j,addLength1:!0}),c("endobj");var m=d(),n=e(b.metadata.toUnicode);f({data:n,addLength1:!0}),c("endobj");var o=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+b.fontName),c("/FontFile2 "+l+" 0 R"),c("/FontBBox "+a.API.PDFObject.convert(b.metadata.bbox)),c("/Flags "+b.metadata.flags),c("/StemV "+b.metadata.stemV),c("/ItalicAngle "+b.metadata.italicAngle),c("/Ascent "+b.metadata.ascender),c("/Descent "+b.metadata.decender),c("/CapHeight "+b.metadata.capHeight),c(">>"),c("endobj");var p=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+b.fontName),c("/FontDescriptor "+o+" 0 R"),c("/W "+a.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+b.encoding+")"),c(">>"),c(">>"),c("endobj"),b.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+m+" 0 R"),c("/BaseFont /"+b.fontName),c("/Encoding /"+b.encoding),c("/DescendantFonts ["+p+" 0 R]"),c(">>"),c("endobj"),b.isAlreadyPutted=!0}};c.events.push(["putFont",function(a){f(a.font,a.out,a.newObject,a.putStream)}]);var g=function(b,c,d,f){if(b.metadata instanceof a.API.TTFFont&&"WinAnsiEncoding"===b.encoding){for(var g=(b.metadata.Unicode.widths,b.metadata.rawData),h=g,i="",j=0;j<h.length;j++)i+=String.fromCharCode(h[j]);var k=d();f({data:i,addLength1:!0}),c("endobj");var l=d(),m=e(b.metadata.toUnicode);f({data:m,addLength1:!0}),c("endobj");var n=d();c("<<"),c("/Descent "+b.metadata.decender),c("/CapHeight "+b.metadata.capHeight),c("/StemV "+b.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+k+" 0 R"),c("/Flags 96"),c("/FontBBox "+a.API.PDFObject.convert(b.metadata.bbox)),c("/FontName /"+b.fontName),c("/ItalicAngle "+b.metadata.italicAngle),c("/Ascent "+b.metadata.ascender),c(">>"),c("endobj"),b.objectNumber=d();for(var j=0;j<b.metadata.hmtx.widths.length;j++)b.metadata.hmtx.widths[j]=parseInt(b.metadata.hmtx.widths[j]*(1e3/b.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+l+" 0 R/BaseFont/"+b.fontName+"/FontDescriptor "+n+" 0 R/Encoding/"+b.encoding+" /FirstChar 29 /LastChar 255 /Widths "+a.API.PDFObject.convert(b.metadata.hmtx.widths)+">>"),c("endobj"),b.isAlreadyPutted=!0}};c.events.push(["putFont",function(a){g(a.font,a.out,a.newObject,a.putStream)}]);var h=function(a){var c,e,f=a.text||"",g=a.x,h=a.y,i=a.options||{},j=a.mutex||{},k=j.pdfEscape,l=j.activeFontKey,m=j.fonts,n=(j.activeFontSize,""),o=0,p="",c=l,q=m[c].encoding;if("Identity-H"!==m[c].encoding)return{text:f,x:g,y:h,options:i,mutex:j};for(p=f,c=l,"[object Array]"===Object.prototype.toString.call(f)&&(p=f[0]),o=0;o<p.length;o+=1)m[c].metadata.hasOwnProperty("cmap")&&(e=m[c].metadata.cmap.unicode.codeMap[p[o].charCodeAt(0)]),n+=e?p[o]:p[o].charCodeAt(0)<256&&m[c].metadata.hasOwnProperty("Unicode")?p[o]:"";var r="";return parseInt(c.slice(1))<14||"WinAnsiEncoding"===q?r=b(k(n,c)):"Identity-H"===q&&(r=d(n,m[c])),j.isHex=!0,{text:r,x:g,y:h,options:i,mutex:j}},i=function(a){var b=a.text||"",c=a.x,d=a.y,e=a.options,f=a.mutex,g=(e.lang,[]),i={text:b,x:c,y:d,options:e,mutex:f};if("[object Array]"===Object.prototype.toString.call(b)){var j=0;for(j=0;j<b.length;j+=1)g.push("[object Array]"===Object.prototype.toString.call(b[j])?3===b[j].length?[h(Object.assign({},i,{text:b[j][0]})).text,b[j][1],b[j][2]]:h(Object.assign({},i,{text:b[j]})).text:h(Object.assign({},i,{text:b[j]})).text);a.text=g}else a.text=h(Object.assign({},i,{text:b})).text};c.events.push(["postProcessText",i])}(h,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),function(a){var b=function(a){return"undefined"==typeof a?!1:("undefined"==typeof a.vFS&&(a.vFS={}),!0)};a.existsFileInVFS=function(a){return b(this.internal)?"undefined"!=typeof this.internal.vFS[a]:!1},a.addFileToVFS=function(a,c){return b(this.internal),this.internal.vFS[a]=c,this},a.getFileFromVFS=function(a){return b(this.internal),"undefined"!=typeof this.internal.vFS[a]?this.internal.vFS[a]:null}}(h.API),function(a){a.addHTML=function(a,b,c,d,e){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof b&&(d=b,e=c),"function"==typeof d&&(e=d,d=null),"function"!=typeof e&&(e=function(){});var f=this.internal,g=f.scaleFactor,h=f.pageSize.getWidth(),i=f.pageSize.getHeight();if(d=d||{},d.onrendered=function(a){b=parseInt(b)||0,c=parseInt(c)||0;var f=d.dim||{},j=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},d.margin),k=f.h||Math.min(i,a.height/g),l=f.w||Math.min(h,a.width/g)-b,m=d.format||"JPEG",n=d.imageCompression||"SLOW",o=a.height>i-j.top-j.bottom;if(o&&d.pagesplit){var p=function(a,b,c,e,f){var g=document.createElement("canvas");g.height=f,g.width=e;var h=g.getContext("2d");return h.mozImageSmoothingEnabled=!1,h.webkitImageSmoothingEnabled=!1,h.msImageSmoothingEnabled=!1,h.imageSmoothingEnabled=!1,h.fillStyle=d.backgroundColor||"#ffffff",h.fillRect(0,0,e,f),h.drawImage(a,b,c,e,f,0,0,e,f),g},q=function(){for(var d,f,k=0,o=0,q={},r=!1;;){if(o=0,q.top=0!==k?j.top:c,q.left=0!==k?j.left:b,r=(h-j.left-j.right)*g<a.width,"content"===j.useFor?0===k?(d=Math.min((h-j.left)*g,a.width),f=Math.min((i-j.top)*g,a.height-k)):(d=Math.min(h*g,a.width),f=Math.min(i*g,a.height-k),q.top=0):(d=Math.min((h-j.left-j.right)*g,a.width),f=Math.min((i-j.bottom-j.top)*g,a.height-k)),r)for(;;){"content"===j.useFor&&(0===o?d=Math.min((h-j.left)*g,a.width):(d=Math.min(h*g,a.width-o),q.left=0));var s=p(a,o,k,d,f),t=[s,q.left,q.top,s.width/g,s.height/g,m,null,n];if(this.addImage.apply(this,t),o+=d,o>=a.width)break;this.addPage()}else{var s=p(a,0,k,d,f),t=[s,q.left,q.top,s.width/g,s.height/g,m,null,n];this.addImage.apply(this,t)}if(k+=f,k>=a.height)break;this.addPage()}e(l,k,null,t)}.bind(this);if("CANVAS"===a.nodeName){var r=new Image;r.onload=q,r.src=a.toDataURL("image/png"),a=r}else q()}else{var s=Math.random().toString(35),t=[a,b,c,l,k,m,s,n];this.addImage.apply(this,t),e(l,k,s,t)}}.bind(this),"undefined"!=typeof html2canvas&&!d.rstz)return html2canvas(a,d);if("undefined"!=typeof rasterizeHTML){var j="drawDocument";return"string"==typeof a&&(j=/^http/.test(a)?"drawURL":"drawHTML"),d.width=d.width||h*g,rasterizeHTML[j](a,void 0,d).then(function(a){d.onrendered(a.image)},function(a){e(null,a)})}return null}}(h.API),function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;c=function(){function a(){}return function(b){return a.prototype=b,new a}}(),l=function(a){var b,c,d,e,f,g,h;for(c=0,d=a.length,b=void 0,e=!1,g=!1;!e&&c!==d;)b=a[c]=a[c].trimLeft(),b&&(e=!0),c++;for(c=d-1;d&&!g&&-1!==c;)b=a[c]=a[c].trimRight(),b&&(g=!0),c--;for(f=/\s+$/g,h=!0,c=0;c!==d;)"\u2028"!=a[c]&&(b=a[c].replace(/\s+/g," "),h&&(b=b.trimLeft()),b&&(h=f.test(b)),a[c]=b),c++;return a},m=function(a,b,c,d){return this.pdf=a,this.x=b,this.y=c,this.settings=d,this.watchFunctions=[],this.init(),this},n=function(a){var b,c,d;for(b=void 0,d=a.split(","),c=d.shift();!b&&c;)b=e[c.trim().toLowerCase()],c=d.shift();return b},o=function(a){a="auto"===a?"0px":a,a.indexOf("em")>-1&&!isNaN(Number(a.replace("em","")))&&(a=18.719*Number(a.replace("em",""))+"px"),a.indexOf("pt")>-1&&!isNaN(Number(a.replace("pt","")))&&(a=1.333*Number(a.replace("pt",""))+"px");var b,c,d;return c=void 0,b=16,(d=p[a])?d:(d={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[a],d!==c?p[a]=d/b:(d=parseFloat(a))?p[a]=d/b:(d=a.match(/([\d\.]+)(px)/),p[a]=Array.isArray(d)&&3===d.length?parseFloat(d[1])/b:1))},k=function(a){var b,c,d;return d=function(a){var b;return b=function(a){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,null):a.currentStyle?a.currentStyle:a.style}(a),function(a){return a=a.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()}),b[a]}}(a),b={},c=void 0,b["font-family"]=n(d("font-family"))||"times",b["font-style"]=f[d("font-style")]||"normal",b["text-align"]=g[d("text-align")]||"left",c=h[d("font-weight")]||"normal","bold"===c&&(b["font-style"]="normal"===b["font-style"]?c:c+b["font-style"]),b["font-size"]=o(d("font-size"))||1,b["line-height"]=o(d("line-height"))||1,b.display="inline"===d("display")?"inline":"block",c="block"===b.display,b["margin-top"]=c&&o(d("margin-top"))||0,b["margin-bottom"]=c&&o(d("margin-bottom"))||0,b["padding-top"]=c&&o(d("padding-top"))||0,b["padding-bottom"]=c&&o(d("padding-bottom"))||0,b["margin-left"]=c&&o(d("margin-left"))||0,b["margin-right"]=c&&o(d("margin-right"))||0,b["padding-left"]=c&&o(d("padding-left"))||0,b["padding-right"]=c&&o(d("padding-right"))||0,b["page-break-before"]=d("page-break-before")||"auto",b["float"]=i[d("cssFloat")]||"none",b.clear=j[d("clear")]||"none",b.color=d("color"),b},q=function(a,b,c){var d,e,f,g,h;if(f=!1,e=void 0,g=void 0,d=c["#"+a.id])if("function"==typeof d)f=d(a,b);else for(e=0,g=d.length;!f&&e!==g;)f=d[e](a,b),e++;if(d=c[a.nodeName],!f&&d)if("function"==typeof d)f=d(a,b);else for(e=0,g=d.length;!f&&e!==g;)f=d[e](a,b),e++;for(h="string"==typeof a.className?a.className.split(" "):[],e=0;e<h.length;e++)if(d=c["."+h[e]],!f&&d)if("function"==typeof d)f=d(a,b);else for(e=0,g=d.length;!f&&e!==g;)f=d[e](a,b),e++;return f},v=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=[],d=[],e=0,l=a.rows[0].cells.length,j=a.clientWidth;l>e;)k=a.rows[0].cells[e],d[e]={name:k.textContent.toLowerCase().replace(/\s+/g,""),prompt:k.textContent.replace(/\r?\n/g,""),width:k.clientWidth/j*b.pdf.internal.pageSize.getWidth()},e++;for(e=1;e<a.rows.length;){for(h=a.rows[e],g={},f=0;f<h.cells.length;)g[d[f].name]=h.cells[f].textContent.replace(/\r?\n/g,""),f++;c.push(g),e++}return i={rows:c,headers:d}};var w={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},x=1;d=function(b,e,f){var g,h,i,j,l,m,n,o;for(h=b.childNodes,g=void 0,i=k(b),l="block"===i.display,l&&(e.setBlockBoundary(),e.setBlockStyle(i)),j=0,m=h.length;m>j;){if(g=h[j],"object"===a(g)){if(e.executeWatchFunctions(g),1===g.nodeType&&"HEADER"===g.nodeName){var p=g,s=e.pdf.margins_doc.top;e.pdf.internal.events.subscribe("addPage",function(){e.y=s,d(p,e,f),e.pdf.margins_doc.top=e.y+10,e.y+=10},!1)}if(8===g.nodeType&&"#comment"===g.nodeName)~g.textContent.indexOf("ADD_PAGE")&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top);else if(1!==g.nodeType||w[g.nodeName])if(3===g.nodeType){var t=g.nodeValue;if(g.nodeValue&&"LI"===g.parentNode.nodeName)if("OL"===g.parentNode.parentNode.nodeName)t=x++ +". "+t;else{var u=i["font-size"],y=(3-.75*u)*e.pdf.internal.scaleFactor,z=.75*u*e.pdf.internal.scaleFactor,A=1.74*u/e.pdf.internal.scaleFactor;o=function(a,b){this.pdf.circle(a+y,b+z,A,"FD")}}16&g.ownerDocument.body.compareDocumentPosition(g)&&e.addText(t,i)}else"string"==typeof g&&e.addText(g,i);else{var B;if("IMG"===g.nodeName){var C=g.getAttribute("src");B=r[e.pdf.sHashCode(C)||C]}if(B){e.pdf.internal.pageSize.getHeight()-e.pdf.margins_doc.bottom<e.y+g.height&&e.y>e.pdf.margins_doc.top&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top,e.executeWatchFunctions(g));var D=k(g),E=e.x,F=12/e.pdf.internal.scaleFactor,G=(D["margin-left"]+D["padding-left"])*F,H=(D["margin-right"]+D["padding-right"])*F,I=(D["margin-top"]+D["padding-top"])*F,J=(D["margin-bottom"]+D["padding-bottom"])*F;E+=void 0!==D["float"]&&"right"===D["float"]?e.settings.width-g.width-H:G,e.pdf.addImage(B,E,e.y+I,g.width,g.height),B=void 0,"right"===D["float"]||"left"===D["float"]?(e.watchFunctions.push(function(a,b,c,d){return e.y>=b?(e.x+=a,e.settings.width+=c,!0):d&&1===d.nodeType&&!w[d.nodeName]&&e.x+d.width>e.pdf.margins_doc.left+e.pdf.margins_doc.width?(e.x+=a,e.y=b,e.settings.width+=c,!0):!1}.bind(this,"left"===D["float"]?-g.width-G-H:0,e.y+g.height+I+J,g.width)),e.watchFunctions.push(function(a,b,c){return e.y<a&&b===e.pdf.internal.getNumberOfPages()?1===c.nodeType&&"both"===k(c).clear?(e.y=a,!0):!1:!0}.bind(this,e.y+g.height,e.pdf.internal.getNumberOfPages())),e.settings.width-=g.width+G+H,"left"===D["float"]&&(e.x+=g.width+G+H)):e.y+=g.height+I+J}else if("TABLE"===g.nodeName)n=v(g,e),e.y+=10,e.pdf.table(e.x,e.y,n.rows,n.headers,{autoSize:!1,printHeaders:f.printHeaders,margins:e.pdf.margins_doc,css:k(g)}),e.y=e.pdf.lastCellPos.y+e.pdf.lastCellPos.h+20;else if("OL"===g.nodeName||"UL"===g.nodeName)x=1,q(g,e,f)||d(g,e,f),e.y+=10;else if("LI"===g.nodeName){var K=e.x;e.x+=20/e.pdf.internal.scaleFactor,e.y+=3,q(g,e,f)||d(g,e,f),e.x=K}else"BR"===g.nodeName?(e.y+=i["font-size"]*e.pdf.internal.scaleFactor,e.addText("\u2028",c(i))):q(g,e,f)||d(g,e,f)}}j++}return f.outY=e.y,l?e.setBlockBoundary(o):void 0},r={},s=function(a,b,c,d){function e(){b.pdf.internal.events.publish("imagesLoaded"),d(g)}function f(a,c,d){if(a){var f=new Image;g=++j,f.crossOrigin="",f.onerror=f.onload=function(){if(f.complete&&(0===f.src.indexOf("data:image/")&&(f.width=c||f.width||0,f.height=d||f.height||0),f.width+f.height)){var g=b.pdf.sHashCode(a)||a;r[g]=r[g]||f}--j||e()},f.src=a}}for(var g,h=a.getElementsByTagName("img"),i=h.length,j=0;i--;)f(h[i].getAttribute("src"),h[i].width,h[i].height);return j||e()},t=function(a,b,c){var e=a.getElementsByTagName("footer");if(e.length>0){e=e[0];var f=b.pdf.internal.write,g=b.y;b.pdf.internal.write=function(){},d(e,b,c);var h=Math.ceil(b.y-g)+5;b.y=g,b.pdf.internal.write=f,b.pdf.margins_doc.bottom+=h;for(var i=function(a){var f=void 0!==a?a.pageNumber:1,g=b.y;b.y=b.pdf.internal.pageSize.getHeight()-b.pdf.margins_doc.bottom,b.pdf.margins_doc.bottom-=h;for(var i=e.getElementsByTagName("span"),j=0;j<i.length;++j)(" "+i[j].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(i[j].innerHTML=f),(" "+i[j].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(i[j].innerHTML="###jsPDFVarTotalPages###");d(e,b,c),b.pdf.margins_doc.bottom+=h,b.y=g},j=e.getElementsByTagName("span"),k=0;k<j.length;++k)(" "+j[k].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&b.pdf.internal.events.subscribe("htmlRenderingFinished",b.pdf.putTotalPages.bind(b.pdf,"###jsPDFVarTotalPages###"),!0);b.pdf.internal.events.subscribe("addPage",i,!1),i(),w.FOOTER=1}},u=function(a,b,c,e,f,g){if(!b)return!1;"string"==typeof b||b.parentNode||(b=""+b.innerHTML),"string"==typeof b&&(b=function(a){var b,c,d,e;return d="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),e="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",c=document.createElement("div"),c.style.cssText=e,c.innerHTML='<iframe style="height:1px;width:1px" name="'+d+'" />',document.body.appendChild(c),b=window.frames[d],b.document.open(),b.document.writeln(a),b.document.close(),b.document.body}(b.replace(/<\/?script[^>]*?>/gi,"")));var h,i=new m(a,c,e,f);return s.call(this,b,i,f.elementHandlers,function(a){t(b,i,f.elementHandlers),d(b,i,f.elementHandlers),i.pdf.internal.events.publish("htmlRenderingFinished"),h=i.dispose(),"function"==typeof g?g(h):a&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),h||{x:i.x,y:i.y}},m.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},m.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},m.prototype.executeWatchFunctions=function(a){var b=!1,c=[];if(this.watchFunctions.length>0){for(var d=0;d<this.watchFunctions.length;++d)this.watchFunctions[d](a)===!0?b=!0:c.push(this.watchFunctions[d]);this.watchFunctions=c}return b},m.prototype.splitFragmentsIntoLines=function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(e=12,n=this.pdf.internal.scaleFactor,h={},f=void 0,m=void 0,g=void 0,i=void 0,r=void 0,l=void 0,k=void 0,j=void 0,o=[],p=[o],d=0,q=this.settings.width;a.length;)if(i=a.shift(),r=b.shift(),i)if(f=r["font-family"],m=r["font-style"],g=h[f+m],g||(g=this.pdf.internal.getFont(f,m).metadata.Unicode,h[f+m]=g),l={widths:g.widths,kerning:g.kerning,fontSize:r["font-size"]*e,textIndent:d},k=this.pdf.getStringUnitWidth(i,l)*l.fontSize/n,"\u2028"==i)o=[],p.push(o);else if(d+k>q){for(j=this.pdf.splitTextToSize(i,q,l),o.push([j.shift(),r]);j.length;)o=[[j.shift(),r]],p.push(o);d=this.pdf.getStringUnitWidth(o[0][0],l)*l.fontSize/n}else o.push([i,r]),d+=k;if(void 0!==r["text-align"]&&("center"===r["text-align"]||"right"===r["text-align"]||"justify"===r["text-align"]))for(var s=0;s<p.length;++s){var t=this.pdf.getStringUnitWidth(p[s][0][0],l)*l.fontSize/n;s>0&&(p[s][0][1]=c(p[s][0][1]));var u=q-t;if("right"===r["text-align"])p[s][0][1]["margin-left"]=u;else if("center"===r["text-align"])p[s][0][1]["margin-left"]=u/2;else if("justify"===r["text-align"]){var v=p[s][0][0].split(" ").length-1;p[s][0][1]["word-spacing"]=u/v,s===p.length-1&&(p[s][0][1]["word-spacing"]=0)}}return p},m.prototype.RenderTextFragment=function(a,b){var c,d,e;e=0,c=12,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(b.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),e=Math.max(e,b["line-height"],b["font-size"]),this.pdf.internal.write(0,(-1*c*e).toFixed(2),"Td")),d=this.pdf.internal.getFont(b["font-family"],b["font-style"]);var f=this.getPdfColor(b.color);f!==this.lastTextColor&&(this.pdf.internal.write(f),this.lastTextColor=f),void 0!==b["word-spacing"]&&b["word-spacing"]>0&&this.pdf.internal.write(b["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+d.id,(c*b["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(a)+") Tj"),void 0!==b["word-spacing"]&&this.pdf.internal.write(0,"Tw")},m.prototype.getPdfColor=function(a){var b,c,d,e,f=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/,g=f.exec(a);if(null!=g)c=parseInt(g[1]),d=parseInt(g[2]),e=parseInt(g[3]);else{if("string"==typeof a&&"#"!=a.charAt(0)){var h=new RGBColor(a);a=h.ok?h.toHex():"#000000"}c=a.substring(1,3),c=parseInt(c,16),d=a.substring(3,5),d=parseInt(d,16),e=a.substring(5,7),e=parseInt(e,16)}if("string"==typeof c&&/^#[0-9A-Fa-f]{6}$/.test(c)){var i=parseInt(c.substr(1),16);c=i>>16&255,d=i>>8&255,e=255&i}var j=this.f3;return b=0===c&&0===d&&0===e||"undefined"==typeof d?j(c/255)+" g":[j(c/255),j(d/255),j(e/255),"rg"].join(" ")},m.prototype.f3=function(a){return a.toFixed(3)},m.prototype.renderParagraph=function(a){var b,c,d,e,f,g,h,i,j,k,m,n,o,p,q;if(e=l(this.paragraph.text),p=this.paragraph.style,b=this.paragraph.blockstyle,o=this.paragraph.priorblockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:b},e.join("").trim()){i=this.splitFragmentsIntoLines(e,p),h=void 0,j=void 0,c=12,d=c/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,n=(Math.max((b["margin-top"]||0)-this.priorMarginBottom,0)+(b["padding-top"]||0))*d,m=((b["margin-bottom"]||0)+(b["padding-bottom"]||0))*d,this.priorMarginBottom=b["margin-bottom"]||0,"always"===b["page-break-before"]&&(this.pdf.addPage(),this.y=0,n=((b["margin-top"]||0)+(b["padding-top"]||0))*d),k=this.pdf.internal.write,f=void 0,g=void 0,this.y+=n,k("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var r=0;i.length;){for(h=i.shift(),j=0,f=0,g=h.length;f!==g;)h[f][0].trim()&&(j=Math.max(j,h[f][1]["line-height"],h[f][1]["font-size"]),q=7*h[f][1]["font-size"]),f++;var s=0,t=0;void 0!==h[0][1]["margin-left"]&&h[0][1]["margin-left"]>0&&(t=this.pdf.internal.getCoordinateString(h[0][1]["margin-left"]),s=t-r,r=t);var u=Math.max(b["margin-left"]||0,0)*d;for(k(s+u,(-1*c*j).toFixed(2),"Td"),f=0,g=h.length;f!==g;)h[f][0]&&this.RenderTextFragment(h[f][0],h[f][1]),f++;if(this.y+=j*d,this.executeWatchFunctions(h[0][1])&&i.length>0){var v=[],w=[];i.forEach(function(a){for(var b=0,c=a.length;b!==c;)a[b][0]&&(v.push(a[b][0]+" "),w.push(a[b][1])),++b}),i=this.splitFragmentsIntoLines(l(v),w),k("ET","Q"),k("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return a&&"function"==typeof a&&a.call(this,this.x-9,this.y-q/2),
k("ET","Q"),this.y+=m}},m.prototype.setBlockBoundary=function(a){return this.renderParagraph(a)},m.prototype.setBlockStyle=function(a){return this.paragraph.blockstyle=a},m.prototype.addText=function(a,b){return this.paragraph.text.push(a),this.paragraph.style.push(b)},e={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},h={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},f={normal:"normal",italic:"italic",oblique:"italic"},g={left:"left",right:"right",center:"center",justify:"justify"},i={none:"none",right:"right",left:"left"},j={none:"none",both:"both"},p={normal:1},b.fromHTML=function(a,b,c,d,e,f){return this.margins_doc=f||{top:0,bottom:0},d||(d={}),d.elementHandlers||(d.elementHandlers={}),u(this,a,isNaN(b)?4:b,isNaN(c)?4:c,d,e)}}(h.API),function(a,b){b.html2pdf=function(a,b,c){var d=b.canvas;if(!d)return void alert("jsPDF canvas plugin not installed");d.pdf=b,b.annotations={_nameMap:[],createAnnotation:function(a,c){var d,e=b.context2d._wrapX(c.left),f=b.context2d._wrapY(c.top),g=(b.context2d._page(c.top),a.indexOf("#"));d=g>=0?{name:a.substring(g+1)}:{url:a},b.link(e,f,c.right-c.left,c.bottom-c.top,d)},setName:function(a,c){var d=b.context2d._wrapX(c.left),e=b.context2d._wrapY(c.top),f=b.context2d._page(c.top);this._nameMap[a]={page:f,x:d,y:e}}},d.annotations=b.annotations,b.context2d._pageBreakAt=function(a){this.pageBreaks.push(a)},b.context2d._gotoPage=function(a){for(;b.internal.getNumberOfPages()<a;)b.addPage();b.setPage(a)};var e,f;if("string"==typeof a){a=a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var g=document.createElement("iframe");document.body.appendChild(g);var h,i;h=g.contentDocument,(void 0==h||null==h)&&(h=g.contentWindow.document),h.open(),h.write(a),h.close(),e=h.body,i=h.body||{},a=h.documentElement||{},f=Math.max(i.scrollHeight,i.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)}else e=a,i=a.body||{},f=Math.max(i.scrollHeight,i.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);f=b.internal.pageSize.getHeight();var j={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:d,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:f,scrollY:f};b.context2d.pageWrapYEnabled=!0,b.context2d.pageWrapY=b.internal.pageSize.getHeight();html2canvas(e,j).then(function(){c&&(g&&g.parentElement.removeChild(g),c(b))})}}(h.API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),window.tmp=html2pdf,function(a){function b(a){return a.map(function(a){if(a.buffer instanceof ArrayBuffer){var b=a.buffer;if(a.byteLength!==b.byteLength){var c=new Uint8Array(a.byteLength);c.set(new Uint8Array(b,a.byteOffset,a.byteLength)),b=c.buffer}return b}return a})}function c(a,c){c=c||{};var d=new g;return b(a).forEach(function(a){d.append(a)}),c.type?d.getBlob(c.type):d.getBlob()}function d(a,c){return new h(b(a),c||{})}function e(){function b(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b.push(d):2048>d?b.push(192|d>>6,128|63&d):55296>d||d>=57344?b.push(224|d>>12,128|d>>6&63,128|63&d):(c++,d=65536+((1023&d)<<10|1023&a.charCodeAt(c)),b.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d))}return b}function c(a){var b,c,d,e,f,g;for(b="",d=a.length,c=0;d>c;)switch(e=a[c++],e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:b+=String.fromCharCode(e);break;case 12:case 13:f=a[c++],b+=String.fromCharCode((31&e)<<6|63&f);break;case 14:f=a[c++],g=a[c++],b+=String.fromCharCode((15&e)<<12|(63&f)<<6|(63&g)<<0)}return b}function d(a){return a&&DataView.prototype.isPrototypeOf(a)}function e(a){for(var b=new Array(a.byteLength),c=new Uint8Array(a),d=b.length;d--;)b[d]=c[d];return b}function f(a){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,i=h?a[d+2]:0,j=e>>2,k=(3&e)<<4|g>>4,l=(15&g)<<2|i>>6,m=63&i;h||(m=64,f||(l=64)),c.push(b[j],b[k],b[l],b[m])}return c.join("")}function g(a,c){a=a||[];for(var f=0,h=a.length;h>f;f++){var i=a[f];a[f]=i instanceof g?i._buffer:"string"==typeof i?b(i):n&&(ArrayBuffer.prototype.isPrototypeOf(i)||p(i))?e(i):n&&d(i)?e(i.buffer):b(String(i))}this._buffer=[].concat.apply([],a),this.size=this._buffer.length,this.type=c?c.type||"":""}function h(a,b,c){c=c||{};var d=g.call(this,a,c)||this;return d.name=b,d.lastModifiedDate=c.lastModified?new Date(c.lastModified):new Date,d.lastModified=+d.lastModifiedDate,d}function k(){if(!(this instanceof k))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var a=document.createDocumentFragment();this.addEventListener=a.addEventListener,this.dispatchEvent=function(b){var c=this["on"+b.type];"function"==typeof c&&c(b),a.dispatchEvent(b)},this.removeEventListener=a.removeEventListener}function l(a,b,c){if(!(b instanceof g))throw new TypeError("Failed to execute '"+c+"' on 'FileReader': parameter 1 is not of type 'Blob'.");a.result="",setTimeout(function(){this.readyState=k.LOADING,a.dispatchEvent(new Event("load")),a.dispatchEvent(new Event("loadend"))})}var m=Object.create||function(a){function b(){}return b.prototype=a,new b};if(n)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(a){return a&&o.indexOf(Object.prototype.toString.call(a))>-1};if(g.prototype.slice=function(a,b,c){var d=this._buffer.slice(a||0,b||this._buffer.length);return new g([d],{type:c})},g.prototype.toString=function(){return"[object Blob]"},h.prototype=m(g.prototype),h.prototype.constructor=h,Object.setPrototypeOf)Object.setPrototypeOf(h,g);else try{h.__proto__=g}catch(q){}h.prototype.toString=function(){return"[object File]"},k.EMPTY=0,k.LOADING=1,k.DONE=2,k.prototype.error=null,k.prototype.onabort=null,k.prototype.onerror=null,k.prototype.onload=null,k.prototype.onloadend=null,k.prototype.onloadstart=null,k.prototype.onprogress=null,k.prototype.readAsDataURL=function(a){l(this,a,"readAsDataURL"),this.result="data:"+a.type+";base64,"+f(a._buffer)},k.prototype.readAsText=function(a){l(this,a,"readAsText"),this.result=c(a._buffer)},k.prototype.readAsArrayBuffer=function(a){l(this,a,"readAsText"),this.result=a._buffer.slice()},k.prototype.abort=function(){},URL.createObjectURL=function(a){return a instanceof g?"data:"+a.type+";base64,"+f(a._buffer):i.call(URL,a)},URL.revokeObjectURL=function(a){j&&j.call(URL,a)};var r=a.XMLHttpRequest&&a.XMLHttpRequest.prototype.send;r&&(XMLHttpRequest.prototype.send=function(a){a instanceof g?(this.setRequestHeader("Content-Type",a.type),r.call(this,c(a._buffer))):r.call(this,a)}),a.FileReader=k,a.File=h,a.Blob=g}function f(){var b=!!a.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,c=a.XMLHttpRequest&&a.XMLHttpRequest.prototype.send;b&&c&&(XMLHttpRequest.prototype.send=function(a){a instanceof Blob?(this.setRequestHeader("Content-Type",a.type),c.call(this,a)):c.call(this,a)});try{new File([],"")}catch(d){try{var e=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();a.File=e}catch(d){var e=function(a,b,c){var d=new Blob(a,c),e=c&&void 0!==c.lastModified?new Date(c.lastModified):new Date;return d.name=b,d.lastModifiedDate=e,d.lastModified=+e,d.toString=function(){return"[object File]"},k&&(d[k]="File"),d};a.File=e}}}var g=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder;a.URL=a.URL||a.webkitURL||function(a,b){return b=document.createElement("a"),b.href=a,b};var h=a.Blob,i=URL.createObjectURL,j=URL.revokeObjectURL,k=a.Symbol&&a.Symbol.toStringTag,l=!1,m=!1,n=!!a.ArrayBuffer,o=g&&g.prototype.append&&g.prototype.getBlob;try{l=2===new Blob([""]).size,m=2===new Blob([new Uint8Array([1,2])]).size}catch(p){}if(a.Blob&&(c.prototype=Blob.prototype,d.prototype=Blob.prototype),k)try{File.prototype[k]="File",Blob.prototype[k]="Blob",FileReader.prototype[k]="FileReader"}catch(p){}l?(f(),a.Blob=m?a.Blob:d):o?(f(),a.Blob=c):e()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var i=i||function(a){if(!("undefined"==typeof a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),i=a.setImmediate||a.setTimeout,j=function(a){i(function(){throw a},0)},k="application/octet-stream",l=4e4,m=function(a){var b=function(){"string"==typeof a?c().revokeObjectURL(a):a.remove()};setTimeout(b,l)},n=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){j(f)}}},o=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},p=function(b,j,l){l||(b=o(b));var p,q=this,r=b.type,s=r===k,t=function(){n(q,"writestart progress write writeend".split(" "))},u=function(){if((h||s&&g)&&a.FileReader){var d=new FileReader;return d.onloadend=function(){var b=h?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;"),c=a.open(b,"_blank");c||(a.location.href=b),b=void 0,q.readyState=q.DONE,t()},d.readAsDataURL(b),void(q.readyState=q.INIT)}if(p||(p=c().createObjectURL(b)),s)a.location.href=p;else{var e=a.open(p,"_blank");e||(a.location.href=p)}q.readyState=q.DONE,t(),m(p)};return q.readyState=q.INIT,e?(p=c().createObjectURL(b),void i(function(){d.href=p,d.download=j,f(d),t(),m(p),q.readyState=q.DONE},0)):void u()},q=p.prototype,r=function(a,b,c){return new p(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=o(a)),navigator.msSaveOrOpenBlob(a,b)}:(q.abort=function(){},q.readyState=q.INIT=0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,r)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);try{exports.GifWriter=b,exports.GifReader=d}catch(j){}window.tmp=d,function(a,b){a.API.adler32cs=b()}(h,function(){var a="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,b=null,c=function(){if(!a)return function(){return!1};try{var c={};"function"==typeof c.Buffer&&(b=c.Buffer)}catch(d){}return function(a){return a instanceof ArrayBuffer||null!==b&&a instanceof b}}(),d=function(){return null!==b?function(a){return new b(a,"utf8").toString("binary")}:function(a){return unescape(encodeURIComponent(a))}}(),e=65521,f=function(a,b){for(var c=65535&a,d=a>>>16,f=0,g=b.length;g>f;f++)c=(c+(255&b.charCodeAt(f)))%e,d=(d+c)%e;return(d<<16|c)>>>0},g=function(a,b){for(var c=65535&a,d=a>>>16,f=0,g=b.length;g>f;f++)c=(c+b[f])%e,d=(d+c)%e;return(d<<16|c)>>>0},h={},i=h.Adler32=function(){var b=function(a){if(!(this instanceof b))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(a=null==a?1:+a))throw new Error("First arguments needs to be a finite number.");this.checksum=a>>>0},e=b.prototype={};return e.constructor=b,b.from=function(a){return a.prototype=e,a}(function(a){if(!(this instanceof b))throw new TypeError("Constructor cannot called be as a function.");if(null==a)throw new Error("First argument needs to be a string.");this.checksum=f(1,a.toString())}),b.fromUtf8=function(a){return a.prototype=e,a}(function(a){if(!(this instanceof b))throw new TypeError("Constructor cannot called be as a function.");if(null==a)throw new Error("First argument needs to be a string.");var c=d(a.toString());this.checksum=f(1,c)}),a&&(b.fromBuffer=function(a){return a.prototype=e,a}(function(a){if(!(this instanceof b))throw new TypeError("Constructor cannot called be as a function.");if(!c(a))throw new Error("First argument needs to be ArrayBuffer.");var d=new Uint8Array(a);return this.checksum=g(1,d)})),e.update=function(a){if(null==a)throw new Error("First argument needs to be a string.");return a=a.toString(),this.checksum=f(this.checksum,a)},e.updateUtf8=function(a){if(null==a)throw new Error("First argument needs to be a string.");var b=d(a.toString());return this.checksum=f(this.checksum,b)},a&&(e.updateBuffer=function(a){if(!c(a))throw new Error("First argument needs to be ArrayBuffer.");var b=new Uint8Array(a);return this.checksum=g(this.checksum,b)}),e.clone=function(){return new i(this.checksum)},b}();return h.from=function(a){if(null==a)throw new Error("First argument needs to be a string.");return f(1,a.toString())},h.fromUtf8=function(a){if(null==a)throw new Error("First argument needs to be a string.");var b=d(a.toString());return f(1,b)},a&&(h.fromBuffer=function(a){if(!c(a))throw new Error("First argument need to be ArrayBuffer.");var b=new Uint8Array(a);return g(1,b)}),h}),function(a){var b=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"];a.__bidiEngine__=a.prototype.__bidiEngine__=function(a){var b,d,e,f,g,h,i,j=c,k=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},n={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},o=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),q=!1,r=0,s=1,t=r;this.__bidiEngine__={};var u=function(a,b){if(b)for(var c=0;c<a.length;c++)b[c]=c;void 0===f&&(f=w(a)),void 0===h&&(h=w(a))},v=function(a){var b=a.charCodeAt(),c=b>>8,d=n[c];return void 0!==d?j[256*d+(255&b)]:252===c||253===c?"AL":p.test(c)?"L":8===c?"R":"N"},w=function(a){for(var b,c=0;c<a.length;c++){if(b=v(a.charAt(c)),"L"===b)return!1;if("R"===b)return!0}return!1},x=function(a,c,g,h){var i,j,k,l,m=c[h];switch(m){case"L":case"R":q=!1;break;case"N":case"AN":break;case"EN":q&&(m="AN");break;case"AL":q=!0,m="R";break;case"WS":m="N";break;case"CS":1>h||h+1>=c.length||"EN"!==(i=g[h-1])&&"AN"!==i||"EN"!==(j=c[h+1])&&"AN"!==j?m="N":q&&(j="AN"),m=j===i?j:"N";break;case"ES":i=h>0?g[h-1]:"B",m="EN"===i&&h+1<c.length&&"EN"===c[h+1]?"EN":"N";break;case"ET":if(h>0&&"EN"===g[h-1]){m="EN";break}if(q){m="N";break}for(k=h+1,l=c.length;l>k&&"ET"===c[k];)k++;m=l>k&&"EN"===c[k]?"EN":"N";break;case"NSM":if(e&&!f){for(l=c.length,k=h+1;l>k&&"NSM"===c[k];)k++;if(l>k){var n=a[h],o=n>=1425&&2303>=n||64286===n;if(i=c[k],o&&("R"===i||"AL"===i)){m="R";break}}}m=1>h||"B"===(i=c[h-1])?"N":g[h-1];break;case"B":q=!1,b=!0,m=t;break;case"S":d=!0,m="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":q=!1;break;case"BN":m="N"}return m},y=function(a,b,c){for(var d=0;c>d;d++)if("S"===a[d]){b[d]=t;for(var e=d-1;e>=0&&"WS"===a[e];e--)b[e]=t}},z=function(a,b,c){var d=a.split("");return c&&A(d,c,{hiLevel:t}),d.reverse(),b&&b.reverse(),d.join("")},A=function(a,c,e){var f,g,h,i,j,n,o=-1,p=a.length,r=0,s=[],u=t?l:k,w=[];for(q=!1,b=!1,d=!1,h=0;p>h;h++)w[h]=v(a[h]);for(i=0;p>i;i++){if(n=r,s[i]=x(a,w,s,i),r=u[n][m[s[i]]],f=240&r,r&=15,c[i]=j=u[r][5],f>0)if(16===f){for(h=o;i>h;h++)c[h]=1;o=-1}else o=-1;if(g=u[r][6])-1===o&&(o=i);else if(o>-1){for(h=o;i>h;h++)c[h]=j;o=-1}"B"===w[i]&&(c[i]=0),e.hiLevel|=j}d&&y(w,c,p)},B=function(a,c,d,e,f){if(!(f.hiLevel<a)){if(1===a&&t===s&&!b)return c.reverse(),void(d&&d.reverse());for(var g,h,i,j,k=c.length,l=0;k>l;){if(e[l]>=a){for(i=l+1;k>i&&e[i]>=a;)i++;for(j=l,h=i-1;h>j;j++,h--)g=c[j],c[j]=c[h],c[h]=g,d&&(g=d[j],d[j]=d[h],d[h]=g);l=i}l++}}},C=function(a,b,c){if(0!==c.hiLevel&&i)for(var d,e=0;e<a.length;e++)1===b[e]&&(d=o.indexOf(a[e]),d>=0&&(a[e]=o[d+1]))},D=function(a,b,c){var d=a.split(""),e={hiLevel:t};return c||(c=[]),A(d,c,e),C(d,c,e),B(s+1,d,b,c,e),B(s,d,b,c,e),d.join("")};return this.__bidiEngine__.doBidiReorder=function(a,b,c){if(u(a,b),e||!g||h)if(e&&g&&f^h)t=f?s:r,a=z(a,b,c);else if(!e&&g&&h)t=f?s:r,a=D(a,b,c),a=z(a,b);else if(!e||f||g||h){if(e&&!g&&f^h)a=z(a,b),f?(t=r,a=D(a,b,c)):(t=s,a=D(a,b,c),a=z(a,b));else if(e&&f&&!g&&h)t=s,a=D(a,b,c),a=z(a,b);else if(!e&&!g&&f^h){var d=i;f?(t=s,a=D(a,b,c),t=r,i=!1,a=D(a,b,c),i=d):(t=r,a=D(a,b,c),a=z(a,b),t=s,i=!1,a=D(a,b,c),i=d,a=z(a,b))}}else t=r,a=D(a,b,c);else t=f?s:r,a=D(a,b,c);return a},this.__bidiEngine__.setOptions=function(a){a&&(e=a.isInputVisual,g=a.isOutputVisual,f=a.isInputRtl,h=a.isOutputRtl,i=a.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var c=b,d=new a.__bidiEngine__({isInputVisual:!0}),e=function(a){var b=a.text,c=(a.x,a.y,a.options||{}),e=(a.mutex||{},c.lang,[]);if("[object Array]"===Object.prototype.toString.call(b)){var f=0;for(e=[],f=0;f<b.length;f+=1)e.push("[object Array]"===Object.prototype.toString.call(b[f])?[d.doBidiReorder(b[f][0]),b[f][1],b[f][2]]:[d.doBidiReorder(b[f])]);a.text=e}else a.text=d.doBidiReorder(b)};a.API.events.push(["postProcessText",e])}(h),window.tmp=f,g.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var a=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(a);for(var b=0;a>b;b++){var c=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),e=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0);this.palette[b]={red:e,green:d,blue:c,quad:f}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},g.prototype.parseBGR=function(){this.pos=this.offset;try{var a="bit"+this.bitPP,b=this.width*this.height*4;this.data=new Uint8Array(b),this[a]()}catch(c){console.log("bit decode error:"+c)}},g.prototype.bit1=function(){for(var a=Math.ceil(this.width/8),b=a%4,c=this.height>=0?this.height-1:-this.height,c=this.height-1;c>=0;c--){for(var d=this.bottom_up?c:this.height-1-c,e=0;a>e;e++)for(var f=this.datav.getUint8(this.pos++,!0),g=d*this.width*4+8*e*4,h=0;8>h&&8*e+h<this.width;h++){var i=this.palette[f>>7-h&1];this.data[g+4*h]=i.blue,this.data[g+4*h+1]=i.green,this.data[g+4*h+2]=i.red,this.data[g+4*h+3]=255}0!=b&&(this.pos+=4-b)}},g.prototype.bit4=function(){for(var a=Math.ceil(this.width/2),b=a%4,c=this.height-1;c>=0;c--){for(var d=this.bottom_up?c:this.height-1-c,e=0;a>e;e++){var f=this.datav.getUint8(this.pos++,!0),g=d*this.width*4+2*e*4,h=f>>4,i=15&f,j=this.palette[h];if(this.data[g]=j.blue,this.data[g+1]=j.green,this.data[g+2]=j.red,this.data[g+3]=255,2*e+1>=this.width)break;j=this.palette[i],this.data[g+4]=j.blue,this.data[g+4+1]=j.green,this.data[g+4+2]=j.red,this.data[g+4+3]=255}0!=b&&(this.pos+=4-b)}},g.prototype.bit8=function(){for(var a=this.width%4,b=this.height-1;b>=0;b--){for(var c=this.bottom_up?b:this.height-1-b,d=0;d<this.width;d++){var e=this.datav.getUint8(this.pos++,!0),f=c*this.width*4+4*d;if(e<this.palette.length){var g=this.palette[e];this.data[f]=g.red,this.data[f+1]=g.green,this.data[f+2]=g.blue,this.data[f+3]=255}else this.data[f]=255,this.data[f+1]=255,this.data[f+2]=255,this.data[f+3]=255}0!=a&&(this.pos+=4-a)}},g.prototype.bit15=function(){for(var a=this.width%3,b=parseInt("11111",2),c=b,d=this.height-1;d>=0;d--){for(var e=this.bottom_up?d:this.height-1-d,f=0;f<this.width;f++){var g=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(g&c)/c*255|0,i=(g>>5&c)/c*255|0,j=(g>>10&c)/c*255|0,k=g>>15?255:0,l=e*this.width*4+4*f;this.data[l]=j,this.data[l+1]=i,this.data[l+2]=h,this.data[l+3]=k}this.pos+=a}},g.prototype.bit16=function(){for(var a=this.width%3,b=parseInt("11111",2),c=b,d=parseInt("111111",2),e=d,f=this.height-1;f>=0;f--){for(var g=this.bottom_up?f:this.height-1-f,h=0;h<this.width;h++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var j=255,k=(i&c)/c*255|0,l=(i>>5&e)/e*255|0,m=(i>>11)/c*255|0,n=g*this.width*4+4*h;this.data[n]=m,this.data[n+1]=l,this.data[n+2]=k,this.data[n+3]=j}this.pos+=a}},g.prototype.bit24=function(){for(var a=this.height-1;a>=0;a--){for(var b=this.bottom_up?a:this.height-1-a,c=0;c<this.width;c++){var d=this.datav.getUint8(this.pos++,!0),e=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),g=b*this.width*4+4*c;this.data[g]=f,this.data[g+1]=e,this.data[g+2]=d,this.data[g+3]=255}this.pos+=this.width%4}},g.prototype.bit32=function(){for(var a=this.height-1;a>=0;a--)for(var b=this.bottom_up?a:this.height-1-a,c=0;c<this.width;c++){var d=this.datav.getUint8(this.pos++,!0),e=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),g=this.datav.getUint8(this.pos++,!0),h=b*this.width*4+4*c;this.data[h]=f,this.data[h+1]=e,this.data[h+2]=d,this.data[h+3]=g}},g.prototype.getData=function(){return this.data},window.tmp=g,function(a){function b(){function a(a){var b,c,e,f,g,h,j=d.dyn_tree,k=d.stat_desc.static_tree,l=d.stat_desc.extra_bits,m=d.stat_desc.extra_base,n=d.stat_desc.max_length,p=0;for(f=0;i>=f;f++)a.bl_count[f]=0;for(j[2*a.heap[a.heap_max]+1]=0,b=a.heap_max+1;o>b;b++)c=a.heap[b],f=j[2*j[2*c+1]+1]+1,f>n&&(f=n,p++),j[2*c+1]=f,c>d.max_code||(a.bl_count[f]++,g=0,c>=m&&(g=l[c-m]),h=j[2*c],
a.opt_len+=h*(f+g),k&&(a.static_len+=h*(k[2*c+1]+g)));if(0!==p){do{for(f=n-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[n]--,p-=2}while(p>0);for(f=n;0!==f;f--)for(c=a.bl_count[f];0!==c;)e=a.heap[--b],e>d.max_code||(j[2*e+1]!=f&&(a.opt_len+=(f-j[2*e+1])*j[2*e],j[2*e+1]=f),c--)}}function b(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function c(a,c,d){var e,f,g,h=[],j=0;for(e=1;i>=e;e++)h[e]=j=j+d[e-1]<<1;for(f=0;c>=f;f++)g=a[2*f+1],0!==g&&(a[2*f]=b(h[g]++,g))}var d=this;d.build_tree=function(b){var e,f,g,h=d.dyn_tree,i=d.stat_desc.static_tree,j=d.stat_desc.elems,k=-1;for(b.heap_len=0,b.heap_max=o,e=0;j>e;e++)0!==h[2*e]?(b.heap[++b.heap_len]=k=e,b.depth[e]=0):h[2*e+1]=0;for(;b.heap_len<2;)g=b.heap[++b.heap_len]=2>k?++k:0,h[2*g]=1,b.depth[g]=0,b.opt_len--,i&&(b.static_len-=i[2*g+1]);for(d.max_code=k,e=Math.floor(b.heap_len/2);e>=1;e--)b.pqdownheap(h,e);g=j;do e=b.heap[1],b.heap[1]=b.heap[b.heap_len--],b.pqdownheap(h,1),f=b.heap[1],b.heap[--b.heap_max]=e,b.heap[--b.heap_max]=f,h[2*g]=h[2*e]+h[2*f],b.depth[g]=Math.max(b.depth[e],b.depth[f])+1,h[2*e+1]=h[2*f+1]=g,b.heap[1]=g++,b.pqdownheap(h,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],a(b),c(h,d.max_code,b.bl_count)}}function c(a,b,c,d,e){var f=this;f.static_tree=a,f.extra_bits=b,f.extra_base=c,f.elems=d,f.max_length=e}function d(a,b,c,d,e){var f=this;f.good_length=a,f.max_lazy=b,f.nice_length=c,f.max_chain=d,f.func=e}function e(a,b,c,d){var e=a[2*b],f=a[2*c];return f>e||e==f&&d[b]<=d[c]}function f(){function a(){var a;for(Da=2*za,Fa[Ha-1]=0,a=0;Ha-1>a;a++)Fa[a]=0;Ua=P[Va].max_lazy,Xa=P[Va].good_length,Ya=P[Va].nice_length,Ta=P[Va].max_chain,Pa=0,La=0,Ra=0,Ma=Sa=ba-1,Oa=0,Ga=0}function d(){var a;for(a=0;n>a;a++)Za[2*a]=0;for(a=0;j>a;a++)$a[2*a]=0;for(a=0;k>a;a++)_a[2*a]=0;Za[2*p]=1,ab.opt_len=ab.static_len=0,gb=ib=0}function f(){bb.dyn_tree=Za,bb.stat_desc=c.static_l_desc,cb.dyn_tree=$a,cb.stat_desc=c.static_d_desc,db.dyn_tree=_a,db.stat_desc=c.static_bl_desc,kb=0,lb=0,jb=8,d()}function g(a,b){var c,d,e=-1,f=a[1],g=0,h=7,i=4;for(0===f&&(h=138,i=3),a[2*(b+1)+1]=65535,c=0;b>=c;c++)d=f,f=a[2*(c+1)+1],++g<h&&d==f||(i>g?_a[2*d]+=g:0!==d?(d!=e&&_a[2*d]++,_a[2*r]++):10>=g?_a[2*s]++:_a[2*t]++,g=0,e=d,0===f?(h=138,i=3):d==f?(h=6,i=3):(h=7,i=4))}function h(){var a;for(g(Za,bb.max_code),g($a,cb.max_code),db.build_tree(ab),a=k-1;a>=3&&0===_a[2*b.bl_order[a]+1];a--);return ab.opt_len+=3*(a+1)+5+5+4,a}function i(a){ab.pending_buf[ab.pending++]=a}function l(a){i(255&a),i(a>>>8&255)}function o(a){i(a>>8&255),i(255&a&255)}function q(a,b){var c,d=b;lb>u-d?(c=a,kb|=c<<lb&65535,l(kb),kb=c>>>u-lb,lb+=d-u):(kb|=a<<lb&65535,lb+=d)}function J(a,b){var c=2*a;q(65535&b[c],65535&b[c+1])}function ea(a,b){var c,d,e=-1,f=a[1],g=0,h=7,i=4;for(0===f&&(h=138,i=3),c=0;b>=c;c++)if(d=f,f=a[2*(c+1)+1],!(++g<h&&d==f)){if(i>g){do J(d,_a);while(0!==--g)}else 0!==d?(d!=e&&(J(d,_a),g--),J(r,_a),q(g-3,2)):10>=g?(J(s,_a),q(g-3,3)):(J(t,_a),q(g-11,7));g=0,e=d,0===f?(h=138,i=3):d==f?(h=6,i=3):(h=7,i=4)}}function fa(a,c,d){var e;for(q(a-257,5),q(c-1,5),q(d-4,4),e=0;d>e;e++)q(_a[2*b.bl_order[e]+1],3);ea(Za,a-1),ea($a,c-1)}function ga(){16==lb?(l(kb),kb=0,lb=0):lb>=8&&(i(255&kb),kb>>>=8,lb-=8)}function ha(){q(_<<1,3),J(p,c.static_ltree),ga(),9>1+jb+10-lb&&(q(_<<1,3),J(p,c.static_ltree),ga()),jb=7}function ia(a,c){var d,e,f;if(ab.pending_buf[hb+2*gb]=a>>>8&255,ab.pending_buf[hb+2*gb+1]=255&a,ab.pending_buf[eb+gb]=255&c,gb++,0===a?Za[2*c]++:(ib++,a--,Za[2*(b._length_code[c]+m+1)]++,$a[2*b.d_code(a)]++),0===(8191&gb)&&Va>2){for(d=8*gb,e=Pa-La,f=0;j>f;f++)d+=$a[2*f]*(5+b.extra_dbits[f]);if(d>>>=3,ib<Math.floor(gb/2)&&d<Math.floor(e/2))return!0}return gb==fb-1}function ja(a,c){var d,e,f,g,h=0;if(0!==gb)do d=ab.pending_buf[hb+2*h]<<8&65280|255&ab.pending_buf[hb+2*h+1],e=255&ab.pending_buf[eb+h],h++,0===d?J(e,a):(f=b._length_code[e],J(f+m+1,a),g=b.extra_lbits[f],0!==g&&(e-=b.base_length[f],q(e,g)),d--,f=b.d_code(d),J(f,c),g=b.extra_dbits[f],0!==g&&(d-=b.base_dist[f],q(d,g)));while(gb>h);J(p,a),jb=a[2*p+1]}function ka(){lb>8?l(kb):lb>0&&i(255&kb),kb=0,lb=0}function la(a,b,c){ka(),jb=8,c&&(l(b),l(~b)),ab.pending_buf.set(Ca.subarray(a,a+b),ab.pending),ab.pending+=b}function ma(a,b,c){q(($<<1)+(c?1:0),3),la(a,b,!0)}function na(a,b,e){var f,g,i=0;Va>0?(bb.build_tree(ab),cb.build_tree(ab),i=h(),f=ab.opt_len+3+7>>>3,g=ab.static_len+3+7>>>3,f>=g&&(f=g)):f=g=b+5,f>=b+4&&-1!=a?ma(a,b,e):g==f?(q((_<<1)+(e?1:0),3),ja(c.static_ltree,c.static_dtree)):(q((aa<<1)+(e?1:0),3),fa(bb.max_code+1,cb.max_code+1,i+1),ja(Za,$a)),d(),e&&ka()}function oa(a){na(La>=0?La:-1,Pa-La,a),La=Pa,va.flush_pending()}function pa(){var a,b,c,d;do{if(d=Da-Ra-Pa,0===d&&0===Pa&&0===Ra)d=za;else if(-1==d)d--;else if(Pa>=za+za-da){Ca.set(Ca.subarray(za,za+za),0),Qa-=za,Pa-=za,La-=za,a=Ha,c=a;do b=65535&Fa[--c],Fa[c]=b>=za?b-za:0;while(0!==--a);a=za,c=a;do b=65535&Ea[--c],Ea[c]=b>=za?b-za:0;while(0!==--a);d+=za}if(0===va.avail_in)return;a=va.read_buf(Ca,Pa+Ra,d),Ra+=a,Ra>=ba&&(Ga=255&Ca[Pa],Ga=(Ga<<Ka^255&Ca[Pa+1])&Ja)}while(da>Ra&&0!==va.avail_in)}function qa(a){var b,c=65535;for(c>xa-5&&(c=xa-5);;){if(1>=Ra){if(pa(),0===Ra&&a==z)return R;if(0===Ra)break}if(Pa+=Ra,Ra=0,b=La+c,(0===Pa||Pa>=b)&&(Ra=Pa-b,Pa=b,oa(!1),0===va.avail_out))return R;if(Pa-La>=za-da&&(oa(!1),0===va.avail_out))return R}return oa(a==C),0===va.avail_out?a==C?T:R:a==C?U:S}function ra(a){var b,c,d=Ta,e=Pa,f=Sa,g=Pa>za-da?Pa-(za-da):0,h=Ya,i=Ba,j=Pa+ca,k=Ca[e+f-1],l=Ca[e+f];Sa>=Xa&&(d>>=2),h>Ra&&(h=Ra);do if(b=a,Ca[b+f]==l&&Ca[b+f-1]==k&&Ca[b]==Ca[e]&&Ca[++b]==Ca[e+1]){e+=2,b++;do;while(Ca[++e]==Ca[++b]&&Ca[++e]==Ca[++b]&&Ca[++e]==Ca[++b]&&Ca[++e]==Ca[++b]&&Ca[++e]==Ca[++b]&&Ca[++e]==Ca[++b]&&Ca[++e]==Ca[++b]&&Ca[++e]==Ca[++b]&&j>e);if(c=ca-(j-e),e=j-ca,c>f){if(Qa=a,f=c,c>=h)break;k=Ca[e+f-1],l=Ca[e+f]}}while((a=65535&Ea[a&i])>g&&0!==--d);return Ra>=f?f:Ra}function sa(a){for(var b,c=0;;){if(da>Ra){if(pa(),da>Ra&&a==z)return R;if(0===Ra)break}if(Ra>=ba&&(Ga=(Ga<<Ka^255&Ca[Pa+(ba-1)])&Ja,c=65535&Fa[Ga],Ea[Pa&Ba]=Fa[Ga],Fa[Ga]=Pa),0!==c&&za-da>=(Pa-c&65535)&&Wa!=x&&(Ma=ra(c)),Ma>=ba)if(b=ia(Pa-Qa,Ma-ba),Ra-=Ma,Ua>=Ma&&Ra>=ba){Ma--;do Pa++,Ga=(Ga<<Ka^255&Ca[Pa+(ba-1)])&Ja,c=65535&Fa[Ga],Ea[Pa&Ba]=Fa[Ga],Fa[Ga]=Pa;while(0!==--Ma);Pa++}else Pa+=Ma,Ma=0,Ga=255&Ca[Pa],Ga=(Ga<<Ka^255&Ca[Pa+1])&Ja;else b=ia(0,255&Ca[Pa]),Ra--,Pa++;if(b&&(oa(!1),0===va.avail_out))return R}return oa(a==C),0===va.avail_out?a==C?T:R:a==C?U:S}function ta(a){for(var b,c,d=0;;){if(da>Ra){if(pa(),da>Ra&&a==z)return R;if(0===Ra)break}if(Ra>=ba&&(Ga=(Ga<<Ka^255&Ca[Pa+(ba-1)])&Ja,d=65535&Fa[Ga],Ea[Pa&Ba]=Fa[Ga],Fa[Ga]=Pa),Sa=Ma,Na=Qa,Ma=ba-1,0!==d&&Ua>Sa&&za-da>=(Pa-d&65535)&&(Wa!=x&&(Ma=ra(d)),5>=Ma&&(Wa==w||Ma==ba&&Pa-Qa>4096)&&(Ma=ba-1)),Sa>=ba&&Sa>=Ma){c=Pa+Ra-ba,b=ia(Pa-1-Na,Sa-ba),Ra-=Sa-1,Sa-=2;do++Pa<=c&&(Ga=(Ga<<Ka^255&Ca[Pa+(ba-1)])&Ja,d=65535&Fa[Ga],Ea[Pa&Ba]=Fa[Ga],Fa[Ga]=Pa);while(0!==--Sa);if(Oa=0,Ma=ba-1,Pa++,b&&(oa(!1),0===va.avail_out))return R}else if(0!==Oa){if(b=ia(0,255&Ca[Pa-1]),b&&oa(!1),Pa++,Ra--,0===va.avail_out)return R}else Oa=1,Pa++,Ra--}return 0!==Oa&&(b=ia(0,255&Ca[Pa-1]),Oa=0),oa(a==C),0===va.avail_out?a==C?T:R:a==C?U:S}function ua(b){return b.total_in=b.total_out=0,b.msg=null,ab.pending=0,ab.pending_out=0,wa=X,ya=z,f(),a(),D}var va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,_a,ab=this,bb=new b,cb=new b,db=new b;ab.depth=[];var eb,fb,gb,hb,ib,jb,kb,lb;ab.bl_count=[],ab.heap=[],Za=[],$a=[],_a=[],ab.pqdownheap=function(a,b){for(var c=ab.heap,d=c[b],f=b<<1;f<=ab.heap_len&&(f<ab.heap_len&&e(a,c[f+1],c[f],ab.depth)&&f++,!e(a,d,c[f],ab.depth));)c[b]=c[f],b=f,f<<=1;c[b]=d},ab.deflateInit=function(a,b,c,d,e,f){return d||(d=Z),e||(e=L),f||(f=y),a.msg=null,b==v&&(b=6),1>e||e>K||d!=Z||9>c||c>15||0>b||b>9||0>f||f>x?G:(a.dstate=ab,Aa=c,za=1<<Aa,Ba=za-1,Ia=e+7,Ha=1<<Ia,Ja=Ha-1,Ka=Math.floor((Ia+ba-1)/ba),Ca=new Uint8Array(2*za),Ea=[],Fa=[],fb=1<<e+6,ab.pending_buf=new Uint8Array(4*fb),xa=4*fb,hb=Math.floor(fb/2),eb=3*fb,Va=b,Wa=f,ua(a))},ab.deflateEnd=function(){return wa!=W&&wa!=X&&wa!=Y?G:(ab.pending_buf=null,Fa=null,Ea=null,Ca=null,ab.dstate=null,wa==X?H:D)},ab.deflateParams=function(a,b,c){var d=D;return b==v&&(b=6),0>b||b>9||0>c||c>x?G:(P[Va].func!=P[b].func&&0!==a.total_in&&(d=a.deflate(A)),Va!=b&&(Va=b,Ua=P[Va].max_lazy,Xa=P[Va].good_length,Ya=P[Va].nice_length,Ta=P[Va].max_chain),Wa=c,d)},ab.deflateSetDictionary=function(a,b,c){var d,e=c,f=0;if(!b||wa!=W)return G;if(ba>e)return D;for(e>za-da&&(e=za-da,f=c-e),Ca.set(b.subarray(f,f+e),0),Pa=e,La=e,Ga=255&Ca[0],Ga=(Ga<<Ka^255&Ca[1])&Ja,d=0;e-ba>=d;d++)Ga=(Ga<<Ka^255&Ca[d+(ba-1)])&Ja,Ea[d&Ba]=Fa[Ga],Fa[Ga]=d;return D},ab.deflate=function(a,b){var c,d,e,f,g;if(b>C||0>b)return G;if(!a.next_out||!a.next_in&&0!==a.avail_in||wa==Y&&b!=C)return a.msg=Q[F-G],G;if(0===a.avail_out)return a.msg=Q[F-I],I;if(va=a,f=ya,ya=b,wa==W&&(d=Z+(Aa-8<<4)<<8,e=(Va-1&255)>>1,e>3&&(e=3),d|=e<<6,0!==Pa&&(d|=V),d+=31-d%31,wa=X,o(d)),0!==ab.pending){if(va.flush_pending(),0===va.avail_out)return ya=-1,D}else if(0===va.avail_in&&f>=b&&b!=C)return va.msg=Q[F-I],I;if(wa==Y&&0!==va.avail_in)return a.msg=Q[F-I],I;if(0!==va.avail_in||0!==Ra||b!=z&&wa!=Y){switch(g=-1,P[Va].func){case M:g=qa(b);break;case N:g=sa(b);break;case O:g=ta(b)}if((g==T||g==U)&&(wa=Y),g==R||g==T)return 0===va.avail_out&&(ya=-1),D;if(g==S){if(b==A)ha();else if(ma(0,0,!1),b==B)for(c=0;Ha>c;c++)Fa[c]=0;if(va.flush_pending(),0===va.avail_out)return ya=-1,D}}return b!=C?D:E}}function g(){var a=this;a.next_in_index=0,a.next_out_index=0,a.avail_in=0,a.total_in=0,a.avail_out=0,a.total_out=0}function h(a){var b=this,c=new g,d=512,e=z,f=new Uint8Array(d),h=a?a.level:v;"undefined"==typeof h&&(h=v),c.deflateInit(h),c.next_out=f,b.append=function(a,b){var g,h,i=[],j=0,k=0,l=0;if(a.length){c.next_in_index=0,c.next_in=a,c.avail_in=a.length;do{if(c.next_out_index=0,c.avail_out=d,g=c.deflate(e),g!=D)throw new Error("deflating: "+c.msg);c.next_out_index&&i.push(c.next_out_index==d?new Uint8Array(f):new Uint8Array(f.subarray(0,c.next_out_index))),l+=c.next_out_index,b&&c.next_in_index>0&&c.next_in_index!=j&&(b(c.next_in_index),j=c.next_in_index)}while(c.avail_in>0||0===c.avail_out);return h=new Uint8Array(l),i.forEach(function(a){h.set(a,k),k+=a.length}),h}},b.flush=function(){var a,b,e=[],g=0,h=0;do{if(c.next_out_index=0,c.avail_out=d,a=c.deflate(C),a!=E&&a!=D)throw new Error("deflating: "+c.msg);d-c.avail_out>0&&e.push(new Uint8Array(f.subarray(0,c.next_out_index))),h+=c.next_out_index}while(c.avail_in>0||0===c.avail_out);return c.deflateEnd(),b=new Uint8Array(h),e.forEach(function(a){b.set(a,g),g+=a.length}),b}}var i=15,j=30,k=19,l=29,m=256,n=m+1+l,o=2*n+1,p=256,q=7,r=16,s=17,t=18,u=16,v=-1,w=1,x=2,y=0,z=0,A=1,B=3,C=4,D=0,E=1,F=2,G=-2,H=-3,I=-5,J=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];b._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],b.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],b.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],b.d_code=function(a){return 256>a?J[a]:J[256+(a>>>7)]},b.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],c.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],c.static_l_desc=new c(c.static_ltree,b.extra_lbits,m+1,n,i),c.static_d_desc=new c(c.static_dtree,b.extra_dbits,0,j,i),c.static_bl_desc=new c(null,b.extra_blbits,0,k,q);var K=9,L=8,M=0,N=1,O=2,P=[new d(0,0,0,0,M),new d(4,4,8,4,N),new d(4,5,16,8,N),new d(4,6,32,32,N),new d(4,4,16,16,O),new d(8,16,32,32,O),new d(8,16,128,128,O),new d(8,32,128,256,O),new d(32,128,258,1024,O),new d(32,258,258,4096,O)],Q=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],R=0,S=1,T=2,U=3,V=32,W=42,X=113,Y=666,Z=8,$=0,_=1,aa=2,ba=3,ca=258,da=ca+ba+1;g.prototype={deflateInit:function(a,b){var c=this;return c.dstate=new f,b||(b=i),c.dstate.deflateInit(c,a,b)},deflate:function(a){var b=this;return b.dstate?b.dstate.deflate(b,a):G},deflateEnd:function(){var a=this;if(!a.dstate)return G;var b=a.dstate.deflateEnd();return a.dstate=null,b},deflateParams:function(a,b){var c=this;return c.dstate?c.dstate.deflateParams(c,a,b):G},deflateSetDictionary:function(a,b){var c=this;return c.dstate?c.dstate.deflateSetDictionary(c,a,b):G},read_buf:function(a,b,c){var d=this,e=d.avail_in;return e>c&&(e=c),0===e?0:(d.avail_in-=e,a.set(d.next_in.subarray(d.next_in_index,d.next_in_index+e),b),d.next_in_index+=e,d.total_in+=e,e)},flush_pending:function(){var a=this,b=a.dstate.pending;b>a.avail_out&&(b=a.avail_out),0!==b&&(a.next_out.set(a.dstate.pending_buf.subarray(a.dstate.pending_out,a.dstate.pending_out+b),a.next_out_index),a.next_out_index+=b,a.dstate.pending_out+=b,a.total_out+=b,a.avail_out-=b,a.dstate.pending-=b,0===a.dstate.pending&&(a.dstate.pending_out=0))}};var ea=a.zip||a;ea.Deflater=ea._jzlib_Deflater=h}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),function(a){function b(a){a=a||"",this.ok=!1,"#"==a.charAt(0)&&(a=a.substr(1,6)),a=a.replace(/ /g,""),a=a.toLowerCase();var b,c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var d in c)a==d&&(a=c[d]);for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],f=0;f<e.length;f++){var g=e[f].re,h=e[f].process,i=g.exec(a);i&&(b=h(i),this.r=b[0],this.g=b[1],this.b=b[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),"#"+a+b+c}}a.RGBColor=b}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),function(a){var b="+".charCodeAt(0),c="/".charCodeAt(0),d="0".charCodeAt(0),e="a".charCodeAt(0),f="A".charCodeAt(0),g="-".charCodeAt(0),h="_".charCodeAt(0),i=function(a){function b(a){h[k++]=a}var c,d,e,f,g,h;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=a.length;g="="===a.charAt(i-2)?2:"="===a.charAt(i-1)?1:0,h=new Uint8Array(3*a.length/4-g),e=g>0?a.length-4:a.length;var k=0;for(c=0,d=0;e>c;c+=4,d+=3)f=j(a.charAt(c))<<18|j(a.charAt(c+1))<<12|j(a.charAt(c+2))<<6|j(a.charAt(c+3)),b((16711680&f)>>16),b((65280&f)>>8),b(255&f);return 2===g?(f=j(a.charAt(c))<<2|j(a.charAt(c+1))>>4,b(255&f)):1===g&&(f=j(a.charAt(c))<<10|j(a.charAt(c+1))<<4|j(a.charAt(c+2))>>2,b(f>>8&255),b(255&f)),h},j=function(a){var i=a.charCodeAt(0);return i===b||i===g?62:i===c||i===h?63:d>i?-1:d+10>i?i-d+26+26:f+26>i?i-f:e+26>i?i-e+26:void 0};a.API.TTFFont=function(){function a(a,b){var c;if(this.rawData=a,c=this.contents=new l(a),this.contents.pos=4,"ttcf"===c.readString(4)){if(!b)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+b+" not found in TTC file.")}c.pos=0,this.parse(),this.subset=new F(this),this.registerTTF()}return a.open=function(b,c,d,e){var f;if("string"!=typeof d)throw new Error("Invalid argument supplied in TTFFont.open");return f=i(d),new a(f,c,e)},a.prototype.parse=function(){return this.directory=new m(this.contents),this.head=new p(this),this.name=new w(this),this.cmap=new r(this),this.toUnicode=new Map,this.hhea=new s(this),this.maxp=new x(this),this.hmtx=new y(this),this.post=new u(this),this.os2=new t(this),this.loca=new D(this),this.glyf=new A(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},a.prototype.registerTTF=function(){var a,b,c,d,e;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var b,c,d,e;for(d=this.bbox,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(Math.round(a*this.scaleFactor));return e}.call(this),this.stemV=0,this.post.exists?(d=this.post.italic_angle,b=d>>16,c=255&d,b&!0&&(b=-((65535^b)+1)),this.italicAngle=+(""+b+"."+c)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(e=this.familyClass)||2===e||3===e||4===e||5===e||7===e,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},a.prototype.characterToGlyph=function(a){var b;return(null!=(b=this.cmap.unicode)?b.codeMap[a]:void 0)||0},a.prototype.widthOfGlyph=function(a){var b;return b=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(a).advance*b},a.prototype.widthOfString=function(a,b,c){var d,e,f,g,h,i,c;for(a=""+a,g=0,e=h=0,i=a.length;i>=0?i>h:h>i;e=i>=0?++h:--h)d=a.charCodeAt(e),g+=this.widthOfGlyph(this.characterToGlyph(d))+c*(1e3/b)||0;return f=b/1e3,g*f},a.prototype.lineHeight=function(a,b){var c;return null==b&&(b=!1),c=b?this.lineGap:0,(this.ascender+c-this.decender)/1e3*a},a}();var k,l=function(){function a(a){this.data=null!=a?a:[],this.pos=0,this.length=this.data.length}return a.prototype.readByte=function(){return this.data[this.pos++]},a.prototype.writeByte=function(a){return this.data[this.pos++]=a},a.prototype.readUInt32=function(){var a,b,c,d;return a=16777216*this.readByte(),b=this.readByte()<<16,c=this.readByte()<<8,d=this.readByte(),a+b+c+d},a.prototype.writeUInt32=function(a){return this.writeByte(a>>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},a.prototype.readInt32=function(){var a;return a=this.readUInt32(),a>=2147483648?a-4294967296:a},a.prototype.writeInt32=function(a){return 0>a&&(a+=4294967296),this.writeUInt32(a)},a.prototype.readUInt16=function(){var a,b;return a=this.readByte()<<8,b=this.readByte(),a|b},a.prototype.writeUInt16=function(a){return this.writeByte(a>>8&255),this.writeByte(255&a)},a.prototype.readInt16=function(){var a;return a=this.readUInt16(),a>=32768?a-65536:a},a.prototype.writeInt16=function(a){return 0>a&&(a+=65536),this.writeUInt16(a)},a.prototype.readString=function(a){var b,c,d;for(c=[],b=d=0;a>=0?a>d:d>a;b=a>=0?++d:--d)c[b]=String.fromCharCode(this.readByte());return c.join("")},a.prototype.writeString=function(a){var b,c,d,e;for(e=[],b=c=0,d=a.length;d>=0?d>c:c>d;b=d>=0?++c:--c)e.push(this.writeByte(a.charCodeAt(b)));return e},a.prototype.readShort=function(){return this.readInt16()},a.prototype.writeShort=function(a){return this.writeInt16(a)},a.prototype.readLongLong=function(){var a,b,c,d,e,f,g,h;return a=this.readByte(),b=this.readByte(),c=this.readByte(),d=this.readByte(),e=this.readByte(),f=this.readByte(),g=this.readByte(),h=this.readByte(),128&a?-1*(72057594037927940*(255^a)+281474976710656*(255^b)+1099511627776*(255^c)+4294967296*(255^d)+16777216*(255^e)+65536*(255^f)+256*(255^g)+(255^h)+1):72057594037927940*a+281474976710656*b+1099511627776*c+4294967296*d+16777216*e+65536*f+256*g+h},a.prototype.writeLongLong=function(a){var b,c;return b=Math.floor(a/4294967296),c=4294967295&a,this.writeByte(b>>24&255),this.writeByte(b>>16&255),this.writeByte(b>>8&255),this.writeByte(255&b),this.writeByte(c>>24&255),this.writeByte(c>>16&255),this.writeByte(c>>8&255),this.writeByte(255&c)},a.prototype.readInt=function(){return this.readInt32()},a.prototype.writeInt=function(a){return this.writeInt32(a)},a.prototype.read=function(a){var b,c,d;for(b=[],c=d=0;a>=0?a>d:d>a;c=a>=0?++d:--d)b.push(this.readByte());return b},a.prototype.write=function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.writeByte(b));return e},a}(),m=function(){function a(a){var b,c,d,e;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},c=d=0,e=this.tableCount;e>=0?e>d:d>e;c=e>=0?++d:--d)b={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[b.tag]=b}var b;return a.prototype.encode=function(a){var c,d,e,f,g,h,i,j,k,m,n,o,p,q;o=Object.keys(a).length,h=Math.log(2),k=16*Math.floor(Math.log(o)/h),f=Math.floor(k/h),j=16*o-k,d=new l,d.writeInt(this.scalarType),d.writeShort(o),d.writeShort(k),d.writeShort(f),d.writeShort(j),e=16*o,i=d.pos+e,g=null,p=[];for(q in a)for(n=a[q],d.writeString(q),d.writeInt(b(n)),d.writeInt(i),d.writeInt(n.length),p=p.concat(n),"head"===q&&(g=i),i+=n.length;i%4;)p.push(0),i++;return d.write(p),m=b(d.data),c=2981146554-m,d.pos=g+8,d.writeUInt32(c),d.data},b=function(a){var b,c,d,e,f;for(a=z.call(a);a.length%4;)a.push(0);for(d=new l(a),c=0,b=e=0,f=a.length;f>e;b=e+=4)c+=d.readUInt32();return 4294967295&c},a}(),n={}.hasOwnProperty,o=function(a,b){function c(){this.constructor=a}for(var d in b)n.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};k=function(){function a(a){var b;this.file=a,b=this.file.directory.tables[this.tag],this.exists=!!b,b&&(this.offset=b.offset,this.length=b.length,this.parse(this.file.contents))}return a.prototype.parse=function(){},a.prototype.encode=function(){},a.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},a}();var p=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="head",b.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.revision=a.readInt(),this.checkSumAdjustment=a.readInt(),this.magicNumber=a.readInt(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.readLongLong(),this.modified=a.readLongLong(),this.xMin=a.readShort(),this.yMin=a.readShort(),this.xMax=a.readShort(),this.yMax=a.readShort(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort(),this.indexToLocFormat=a.readShort(),this.glyphDataFormat=a.readShort()},b.prototype.encode=function(a){var b;return b=new l,b.writeInt(this.version),b.writeInt(this.revision),b.writeInt(this.checkSumAdjustment),b.writeInt(this.magicNumber),b.writeShort(this.flags),b.writeShort(this.unitsPerEm),b.writeLongLong(this.created),b.writeLongLong(this.modified),b.writeShort(this.xMin),b.writeShort(this.yMin),b.writeShort(this.xMax),b.writeShort(this.yMax),b.writeShort(this.macStyle),b.writeShort(this.lowestRecPPEM),b.writeShort(this.fontDirectionHint),b.writeShort(a),b.writeShort(this.glyphDataFormat),b.data},b}(k),q=function(){function a(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;switch(this.platformID=a.readUInt16(),this.encodingID=a.readShort(),this.offset=b+a.readInt(),l=a.pos,a.pos=this.offset,this.format=a.readUInt16(),this.length=a.readUInt16(),this.language=a.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(h=r=0;256>r;h=++r)this.codeMap[h]=a.readByte();break;case 4:for(n=a.readUInt16(),m=n/2,a.pos+=6,e=function(){var b,c;for(c=[],h=b=0;m>=0?m>b:b>m;h=m>=0?++b:--b)c.push(a.readUInt16());return c}(),a.pos+=2,p=function(){var b,c;for(c=[],h=b=0;m>=0?m>b:b>m;h=m>=0?++b:--b)c.push(a.readUInt16());return c}(),i=function(){var b,c;for(c=[],h=b=0;m>=0?m>b:b>m;h=m>=0?++b:--b)c.push(a.readUInt16());return c}(),j=function(){var b,c;for(c=[],h=b=0;m>=0?m>b:b>m;h=m>=0?++b:--b)c.push(a.readUInt16());return c}(),d=(this.length-a.pos+this.offset)/2,g=function(){var b,c;for(c=[],h=b=0;d>=0?d>b:b>d;h=d>=0?++b:--b)c.push(a.readUInt16());return c}(),h=s=0,u=e.length;u>s;h=++s)for(q=e[h],o=p[h],c=t=o;q>=o?q>=t:t>=q;c=q>=o?++t:--t)0===j[h]?f=c+i[h]:(k=j[h]/2+(c-o)-(m-h),f=g[k]||0,0!==f&&(f+=i[h])),this.codeMap[c]=65535&f}a.pos=l}return a.encode=function(a,b){var c,d,e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X;switch(F=new l,f=Object.keys(a).sort(function(a,b){return a-b}),b){case"macroman":for(p=0,q=function(){var a,b;for(b=[],o=a=0;256>a;o=++a)b.push(0);return b}(),s={0:0},e={},G=0,K=f.length;K>G;G++)d=f[G],null==s[U=a[d]]&&(s[U]=++p),e[d]={old:a[d],"new":s[a[d]]},q[d]=s[a[d]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(q),
y={charMap:e,subtable:F.data,maxGlyphID:p+1};case"unicode":for(D=[],k=[],t=0,s={},c={},r=i=null,H=0,L=f.length;L>H;H++)d=f[H],v=a[d],null==s[v]&&(s[v]=++t),c[d]={old:v,"new":s[v]},g=s[v]-d,(null==r||g!==i)&&(r&&k.push(r),D.push(d),i=g),r=d;for(r&&k.push(r),k.push(65535),D.push(65535),A=D.length,B=2*A,z=2*Math.pow(Math.log(A)/Math.LN2,2),m=Math.log(z/2)/Math.LN2,x=2*A-z,h=[],w=[],n=[],o=I=0,M=D.length;M>I;o=++I){if(C=D[o],j=k[o],65535===C){h.push(0),w.push(0);break}if(E=c[C]["new"],C-E>=32768)for(h.push(0),w.push(2*(n.length+A-o)),d=J=C;j>=C?j>=J:J>=j;d=j>=C?++J:--J)n.push(c[d]["new"]);else h.push(E-C),w.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*A+2*n.length),F.writeUInt16(0),F.writeUInt16(B),F.writeUInt16(z),F.writeUInt16(m),F.writeUInt16(x),S=0,N=k.length;N>S;S++)d=k[S],F.writeUInt16(d);for(F.writeUInt16(0),T=0,O=D.length;O>T;T++)d=D[T],F.writeUInt16(d);for(V=0,P=h.length;P>V;V++)g=h[V],F.writeUInt16(g);for(W=0,Q=w.length;Q>W;W++)u=w[W],F.writeUInt16(u);for(X=0,R=n.length;R>X;X++)p=n[X],F.writeUInt16(p);return y={charMap:c,subtable:F.data,maxGlyphID:t+1}}},a}(),r=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="cmap",b.prototype.parse=function(a){var b,c,d,e;for(a.pos=this.offset,this.version=a.readUInt16(),d=a.readUInt16(),this.tables=[],this.unicode=null,c=e=0;d>=0?d>e:e>d;c=d>=0?++e:--e)b=new q(a,this.offset),this.tables.push(b),b.isUnicode&&null==this.unicode&&(this.unicode=b);return!0},b.encode=function(a,b){var c,d;return null==b&&(b="macroman"),c=q.encode(a,b),d=new l,d.writeUInt16(0),d.writeUInt16(1),c.table=d.data.concat(c.subtable),c},b}(k),s=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="hhea",b.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.ascender=a.readShort(),this.decender=a.readShort(),this.lineGap=a.readShort(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort(),this.minRightSideBearing=a.readShort(),this.xMaxExtent=a.readShort(),this.caretSlopeRise=a.readShort(),this.caretSlopeRun=a.readShort(),this.caretOffset=a.readShort(),a.pos+=8,this.metricDataFormat=a.readShort(),this.numberOfMetrics=a.readUInt16()},b}(k),t=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="OS/2",b.prototype.parse=function(a){var b;return a.pos=this.offset,this.version=a.readUInt16(),this.averageCharWidth=a.readShort(),this.weightClass=a.readUInt16(),this.widthClass=a.readUInt16(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort(),this.ySubscriptYSize=a.readShort(),this.ySubscriptXOffset=a.readShort(),this.ySubscriptYOffset=a.readShort(),this.ySuperscriptXSize=a.readShort(),this.ySuperscriptYSize=a.readShort(),this.ySuperscriptXOffset=a.readShort(),this.ySuperscriptYOffset=a.readShort(),this.yStrikeoutSize=a.readShort(),this.yStrikeoutPosition=a.readShort(),this.familyClass=a.readShort(),this.panose=function(){var c,d;for(d=[],b=c=0;10>c;b=++c)d.push(a.readByte());return d}(),this.charRange=function(){var c,d;for(d=[],b=c=0;4>c;b=++c)d.push(a.readInt());return d}(),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort(),this.descent=a.readShort(),this.lineGap=a.readShort(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=function(){var c,d;for(d=[],b=c=0;2>c;b=++c)d.push(a.readInt());return d}(),this.version>1)?(this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()):void 0},b}(k),u=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="post",b.prototype.parse=function(a){var b,c,d,e,f;switch(a.pos=this.offset,this.format=a.readInt(),this.italicAngle=a.readInt(),this.underlinePosition=a.readShort(),this.underlineThickness=a.readShort(),this.isFixedPitch=a.readInt(),this.minMemType42=a.readInt(),this.maxMemType42=a.readInt(),this.minMemType1=a.readInt(),this.maxMemType1=a.readInt(),this.format){case 65536:break;case 131072:for(d=a.readUInt16(),this.glyphNameIndex=[],b=e=0;d>=0?d>e:e>d;b=d>=0?++e:--e)this.glyphNameIndex.push(a.readUInt16());for(this.names=[],f=[];a.pos<this.offset+this.length;)c=a.readByte(),f.push(this.names.push(a.readString(c)));return f;case 151552:return d=a.readUInt16(),this.offsets=a.read(d);case 196608:break;case 262144:return this.map=function(){var c,d,e;for(e=[],b=c=0,d=this.file.maxp.numGlyphs;d>=0?d>c:c>d;b=d>=0?++c:--c)e.push(a.readUInt32());return e}.call(this)}},b}(k),v=function(){function a(a,b){this.raw=a,this.length=a.length,this.platformID=b.platformID,this.encodingID=b.encodingID,this.languageID=b.languageID}return a}(),w=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="name",b.prototype.parse=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(a.pos=this.offset,e=a.readShort(),b=a.readShort(),h=a.readShort(),c=[],f=k=0;b>=0?b>k:k>b;f=b>=0?++k:--k)c.push({platformID:a.readShort(),encodingID:a.readShort(),languageID:a.readShort(),nameID:a.readShort(),length:a.readShort(),offset:this.offset+h+a.readShort()});for(i={},f=l=0,m=c.length;m>l;f=++l)d=c[f],a.pos=d.offset,j=a.readString(d.length),g=new v(j,d),null==i[n=d.nameID]&&(i[n]=[]),i[d.nameID].push(g);this.strings=i,this.copyright=i[0],this.fontFamily=i[1],this.fontSubfamily=i[2],this.uniqueSubfamily=i[3],this.fontName=i[4],this.version=i[5];try{this.postscriptName=i[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(o){this.postscriptName=i[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=i[7],this.manufacturer=i[8],this.designer=i[9],this.description=i[10],this.vendorUrl=i[11],this.designerUrl=i[12],this.license=i[13],this.licenseUrl=i[14],this.preferredFamily=i[15],this.preferredSubfamily=i[17],this.compatibleFull=i[18],this.sampleText=i[19]},b}(k),x=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="maxp",b.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.numGlyphs=a.readUInt16(),this.maxPoints=a.readUInt16(),this.maxContours=a.readUInt16(),this.maxCompositePoints=a.readUInt16(),this.maxComponentContours=a.readUInt16(),this.maxZones=a.readUInt16(),this.maxTwilightPoints=a.readUInt16(),this.maxStorage=a.readUInt16(),this.maxFunctionDefs=a.readUInt16(),this.maxInstructionDefs=a.readUInt16(),this.maxStackElements=a.readUInt16(),this.maxSizeOfInstructions=a.readUInt16(),this.maxComponentElements=a.readUInt16(),this.maxComponentDepth=a.readUInt16()},b}(k),y=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="hmtx",b.prototype.parse=function(a){var b,c,d,e,f,g,h,i;for(a.pos=this.offset,this.metrics=[],b=f=0,h=this.file.hhea.numberOfMetrics;h>=0?h>f:f>h;b=h>=0?++f:--f)this.metrics.push({advance:a.readUInt16(),lsb:a.readInt16()});for(d=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,e;for(e=[],b=c=0;d>=0?d>c:c>d;b=d>=0?++c:--c)e.push(a.readInt16());return e}(),this.widths=function(){var a,b,c,d;for(c=this.metrics,d=[],a=0,b=c.length;b>a;a++)e=c[a],d.push(e.advance);return d}.call(this),c=this.widths[this.widths.length-1],i=[],b=g=0;d>=0?d>g:g>d;b=d>=0?++g:--g)i.push(this.widths.push(c));return i},b.prototype.forGlyph=function(a){var b;return a in this.metrics?this.metrics[a]:b={advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[a-this.metrics.length]}},b}(k),z=[].slice,A=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="glyf",b.prototype.parse=function(){return this.cache={}},b.prototype.glyphFor=function(a){a=a;var b,c,d,e,f,g,h,i,j,k;return a in this.cache?this.cache[a]:(e=this.file.loca,b=this.file.contents,c=e.indexOf(a),d=e.lengthOf(a),0===d?this.cache[a]=null:(b.pos=this.offset+c,g=new l(b.read(d)),f=g.readShort(),i=g.readShort(),k=g.readShort(),h=g.readShort(),j=g.readShort(),this.cache[a]=-1===f?new C(g,i,k,h,j):new B(g,f,i,k,h,j),this.cache[a]))},b.prototype.encode=function(a,b,c){var d,e,f,g,h,i;for(g=[],f=[],h=0,i=b.length;i>h;h++)e=b[h],d=a[e],f.push(g.length),d&&(g=g.concat(d.encode(c)));return f.push(g.length),{table:g,offsets:f}},b}(k),B=function(){function a(a,b,c,d,e,f){this.raw=a,this.numberOfContours=b,this.xMin=c,this.yMin=d,this.xMax=e,this.yMax=f,this.compound=!1}return a.prototype.encode=function(){return this.raw.data},a}(),C=function(){function a(a,g,h,i,j){var k,l;for(this.raw=a,this.xMin=g,this.yMin=h,this.xMax=i,this.yMax=j,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],k=this.raw;;){if(l=k.readShort(),this.glyphOffsets.push(k.pos),this.glyphIDs.push(k.readShort()),!(l&c))break;k.pos+=l&b?4:2,l&f?k.pos+=8:l&d?k.pos+=4:l&e&&(k.pos+=2)}}var b,c,d,e,f;return b=1,e=8,c=32,d=64,f=128,a.prototype.encode=function(){var a,b,c,d,e,f;for(c=new l(z.call(this.raw.data)),f=this.glyphIDs,a=d=0,e=f.length;e>d;a=++d)b=f[a],c.pos=this.glyphOffsets[a];return c.data},a}(),D=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.tag="loca",b.prototype.parse=function(a){var b,c;return a.pos=this.offset,b=this.file.head.indexToLocFormat,this.offsets=0===b?function(){var b,d,e;for(e=[],c=b=0,d=this.length;d>b;c=b+=2)e.push(2*a.readUInt16());return e}.call(this):function(){var b,d,e;for(e=[],c=b=0,d=this.length;d>b;c=b+=4)e.push(a.readUInt32());return e}.call(this)},b.prototype.indexOf=function(a){return this.offsets[a]},b.prototype.lengthOf=function(a){return this.offsets[a+1]-this.offsets[a]},b.prototype.encode=function(a,b){for(var c=new Uint32Array(this.offsets.length),d=0,e=0,f=0;f<c.length;++f)if(c[f]=d,e<b.length&&b[e]==f){++e,c[f]=d;var g=this.offsets[f],h=this.offsets[f+1]-g;h>0&&(d+=h)}for(var i=new Array(4*c.length),j=0;j<c.length;++j)i[4*j+3]=255&c[j],i[4*j+2]=(65280&c[j])>>8,i[4*j+1]=(16711680&c[j])>>16,i[4*j]=(4278190080&c[j])>>24;return i},b}(k),E=function(a){var b,c,d;c={};for(b in a)d=a[b],c[d]=b;return c},F=function(){function a(a){this.font=a,this.subset={},this.unicodes={},this.next=33}return a.prototype.generateCmap=function(){var a,b,c,d,e;d=this.font.cmap.tables[0].codeMap,a={},e=this.subset;for(b in e)c=e[b],a[b]=d[c];return a},a.prototype.glyphsFor=function(a){var b,c,d,e,f,g,h;for(d={},f=0,g=a.length;g>f;f++)e=a[f],d[e]=this.font.glyf.glyphFor(e);b=[];for(e in d)c=d[e],(null!=c?c.compound:void 0)&&b.push.apply(b,c.glyphIDs);if(b.length>0){h=this.glyphsFor(b);for(e in h)c=h[e],d[e]=c}return d},a.prototype.encode=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;c=r.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(a),m={0:0},q=c.charMap;for(d in q)h=q[d],m[h.old]=h["new"];l=c.maxGlyphID;for(n in f)n in m||(m[n]=l++);return j=E(m),k=Object.keys(j).sort(function(a,b){return a-b}),o=function(){var a,b,c;for(c=[],a=0,b=k.length;b>a;a++)g=k[a],c.push(j[g]);return c}(),e=this.font.glyf.encode(f,o,m),i=this.font.loca.encode(e.offsets,o),p={cmap:this.font.cmap.raw(),glyf:e.table,loca:i,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(b)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},a}();a.API.PDFObject=function(){function a(){}var b;return b=function(a,b){return(Array(b+1).join("0")+a).slice(-b)},a.convert=function(c){var d,e,f,g,h;if(Array.isArray(c))return e=function(){var b,e,f;for(f=[],b=0,e=c.length;e>b;b++)d=c[b],f.push(a.convert(d));return f}().join(" "),"["+e+"]";if("string"==typeof c)return"/"+c;if(null!=c?c.isString:void 0)return"("+c+")";if(c instanceof Date)return"(D:"+b(c.getUTCFullYear(),4)+b(c.getUTCMonth(),2)+b(c.getUTCDate(),2)+b(c.getUTCHours(),2)+b(c.getUTCMinutes(),2)+b(c.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(c)){g=["<<"];for(f in c)h=c[f],g.push("/"+f+" "+a.convert(h));return g.push(">>"),g.join("\n")}return""+c},a}()}(h),function(a){var b;b=function(){function b(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(b=this.readUInt32(),k=function(){var a,b;for(b=[],h=a=0;4>a;h=++a)b.push(String.fromCharCode(this.data[this.pos++]));return b}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(b);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),e=this.readUInt16()||100,g.delay=1e3*f/e,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for("fdAT"===k&&(this.pos+=4,b-=4),a=(null!=g?g.data:void 0)||this.imgData,h=n=0;b>=0?b>n:n>b;h=b>=0?++n:--n)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(b),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if(l=d-this.transparency.indexed.length,l>0)for(h=o=0;l>=0?l>o:o>l;h=l>=0?++o:--o)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(b)[0];break;case 2:this.transparency.rgb=this.read(b)}break;case"tEXt":m=this.read(b),i=m.indexOf(0),j=String.fromCharCode.apply(String,m.slice(0,i)),this.text[j]=String.fromCharCode.apply(String,m.slice(i+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=b}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var c,d,e,f,g,h;b.load=function(a,c,d){var e;return"function"==typeof c&&(d=c),e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){var a,f;return a=new Uint8Array(e.response||e.mozResponseArrayBuffer),f=new b(a),"function"==typeof(null!=c?c.getContext:void 0)&&f.render(c),"function"==typeof d?d(f):void 0},e.send(null)},d=1,e=2,c=0,b.prototype.read=function(a){var b,c,d;for(d=[],b=c=0;a>=0?a>c:c>a;b=a>=0?++c:--c)d.push(this.data[this.pos++]);return d},b.prototype.readUInt32=function(){var a,b,c,d;return a=this.data[this.pos++]<<24,b=this.data[this.pos++]<<16,c=this.data[this.pos++]<<8,d=this.data[this.pos++],a|b|c|d},b.prototype.readUInt16=function(){var a,b;return a=this.data[this.pos++]<<8,b=this.data[this.pos++],a|b},b.prototype.decodePixels=function(a){function b(b,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=Math.ceil((f.width-b)/h),F=Math.ceil((f.height-g)/i),G=f.width==E&&f.height==F;for(w=c*E,u=G?d:new Uint8Array(w*F),o=a.length,v=0,k=0;F>v&&o>e;){switch(a[e++]){case 0:for(m=z=0;w>z;m=z+=1)u[k++]=a[e++];break;case 1:for(m=A=0;w>A;m=A+=1)j=a[e++],n=c>m?0:u[k-c],u[k++]=(j+n)%256;break;case 2:for(m=B=0;w>B;m=B+=1)j=a[e++],l=(m-m%c)/c,x=v&&u[(v-1)*w+l*c+m%c],u[k++]=(x+j)%256;break;case 3:for(m=C=0;w>C;m=C+=1)j=a[e++],l=(m-m%c)/c,n=c>m?0:u[k-c],x=v&&u[(v-1)*w+l*c+m%c],u[k++]=(j+Math.floor((n+x)/2))%256;break;case 4:for(m=D=0;w>D;m=D+=1)j=a[e++],l=(m-m%c)/c,n=c>m?0:u[k-c],0===v?x=y=0:(x=u[(v-1)*w+l*c+m%c],y=l&&u[(v-1)*w+(l-1)*c+m%c]),p=n+x-y,q=Math.abs(p-n),s=Math.abs(p-x),t=Math.abs(p-y),r=s>=q&&t>=q?n:t>=s?x:y,u[k++]=(j+r)%256;break;default:throw new Error("Invalid filter algorithm: "+a[e-1])}if(!G){var H=((g+v*i)*f.width+b)*c,I=v*w;for(m=0;E>m;m+=1){for(var J=0;c>J;J+=1)d[H++]=u[I++];H+=(h-1)*c}}v++}}var c=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*c),e=0,f=this;return null==a&&(a=this.imgData),0===a.length?new Uint8Array(0):(a=new l(a),a=a.getBytes(),1==f.interlaceMethod?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),d)},b.prototype.decodePalette=function(){var a,b,c,d,e,f,g,h,i,j;for(d=this.palette,g=this.transparency.indexed||[],f=new Uint8Array((g.length||0)+d.length),e=0,c=d.length,a=0,b=h=0,i=d.length;i>h;b=h+=3)f[e++]=d[b],f[e++]=d[b+1],f[e++]=d[b+2],f[e++]=null!=(j=g[a++])?j:255;return f},b.prototype.copyToImageData=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(d=this.colors,k=null,c=this.hasAlphaChannel,this.palette.length&&(k=null!=(m=this._decodedPalette)?m:this._decodedPalette=this.decodePalette(),d=4,c=!0),e=a.data||a,j=e.length,g=k||b,f=h=0,1===d)for(;j>f;)i=k?4*b[f/4]:h,l=g[i++],e[f++]=l,e[f++]=l,e[f++]=l,e[f++]=c?g[i++]:255,h=i;else for(;j>f;)i=k?4*b[f/4]:h,e[f++]=g[i++],e[f++]=g[i++],e[f++]=g[i++],e[f++]=c?g[i++]:255,h=i},b.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};try{g=a.document.createElement("canvas"),h=g.getContext("2d")}catch(i){return-1}return f=function(a){var b;return h.width=a.width,h.height=a.height,h.clearRect(0,0,a.width,a.height),h.putImageData(a,0,0),b=new Image,b.src=g.toDataURL(),b},b.prototype.decodeFrames=function(a){var b,c,d,e,g,h,i,j;if(this.animation){for(i=this.animation.frames,j=[],c=g=0,h=i.length;h>g;c=++g)b=i[c],d=a.createImageData(b.width,b.height),e=this.decodePixels(new Uint8Array(b.data)),this.copyToImageData(d,e),b.imageData=d,j.push(b.image=f(d));return j}},b.prototype.renderFrame=function(a,b){var f,g,h;return g=this.animation.frames,f=g[b],h=g[b-1],0===b&&a.clearRect(0,0,this.width,this.height),(null!=h?h.disposeOp:void 0)===d?a.clearRect(h.xOffset,h.yOffset,h.width,h.height):(null!=h?h.disposeOp:void 0)===e&&a.putImageData(h.imageData,h.xOffset,h.yOffset),f.blendOp===c&&a.clearRect(f.xOffset,f.yOffset,f.width,f.height),a.drawImage(f.image,f.xOffset,f.yOffset)},b.prototype.animate=function(a){var b,c,d,e,f,g,h=this;return c=0,g=this.animation,e=g.numFrames,d=g.frames,f=g.numPlays,(b=function(){var g,i;return g=c++%e,i=d[g],h.renderFrame(a,g),e>1&&f>c/e?h.animation._timeout=setTimeout(b,i.delay):void 0})()},b.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:void 0)},b.prototype.render=function(a){var b,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,b=a.getContext("2d"),this.animation?(this.decodeFrames(b),this.animate(b)):(c=b.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),b.putImageData(c,0,0))},b}(),a.PNG=b}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var k=function(){function a(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return a.prototype={ensureBuffer:function(a){var b=this.buffer,c=b?b.byteLength:0;if(c>a)return b;for(var d=512;a>d;)d<<=1;for(var e=new Uint8Array(d),f=0;c>f;++f)e[f]=b[f];return this.buffer=e},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var b=this.pos;if(a){this.ensureBuffer(b+a);for(var c=b+a;!this.eof&&this.bufferLength<c;)this.readBlock();var d=this.bufferLength;c>d&&(c=d)}else{for(;!this.eof;)this.readBlock();var c=this.bufferLength}return this.pos=c,this.buffer.subarray(b,c)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(a,b,c){for(var d=a+b;this.bufferLength<=d&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,b,c)},skip:function(a){a||(a=1),this.pos+=a},reset:function(){this.pos=0}},a}(),l=function(){function a(a){throw new Error(a)}function b(b){var c=0,d=b[c++],e=b[c++];(-1==d||-1==e)&&a("Invalid header in flate stream"),8!=(15&d)&&a("Unknown compression method in flate stream"),((d<<8)+e)%31!=0&&a("Bad FCHECK in flate stream"),32&e&&a("FDICT bit set in flate stream"),this.bytes=b,this.bytesPos=c,this.codeSize=0,this.codeBuf=0,k.call(this)}if("undefined"==typeof Uint32Array)return void 0;var c=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),e=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),f=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],g=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return b.prototype=Object.create(k.prototype),b.prototype.getBits=function(b){for(var c,d=this.codeSize,e=this.codeBuf,f=this.bytes,g=this.bytesPos;b>d;)"undefined"==typeof(c=f[g++])&&a("Bad encoding in flate stream"),e|=c<<d,d+=8;return c=e&(1<<b)-1,this.codeBuf=e>>b,this.codeSize=d-=b,this.bytesPos=g,c},b.prototype.getCode=function(b){for(var c=b[0],d=b[1],e=this.codeSize,f=this.codeBuf,g=this.bytes,h=this.bytesPos;d>e;){var i;"undefined"==typeof(i=g[h++])&&a("Bad encoding in flate stream"),f|=i<<e,e+=8}var j=c[f&(1<<d)-1],k=j>>16,l=65535&j;return(0==e||k>e||0==k)&&a("Bad encoding in flate stream"),this.codeBuf=f>>k,this.codeSize=e-k,this.bytesPos=h,l},b.prototype.generateHuffmanTable=function(a){for(var b=a.length,c=0,d=0;b>d;++d)a[d]>c&&(c=a[d]);for(var e=1<<c,f=new Uint32Array(e),g=1,h=0,i=2;c>=g;++g,h<<=1,i<<=1)for(var j=0;b>j;++j)if(a[j]==g){for(var k=0,l=h,d=0;g>d;++d)k=k<<1|1&l,l>>=1;for(var d=k;e>d;d+=i)f[d]=g<<16|j;++h}return[f,c]},b.prototype.readBlock=function(){function b(a,b,c,d,e){for(var f=a.getBits(c)+d;f-->0;)b[x++]=e}var h=this.getBits(3);if(1&h&&(this.eof=!0),h>>=1,0==h){var i,j=this.bytes,k=this.bytesPos;"undefined"==typeof(i=j[k++])&&a("Bad block header in flate stream");var l=i;"undefined"==typeof(i=j[k++])&&a("Bad block header in flate stream"),l|=i<<8,"undefined"==typeof(i=j[k++])&&a("Bad block header in flate stream");var m=i;"undefined"==typeof(i=j[k++])&&a("Bad block header in flate stream"),m|=i<<8,m!=(65535&~l)&&a("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var n=this.bufferLength,o=this.ensureBuffer(n+l),p=n+l;this.bufferLength=p;for(var q=n;p>q;++q){if("undefined"==typeof(i=j[k++])){this.eof=!0;break}o[q]=i}return void(this.bytesPos=k)}var r,s;if(1==h)r=f,s=g;else if(2==h){for(var t=this.getBits(5)+257,u=this.getBits(5)+1,v=this.getBits(4)+4,w=Array(c.length),x=0;v>x;)w[c[x++]]=this.getBits(3);for(var y=this.generateHuffmanTable(w),z=0,x=0,A=t+u,B=new Array(A);A>x;){var C=this.getCode(y);16==C?b(this,B,2,3,z):17==C?b(this,B,3,3,z=0):18==C?b(this,B,7,11,z=0):B[x++]=z=C}r=this.generateHuffmanTable(B.slice(0,t)),s=this.generateHuffmanTable(B.slice(t,A))}else a("Unknown block type in flate stream");for(var o=this.buffer,D=o?o.length:0,E=this.bufferLength;;){var F=this.getCode(r);if(256>F)E+1>=D&&(o=this.ensureBuffer(E+1),D=o.length),o[E++]=F;else{if(256==F)return void(this.bufferLength=E);F-=257,F=d[F];var G=F>>16;G>0&&(G=this.getBits(G));var z=(65535&F)+G;F=this.getCode(s),F=e[F],G=F>>16,G>0&&(G=this.getBits(G));var H=(65535&F)+G;E+z>=D&&(o=this.ensureBuffer(E+z),D=o.length);for(var I=0;z>I;++I,++E)o[E]=o[E-H]}}},b}();window.tmp=l});try{module.exports=jsPDF}catch(e){}var QRCode;!function(){function a(a){this.mode=j.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var b=0,c=this.data.length;c>b;b++){var d=[],e=this.data.charCodeAt(b);e>65536?(d[0]=240|(1835008&e)>>>18,d[1]=128|(258048&e)>>>12,d[2]=128|(4032&e)>>>6,d[3]=128|63&e):e>2048?(d[0]=224|(61440&e)>>>12,d[1]=128|(4032&e)>>>6,d[2]=128|63&e):e>128?(d[0]=192|(1984&e)>>>6,d[1]=128|63&e):d[0]=e,this.parsedData.push(d)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function b(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function c(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function d(a,b){this.totalCount=a,this.dataCount=b}function e(){this.buffer=[],this.length=0}function f(){return"undefined"!=typeof CanvasRenderingContext2D}function g(){var a=!1,b=navigator.userAgent;if(/android/i.test(b)){a=!0;var c=b.toString().match(/android ([0-9]\.[0-9])/i);c&&c[1]&&(a=parseFloat(c[1]))}return a}function h(a,b){for(var c=1,d=i(a),e=0,f=p.length;f>=e;e++){var g=0;switch(b){case k.L:g=p[e][0];break;case k.M:g=p[e][1];break;case k.Q:g=p[e][2];break;case k.H:g=p[e][3]}if(g>=d)break;c++}if(c>p.length)throw new Error("Too long data");return c}function i(a){var b=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return b.length+(b.length!=a?3:0)}a.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}},b.prototype={addData:function(b){var c=new a(b);this.dataList.push(c),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,c),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=m.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e,j=this.modules[f][h];j&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=a%2==0);for(var b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&(this.modules[6][b]=b%2==0)},setupPositionAdjustPattern:function(){for(var a=m.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var g=-2;2>=g;g++)this.modules[d+f][e+g]=-2==f||2==f||-2==g||2==g||0==f&&0==g?!0:!1}},setupTypeNumber:function(a){for(var b=m.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){
var d=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=m.getBCHTypeInfo(c),e=0;15>e;e++){var f=!a&&1==(d>>e&1);6>e?this.modules[e][8]=f:8>e?this.modules[e+1][8]=f:this.modules[this.moduleCount-15+e][8]=f}for(var e=0;15>e;e++){var f=!a&&1==(d>>e&1);8>e?this.modules[8][this.moduleCount-e-1]=f:9>e?this.modules[8][15-e-1+1]=f:this.modules[8][15-e-1]=f}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,g=this.moduleCount-1;g>0;g-=2)for(6==g&&g--;;){for(var h=0;2>h;h++)if(null==this.modules[d][g-h]){var i=!1;f<a.length&&(i=1==(a[f]>>>e&1));var j=m.getMask(b,d,g-h);j&&(i=!i),this.modules[d][g-h]=i,e--,-1==e&&(f++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},b.PAD0=236,b.PAD1=17,b.createData=function(a,c,f){for(var g=d.getRSBlocks(a,c),h=new e,i=0;i<f.length;i++){var j=f[i];h.put(j.mode,4),h.put(j.getLength(),m.getLengthInBits(j.mode,a)),j.write(h)}for(var k=0,i=0;i<g.length;i++)k+=g[i].dataCount;if(h.getLengthInBits()>8*k)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+8*k+")");for(h.getLengthInBits()+4<=8*k&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=8*k)&&(h.put(b.PAD0,8),!(h.getLengthInBits()>=8*k));)h.put(b.PAD1,8);return b.createBytes(h,g)},b.createBytes=function(a,b){for(var d=0,e=0,f=0,g=new Array(b.length),h=new Array(b.length),i=0;i<b.length;i++){var j=b[i].dataCount,k=b[i].totalCount-j;e=Math.max(e,j),f=Math.max(f,k),g[i]=new Array(j);for(var l=0;l<g[i].length;l++)g[i][l]=255&a.buffer[l+d];d+=j;var n=m.getErrorCorrectPolynomial(k),o=new c(g[i],n.getLength()-1),p=o.mod(n);h[i]=new Array(n.getLength()-1);for(var l=0;l<h[i].length;l++){var q=l+p.getLength()-h[i].length;h[i][l]=q>=0?p.get(q):0}}for(var r=0,l=0;l<b.length;l++)r+=b[l].totalCount;for(var s=new Array(r),t=0,l=0;e>l;l++)for(var i=0;i<b.length;i++)l<g[i].length&&(s[t++]=g[i][l]);for(var l=0;f>l;l++)for(var i=0;i<b.length;i++)l<h[i].length&&(s[t++]=h[i][l]);return s};for(var j={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},k={L:1,M:0,Q:3,H:2},l={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},m={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;m.getBCHDigit(b)-m.getBCHDigit(m.G15)>=0;)b^=m.G15<<m.getBCHDigit(b)-m.getBCHDigit(m.G15);return(a<<10|b)^m.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;m.getBCHDigit(b)-m.getBCHDigit(m.G18)>=0;)b^=m.G18<<m.getBCHDigit(b)-m.getBCHDigit(m.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return m.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case l.PATTERN000:return(b+c)%2==0;case l.PATTERN001:return b%2==0;case l.PATTERN010:return c%3==0;case l.PATTERN011:return(b+c)%3==0;case l.PATTERN100:return(Math.floor(b/2)+Math.floor(c/3))%2==0;case l.PATTERN101:return b*c%2+b*c%3==0;case l.PATTERN110:return(b*c%2+b*c%3)%2==0;case l.PATTERN111:return(b*c%3+(b+c)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new c([1],0),d=0;a>d;d++)b=b.multiply(new c([1,n.gexp(d)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case j.MODE_NUMBER:return 10;case j.MODE_ALPHA_NUM:return 9;case j.MODE_8BIT_BYTE:return 8;case j.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(27>b)switch(a){case j.MODE_NUMBER:return 12;case j.MODE_ALPHA_NUM:return 11;case j.MODE_8BIT_BYTE:return 16;case j.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(41>b))throw new Error("type:"+b);switch(a){case j.MODE_NUMBER:return 14;case j.MODE_ALPHA_NUM:return 13;case j.MODE_8BIT_BYTE:return 16;case j.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var i=-1;1>=i;i++)0>e+i||e+i>=b||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&f++;f>5&&(c+=3+f-5)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var j=0;a.isDark(d,e)&&j++,a.isDark(d+1,e)&&j++,a.isDark(d,e+1)&&j++,a.isDark(d+1,e+1)&&j++,(0==j||4==j)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&k++;var l=Math.abs(100*k/b/b-50)/5;return c+=10*l}},n={glog:function(a){if(1>a)throw new Error("glog("+a+")");return n.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return n.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},o=0;8>o;o++)n.EXP_TABLE[o]=1<<o;for(var o=8;256>o;o++)n.EXP_TABLE[o]=n.EXP_TABLE[o-4]^n.EXP_TABLE[o-5]^n.EXP_TABLE[o-6]^n.EXP_TABLE[o-8];for(var o=0;255>o;o++)n.LOG_TABLE[n.EXP_TABLE[o]]=o;c.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var e=0;e<a.getLength();e++)b[d+e]^=n.gexp(n.glog(this.get(d))+n.glog(a.get(e)));return new c(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=n.glog(this.get(0))-n.glog(a.get(0)),d=new Array(this.getLength()),e=0;e<this.getLength();e++)d[e]=this.get(e);for(var e=0;e<a.getLength();e++)d[e]^=n.gexp(n.glog(a.get(e))+b);return new c(d,0).mod(a)}},d.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],d.getRSBlocks=function(a,b){var c=d.getRsBlockTable(a,b);if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var e=c.length/3,f=[],g=0;e>g;g++)for(var h=c[3*g+0],i=c[3*g+1],j=c[3*g+2],k=0;h>k;k++)f.push(new d(i,j));return f},d.getRsBlockTable=function(a,b){switch(b){case k.L:return d.RS_BLOCK_TABLE[4*(a-1)+0];case k.M:return d.RS_BLOCK_TABLE[4*(a-1)+1];case k.Q:return d.RS_BLOCK_TABLE[4*(a-1)+2];case k.H:return d.RS_BLOCK_TABLE[4*(a-1)+3];default:return}},e.prototype={get:function(a){var b=Math.floor(a/8);return 1==(this.buffer[b]>>>7-a%8&1)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}};var p=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],q=function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){function b(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}{var c=this._htOption,d=this._el,e=a.getModuleCount();Math.floor(c.width/e),Math.floor(c.height/e)}this.clear();var f=b("svg",{viewBox:"0 0 "+String(e)+" "+String(e),width:"100%",height:"100%",fill:c.colorLight});f.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),d.appendChild(f),f.appendChild(b("rect",{fill:c.colorLight,width:"100%",height:"100%"})),f.appendChild(b("rect",{fill:c.colorDark,width:"1",height:"1",id:"template"}));for(var g=0;e>g;g++)for(var h=0;e>h;h++)if(a.isDark(g,h)){var i=b("use",{x:String(h),y:String(g)});i.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),f.appendChild(i)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),r="svg"===document.documentElement.tagName.toLowerCase(),s=r?q:f()?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function b(a,b){var c=this;if(c._fFail=b,c._fSuccess=a,null===c._bSupportDataURI){var d=document.createElement("img"),e=function(){c._bSupportDataURI=!1,c._fFail&&c._fFail.call(c)},f=function(){c._bSupportDataURI=!0,c._fSuccess&&c._fSuccess.call(c)};return d.onabort=e,d.onerror=e,d.onload=f,void(d.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}c._bSupportDataURI===!0&&c._fSuccess?c._fSuccess.call(c):c._bSupportDataURI===!1&&c._fFail&&c._fFail.call(c)}if(this._android&&this._android<=2.1){var c=1/window.devicePixelRatio,d=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,b,e,f,g,h,i,j){if("nodeName"in a&&/img/i.test(a.nodeName))for(var k=arguments.length-1;k>=1;k--)arguments[k]=arguments[k]*c;else"undefined"==typeof j&&(arguments[1]*=c,arguments[2]*=c,arguments[3]*=c,arguments[4]*=c);d.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1,this._android=g(),this._htOption=b,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=b.width,this._elCanvas.height=b.height,a.appendChild(this._elCanvas),this._el=a,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,g=d.height/e,h=Math.round(f),i=Math.round(g);b.style.display="none",this.clear();for(var j=0;e>j;j++)for(var k=0;e>k;k++){var l=a.isDark(j,k),m=k*f,n=j*g;c.strokeStyle=l?d.colorDark:d.colorLight,c.lineWidth=1,c.fillStyle=l?d.colorDark:d.colorLight,c.fillRect(m,n,f,g),c.strokeRect(Math.floor(m)+.5,Math.floor(n)+.5,h,i),c.strokeRect(Math.ceil(m)-.5,Math.ceil(n)-.5,h,i)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&b.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1e3*a)/1e3:a},e}():function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),e=Math.floor(b.width/d),f=Math.floor(b.height/d),g=['<table style="border:0;border-collapse:collapse;">'],h=0;d>h;h++){g.push("<tr>");for(var i=0;d>i;i++)g.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+e+"px;height:"+f+"px;background-color:"+(a.isDark(h,i)?b.colorDark:b.colorLight)+';"></td>');g.push("</tr>")}g.push("</table>"),c.innerHTML=g.join("");var j=c.childNodes[0],k=(b.width-j.offsetWidth)/2,l=(b.height-j.offsetHeight)/2;k>0&&l>0&&(j.style.margin=l+"px "+k+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();QRCode=function(a,b){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:k.H},"string"==typeof b&&(b={text:b}),b)for(var c in b)this._htOption[c]=b[c];"string"==typeof a&&(a=document.getElementById(a)),this._htOption.useSVG&&(s=q),this._android=g(),this._el=a,this._oQRCode=null,this._oDrawing=new s(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(a){this._oQRCode=new b(h(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=k}(),!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function b(){var a=document.createElement("input");return a.setAttribute("type","range"),"text"!==a.type}function c(a,b){var c=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)}function d(a,b){return b=b||100,function(){if(!a.debouncing){var c=Array.prototype.slice.apply(arguments);a.lastReturnVal=a.apply(window,c),a.debouncing=!0}return clearTimeout(a.debounceTimeout),a.debounceTimeout=setTimeout(function(){a.debouncing=!1},b),a.lastReturnVal}}function e(a){return a&&(0===a.offsetWidth||0===a.offsetHeight||a.open===!1)}function f(a){for(var b=[],c=a.parentNode;e(c);)b.push(c),c=c.parentNode;return b}function g(a,b){function c(a){"undefined"!=typeof a.open&&(a.open=a.open?!1:!0)}var d=f(a),e=d.length,g=[],h=a[b];if(e){for(var i=0;e>i;i++)g[i]=d[i].style.cssText,d[i].style.display="block",d[i].style.height="0",d[i].style.overflow="hidden",d[i].style.visibility="hidden",c(d[i]);h=a[b];for(var j=0;e>j;j++)d[j].style.cssText=g[j],c(d[j])}return h}function h(a,b){var c=parseFloat(a);return Number.isNaN(c)?b:c}function i(a){return a.charAt(0).toUpperCase()+a.substr(1)}function j(b,e){if(this.$window=a(window),this.$document=a(document),this.$element=a(b),this.options=a.extend({},n,e),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=o.orientation[this.orientation].dimension,this.DIRECTION=o.orientation[this.orientation].direction,this.DIRECTION_STYLE=o.orientation[this.orientation].directionStyle,this.COORDINATE=o.orientation[this.orientation].coordinate,this.polyfill&&m)return!1;this.identifier="js-"+k+"-"+l++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=a('<div class="'+this.options.fillClass+'" />'),this.$handle=a('<div class="'+this.options.handleClass+'" />'),this.$range=a('<div class="'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=a.proxy(this.handleDown,this),this.handleMove=a.proxy(this.handleMove,this),this.handleEnd=a.proxy(this.handleEnd,this),this.init();var f=this;this.$window.on("resize."+this.identifier,d(function(){c(function(){f.update()},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(a,b){if(!b||b.origin!==f.identifier){var c=a.target.value,d=f.getPositionFromValue(c);f.setPosition(d)}})}Number.isNaN=Number.isNaN||function(a){return"number"==typeof a&&a!==a};var k="rangeslider",l=0,m=b(),n={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},o={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};j.prototype.init=function(){this.update(!0,!1),this.onInit&&"function"==typeof this.onInit&&this.onInit()},j.prototype.update=function(a,b){a=a||!1,a&&(this.min=h(this.$element[0].getAttribute("min"),0),this.max=h(this.$element[0].getAttribute("max"),100),this.value=h(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=h(this.$element[0].getAttribute("step"),1)),this.handleDimension=g(this.$handle[0],"offset"+i(this.DIMENSION)),this.rangeDimension=g(this.$range[0],"offset"+i(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,b)},j.prototype.handleDown=function(a){if(this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),!((" "+a.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var b=this.getRelativePosition(a),c=this.$range[0].getBoundingClientRect()[this.DIRECTION],d=this.getPositionFromNode(this.$handle[0])-c,e="vertical"===this.orientation?this.maxHandlePos-(b-this.grabPos):b-this.grabPos;this.setPosition(e),b>=d&&b<d+this.handleDimension&&(this.grabPos=b-d)}},j.prototype.handleMove=function(a){a.preventDefault();var b=this.getRelativePosition(a),c="vertical"===this.orientation?this.maxHandlePos-(b-this.grabPos):b-this.grabPos;this.setPosition(c)},j.prototype.handleEnd=function(a){a.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},j.prototype.cap=function(a,b,c){return b>a?b:a>c?c:a},j.prototype.setPosition=function(a,b){var c,d;void 0===b&&(b=!0),c=this.getValueFromPosition(this.cap(a,0,this.maxHandlePos)),d=this.getPositionFromValue(c),this.$fill[0].style[this.DIMENSION]=d+this.grabPos+"px",this.$handle[0].style[this.DIRECTION_STYLE]=d+"px",this.setValue(c),this.position=d,this.value=c,b&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(d,c)},j.prototype.getPositionFromNode=function(a){for(var b=0;null!==a;)b+=a.offsetLeft,a=a.offsetParent;return b},j.prototype.getRelativePosition=function(a){var b=i(this.COORDINATE),c=this.$range[0].getBoundingClientRect()[this.DIRECTION],d=0;return"undefined"!=typeof a["page"+b]?d=a["client"+b]:"undefined"!=typeof a.originalEvent["client"+b]?d=a.originalEvent["client"+b]:a.originalEvent.touches&&a.originalEvent.touches[0]&&"undefined"!=typeof a.originalEvent.touches[0]["client"+b]?d=a.originalEvent.touches[0]["client"+b]:a.currentPoint&&"undefined"!=typeof a.currentPoint[this.COORDINATE]&&(d=a.currentPoint[this.COORDINATE]),d-c},j.prototype.getPositionFromValue=function(a){var b,c;return b=(a-this.min)/(this.max-this.min),c=Number.isNaN(b)?0:b*this.maxHandlePos},j.prototype.getValueFromPosition=function(a){var b,c;return b=a/(this.maxHandlePos||1),c=this.step*Math.round(b*(this.max-this.min)/this.step)+this.min,Number(c.toFixed(this.toFixed))},j.prototype.setValue=function(a){(a!==this.value||""===this.$element[0].value)&&this.$element.val(a).trigger("input",{origin:this.identifier})},j.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+k),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},a.fn[k]=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data("plugin_"+k);e||d.data("plugin_"+k,e=new j(this,b)),"string"==typeof b&&e[b].apply(e,c)})}}),!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports&&"object"==typeof module?module.exports=a:a(jQuery)}(function(a,b){"use strict";function c(b,c,d,e){for(var f=[],g=0;g<b.length;g++){var h=b[g];if(h){var i=tinycolor(h),j=i.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";j+=tinycolor.equals(c,h)?" sp-thumb-active":"";var k=i.toString(e.preferredFormat||"rgb"),l=q?"background-color:"+i.toRgbString():"filter:"+i.toFilter();f.push('<span title="'+k+'" data-color="'+i.toRgbString()+'" class="'+j+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}else{var m="sp-clear-display";f.push(a("<div />").append(a('<span data-color="" style="background-color:transparent;" class="'+m+'"></span>').attr("title",e.noColorSelectedText)).html())}}return"<div class='sp-cf "+d+"'>"+f.join("")+"</div>"}function d(){for(var a=0;a<o.length;a++)o[a]&&o[a].hide()}function e(b,c){var d=a.extend({},n,b);return d.callbacks={move:j(d.move,c),change:j(d.change,c),show:j(d.show,c),hide:j(d.hide,c),beforeShow:j(d.beforeShow,c)},d}function f(f,h){function j(){if(U.showPaletteOnly&&(U.showPalette=!0),Ma.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),U.palette){na=U.palette.slice(0),oa=a.isArray(na[0])?na:[na],pa={};for(var b=0;b<oa.length;b++)for(var c=0;c<oa[b].length;c++){var d=tinycolor(oa[b][c]).toRgbString();pa[d]=!0}}xa.toggleClass("sp-flat",V),xa.toggleClass("sp-input-disabled",!U.showInput),xa.toggleClass("sp-alpha-enabled",U.showAlpha),xa.toggleClass("sp-clear-enabled",Za),xa.toggleClass("sp-buttons-disabled",!U.showButtons),xa.toggleClass("sp-palette-buttons-disabled",!U.togglePaletteOnly),xa.toggleClass("sp-palette-disabled",!U.showPalette),xa.toggleClass("sp-palette-only",U.showPaletteOnly),xa.toggleClass("sp-initial-disabled",!U.showInitial),xa.addClass(U.className).addClass(U.containerClassName),O()}function n(){function b(b){return b.data&&b.data.ignore?(H(a(b.target).closest(".sp-thumb-el").data("color")),K()):(H(a(b.target).closest(".sp-thumb-el").data("color")),K(),N(!0),U.hideAfterPaletteSelect&&F()),!1}if(p&&xa.find("*:not(input)").attr("unselectable","on"),j(),Pa&&va.after(Qa).hide(),Za||Ka.hide(),V)va.after(xa).hide();else{var c="parent"===U.appendTo?va.parent():a(U.appendTo);1!==c.length&&(c=a("body")),c.append(xa)}t(),Ra.bind("click.spectrum touchstart.spectrum",function(b){wa||B(),b.stopPropagation(),a(b.target).is("input")||b.preventDefault()}),(va.is(":disabled")||U.disabled===!0)&&S(),xa.click(i),Ga.change(A),Ga.bind("paste",function(){setTimeout(A,1)}),Ga.keydown(function(a){13==a.keyCode&&A()}),Ja.text(U.cancelText),Ja.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),G(),F()}),Ka.attr("title",U.clearText),Ka.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),Ya=!0,K(),V&&N(!0)}),La.text(U.chooseText),La.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),p&&Ga.is(":focus")&&Ga.trigger("change"),J()&&(N(!0),F())}),Ma.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),Ma.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),U.showPaletteOnly=!U.showPaletteOnly,U.showPaletteOnly||V||xa.css("left","-="+(ya.outerWidth(!0)+5)),j()}),k(Ea,function(a,b,c){ma=a/ga,Ya=!1,c.shiftKey&&(ma=Math.round(10*ma)/10),K()},y,z),k(Ba,function(a,b){ja=parseFloat(b/ea),Ya=!1,U.showAlpha||(ma=1),K()},y,z),k(za,function(a,b,c){if(c.shiftKey){if(!ta){var d=ka*ba,e=ca-la*ca,f=Math.abs(a-d)>Math.abs(b-e);ta=f?"x":"y"}}else ta=null;var g=!ta||"x"===ta,h=!ta||"y"===ta;g&&(ka=parseFloat(a/ba)),h&&(la=parseFloat((ca-b)/ca)),Ya=!1,U.showAlpha||(ma=1),K()},y,z),Ta?(H(Ta),L(),Wa=Va||tinycolor(Ta).format,u(Ta)):L(),V&&C();var d=p?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ha.delegate(".sp-thumb-el",d,b),Ia.delegate(".sp-thumb-el:nth-child(1)",d,{ignore:!0},b)}function t(){if(X&&window.localStorage){try{var b=window.localStorage[X].split(",#");b.length>1&&(delete window.localStorage[X],a.each(b,function(a,b){u(b)}))}catch(c){}try{qa=window.localStorage[X].split(";")}catch(c){}}}function u(b){if(W){var c=tinycolor(b).toRgbString();if(!pa[c]&&-1===a.inArray(c,qa))for(qa.push(c);qa.length>ra;)qa.shift();if(X&&window.localStorage)try{window.localStorage[X]=qa.join(";")}catch(d){}}}function v(){var a=[];if(U.showPalette)for(var b=0;b<qa.length;b++){var c=tinycolor(qa[b]).toRgbString();pa[c]||a.push(qa[b])}return a.reverse().slice(0,U.maxSelectionSize)}function w(){var b=I(),d=a.map(oa,function(a,d){return c(a,b,"sp-palette-row sp-palette-row-"+d,U)});t(),qa&&d.push(c(v(),b,"sp-palette-row sp-palette-row-selection",U)),Ha.html(d.join(""))}function x(){if(U.showInitial){var a=Ua,b=I();Ia.html(c([a,b],b,"sp-palette-row-initial",U))}}function y(){(0>=ca||0>=ba||0>=ea)&&O(),aa=!0,xa.addClass(sa),ta=null,va.trigger("dragstart.spectrum",[I()])}function z(){aa=!1,xa.removeClass(sa),va.trigger("dragstop.spectrum",[I()])}function A(){var a=Ga.val();if(null!==a&&""!==a||!Za){var b=tinycolor(a);b.isValid()?(H(b),N(!0)):Ga.addClass("sp-validation-error")}else H(null),N(!0)}function B(){_?F():C()}function C(){var b=a.Event("beforeShow.spectrum");return _?void O():(va.trigger(b,[I()]),void(Z.beforeShow(I())===!1||b.isDefaultPrevented()||(d(),_=!0,a(ua).bind("keydown.spectrum",D),a(ua).bind("click.spectrum",E),a(window).bind("resize.spectrum",$),Qa.addClass("sp-active"),xa.removeClass("sp-hidden"),O(),L(),Ua=I(),x(),Z.show(Ua),va.trigger("show.spectrum",[Ua]))))}function D(a){27===a.keyCode&&F()}function E(a){2!=a.button&&(aa||(Xa?N(!0):G(),F()))}function F(){_&&!V&&(_=!1,a(ua).unbind("keydown.spectrum",D),a(ua).unbind("click.spectrum",E),a(window).unbind("resize.spectrum",$),Qa.removeClass("sp-active"),xa.addClass("sp-hidden"),Z.hide(I()),va.trigger("hide.spectrum",[I()]))}function G(){H(Ua,!0)}function H(a,b){if(tinycolor.equals(a,I()))return void L();var c,d;!a&&Za?Ya=!0:(Ya=!1,c=tinycolor(a),d=c.toHsv(),ja=d.h%360/360,ka=d.s,la=d.v,ma=d.a),L(),c&&c.isValid()&&!b&&(Wa=Va||c.getFormat())}function I(a){return a=a||{},Za&&Ya?null:tinycolor.fromRatio({h:ja,s:ka,v:la,a:Math.round(100*ma)/100},{format:a.format||Wa})}function J(){return!Ga.hasClass("sp-validation-error")}function K(){L(),Z.move(I()),va.trigger("move.spectrum",[I()])}function L(){Ga.removeClass("sp-validation-error"),M();var a=tinycolor.fromRatio({h:ja,s:1,v:1});za.css("background-color",a.toHexString());var b=Wa;1>ma&&(0!==ma||"name"!==b)&&("hex"===b||"hex3"===b||"hex6"===b||"name"===b)&&(b="rgb");var c=I({format:b}),d="";if(Sa.removeClass("sp-clear-display"),Sa.css("background-color","transparent"),!c&&Za)Sa.addClass("sp-clear-display");else{var e=c.toHexString(),f=c.toRgbString();if(q||1===c.alpha?Sa.css("background-color",f):(Sa.css("background-color","transparent"),Sa.css("filter",c.toFilter())),U.showAlpha){var g=c.toRgb();g.a=0;var h=tinycolor(g).toRgbString(),i="linear-gradient(left, "+h+", "+e+")";p?Da.css("filter",tinycolor(h).toFilter({gradientType:1},e)):(Da.css("background","-webkit-"+i),Da.css("background","-moz-"+i),Da.css("background","-ms-"+i),Da.css("background","linear-gradient(to right, "+h+", "+e+")"))}d=c.toString(b)}U.showInput&&Ga.val(d),U.showPalette&&w(),x()}function M(){var a=ka,b=la;if(Za&&Ya)Fa.hide(),Ca.hide(),Aa.hide();else{Fa.show(),Ca.show(),Aa.show();var c=a*ba,d=ca-b*ca;c=Math.max(-da,Math.min(ba-da,c-da)),d=Math.max(-da,Math.min(ca-da,d-da)),Aa.css({top:d+"px",left:c+"px"});var e=ma*ga;Fa.css({left:e-ha/2+"px"});var f=ja*ea;Ca.css({top:f-ia+"px"})}}function N(a){var b=I(),c="",d=!tinycolor.equals(b,Ua);b&&(c=b.toString(Wa),u(b)),Na&&va.val(c),a&&d&&(Z.change(b),va.trigger("change",[b]))}function O(){ba=za.width(),ca=za.height(),da=Aa.height(),fa=Ba.width(),ea=Ba.height(),ia=Ca.height(),ga=Ea.width(),ha=Fa.width(),V||(xa.css("position","absolute"),xa.offset(U.offset?U.offset:g(xa,Ra))),M(),U.showPalette&&w(),va.trigger("reflow.spectrum")}function P(){va.show(),Ra.unbind("click.spectrum touchstart.spectrum"),xa.remove(),Qa.remove(),o[$a.id]=null}function Q(c,d){return c===b?a.extend({},U):d===b?U[c]:(U[c]=d,void j())}function R(){wa=!1,va.attr("disabled",!1),Ra.removeClass("sp-disabled")}
function S(){F(),wa=!0,va.attr("disabled",!0),Ra.addClass("sp-disabled")}function T(a){U.offset=a,O()}var U=e(h,f),V=U.flat,W=U.showSelectionPalette,X=U.localStorageKey,Y=U.theme,Z=U.callbacks,$=l(O,10),_=!1,aa=!1,ba=0,ca=0,da=0,ea=0,fa=0,ga=0,ha=0,ia=0,ja=0,ka=0,la=0,ma=1,na=[],oa=[],pa={},qa=U.selectionPalette.slice(0),ra=U.maxSelectionSize,sa="sp-dragging",ta=null,ua=f.ownerDocument,va=(ua.body,a(f)),wa=!1,xa=a(s,ua).addClass(Y),ya=xa.find(".sp-picker-container"),za=xa.find(".sp-color"),Aa=xa.find(".sp-dragger"),Ba=xa.find(".sp-hue"),Ca=xa.find(".sp-slider"),Da=xa.find(".sp-alpha-inner"),Ea=xa.find(".sp-alpha"),Fa=xa.find(".sp-alpha-handle"),Ga=xa.find(".sp-input"),Ha=xa.find(".sp-palette"),Ia=xa.find(".sp-initial"),Ja=xa.find(".sp-cancel"),Ka=xa.find(".sp-clear"),La=xa.find(".sp-choose"),Ma=xa.find(".sp-palette-toggle"),Na=va.is("input"),Oa=Na&&"color"===va.attr("type")&&m(),Pa=Na&&!V,Qa=Pa?a(r).addClass(Y).addClass(U.className).addClass(U.replacerClassName):a([]),Ra=Pa?Qa:va,Sa=Qa.find(".sp-preview-inner"),Ta=U.color||Na&&va.val(),Ua=!1,Va=U.preferredFormat,Wa=Va,Xa=!U.showButtons||U.clickoutFiresChange,Ya=!Ta,Za=U.allowEmpty&&!Oa;n();var $a={show:C,hide:F,toggle:B,reflow:O,option:Q,enable:R,disable:S,offset:T,set:function(a){H(a),N()},get:I,destroy:P,container:xa};return $a.id=o.push($a)-1,$a}function g(b,c){var d=0,e=b.outerWidth(),f=b.outerHeight(),g=c.outerHeight(),h=b[0].ownerDocument,i=h.documentElement,j=i.clientWidth+a(h).scrollLeft(),k=i.clientHeight+a(h).scrollTop(),l=c.offset();return l.top+=g,l.left-=Math.min(l.left,l.left+e>j&&j>e?Math.abs(l.left+e-j):0),l.top-=Math.min(l.top,l.top+f>k&&k>f?Math.abs(f+g-d):d),l}function h(){}function i(a){a.stopPropagation()}function j(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function k(b,c,d,e){function f(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.returnValue=!1}function g(a){if(k){if(p&&j.documentMode<9&&!a.button)return i();var d=a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches[0],e=d&&d.pageX||a.pageX,g=d&&d.pageY||a.pageY,h=Math.max(0,Math.min(e-l.left,n)),q=Math.max(0,Math.min(g-l.top,m));o&&f(a),c.apply(b,[h,q,a])}}function h(c){var e=c.which?3==c.which:2==c.button;e||k||d.apply(b,arguments)!==!1&&(k=!0,m=a(b).height(),n=a(b).width(),l=a(b).offset(),a(j).bind(q),a(j.body).addClass("sp-dragging"),g(c),f(c))}function i(){k&&(a(j).unbind(q),a(j.body).removeClass("sp-dragging"),setTimeout(function(){e.apply(b,arguments)},0)),k=!1}c=c||function(){},d=d||function(){},e=e||function(){};var j=document,k=!1,l={},m=0,n=0,o="ontouchstart"in window,q={};q.selectstart=f,q.dragstart=f,q["touchmove mousemove"]=g,q["touchend mouseup"]=i,a(b).bind("touchstart mousedown",h)}function l(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,a.apply(e,f)};c&&clearTimeout(d),(c||!d)&&(d=setTimeout(g,b))}}function m(){return a.fn.spectrum.inputTypeColorSupport()}var n={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},o=[],p=!!/msie/i.exec(window.navigator.userAgent),q=function(){function a(a,b){return!!~(""+a).indexOf(b)}var b=document.createElement("div"),c=b.style;return c.cssText="background-color:rgba(0,0,0,.5)",a(c.backgroundColor,"rgba")||a(c.backgroundColor,"hsla")}(),r=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var a="";if(p)for(var b=1;6>=b;b++)a+="<div class='sp-"+b+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",a,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),t="spectrum.id";a.fn.spectrum=function(b){if("string"==typeof b){var c=this,d=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=o[a(this).data(t)];if(e){var f=e[b];if(!f)throw new Error("Spectrum: no such method: '"+b+"'");"get"==b?c=e.get():"container"==b?c=e.container:"option"==b?c=e.option.apply(e,d):"destroy"==b?(e.destroy(),a(this).removeData(t)):f.apply(e,d)}}),c}return this.spectrum("destroy").each(function(){var c=a.extend({},b,a(this).data()),d=f(this,c);a(this).data(t,d.id)})},a.fn.spectrum.load=!0,a.fn.spectrum.loadOpts={},a.fn.spectrum.draggable=k,a.fn.spectrum.defaults=n,a.fn.spectrum.inputTypeColorSupport=function u(){if("undefined"==typeof u._cachedResult){var b=a("<input type='color'/>")[0];u._cachedResult="color"===b.type&&""!==b.value}return u._cachedResult},a.spectrum={},a.spectrum.localization={},a.spectrum.palettes={},a.fn.spectrum.processNativeColorInputs=function(){var b=a("input[type=color]");b.length&&!m()&&b.spectrum({preferredFormat:"hex6"})},function(){function a(a){var c={r:0,g:0,b:0},e=1,g=!1,h=!1;return"string"==typeof a&&(a=G(a)),"object"==typeof a&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?(c=b(a.r,a.g,a.b),g=!0,h="%"===String(a.r).substr(-1)?"prgb":"rgb"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")?(a.s=D(a.s),a.v=D(a.v),c=f(a.h,a.s,a.v),g=!0,h="hsv"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=D(a.s),a.l=D(a.l),c=d(a.h,a.s,a.l),g=!0,h="hsl"),a.hasOwnProperty("a")&&(e=a.a)),e=w(e),{ok:g,format:a.format||h,r:M(255,N(c.r,0)),g:M(255,N(c.g,0)),b:M(255,N(c.b,0)),a:e}}function b(a,b,c){return{r:255*x(a,255),g:255*x(b,255),b:255*x(c,255)}}function c(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function d(a,b,c){function d(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=x(a,360),b=x(b,100),c=x(c,100),0===b)e=f=g=c;else{var h=.5>c?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function e(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function f(a,b,c){a=6*x(a,360),b=x(b,100),c=x(c,100);var d=K.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6,j=[c,g,f,f,h,c][i],k=[h,c,c,g,f,f][i],l=[f,f,h,c,c,g][i];return{r:255*j,g:255*k,b:255*l}}function g(a,b,c,d){var e=[C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function h(a,b,c,d){var e=[C(E(d)),C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))];return e.join("")}function i(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s-=b/100,c.s=y(c.s),P(c)}function j(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s+=b/100,c.s=y(c.s),P(c)}function k(a){return P(a).desaturate(100)}function l(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l+=b/100,c.l=y(c.l),P(c)}function m(a,b){b=0===b?0:b||10;var c=P(a).toRgb();return c.r=N(0,M(255,c.r-L(255*-(b/100)))),c.g=N(0,M(255,c.g-L(255*-(b/100)))),c.b=N(0,M(255,c.b-L(255*-(b/100)))),P(c)}function n(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l-=b/100,c.l=y(c.l),P(c)}function o(a,b){var c=P(a).toHsl(),d=(L(c.h)+b)%360;return c.h=0>d?360+d:d,P(c)}function p(a){var b=P(a).toHsl();return b.h=(b.h+180)%360,P(b)}function q(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+120)%360,s:b.s,l:b.l}),P({h:(c+240)%360,s:b.s,l:b.l})]}function r(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+90)%360,s:b.s,l:b.l}),P({h:(c+180)%360,s:b.s,l:b.l}),P({h:(c+270)%360,s:b.s,l:b.l})]}function s(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+72)%360,s:b.s,l:b.l}),P({h:(c+216)%360,s:b.s,l:b.l})]}function t(a,b,c){b=b||6,c=c||30;var d=P(a).toHsl(),e=360/c,f=[P(a)];for(d.h=(d.h-(e*b>>1)+720)%360;--b;)d.h=(d.h+e)%360,f.push(P(d));return f}function u(a,b){b=b||6;for(var c=P(a).toHsv(),d=c.h,e=c.s,f=c.v,g=[],h=1/b;b--;)g.push(P({h:d,s:e,v:f})),f=(f+h)%1;return g}function v(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function w(a){return a=parseFloat(a),(isNaN(a)||0>a||a>1)&&(a=1),a}function x(a,b){A(a)&&(a="100%");var c=B(a);return a=M(b,N(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),K.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function y(a){return M(1,N(0,a))}function z(a){return parseInt(a,16)}function A(a){return"string"==typeof a&&-1!=a.indexOf(".")&&1===parseFloat(a)}function B(a){return"string"==typeof a&&-1!=a.indexOf("%")}function C(a){return 1==a.length?"0"+a:""+a}function D(a){return 1>=a&&(a=100*a+"%"),a}function E(a){return Math.round(255*parseFloat(a)).toString(16)}function F(a){return z(a)/255}function G(a){a=a.replace(H,"").replace(I,"").toLowerCase();var b=!1;if(Q[a])a=Q[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=S.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=S.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=S.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=S.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=S.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=S.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=S.hex8.exec(a))?{a:F(c[1]),r:z(c[2]),g:z(c[3]),b:z(c[4]),format:b?"name":"hex8"}:(c=S.hex6.exec(a))?{r:z(c[1]),g:z(c[2]),b:z(c[3]),format:b?"name":"hex"}:(c=S.hex3.exec(a))?{r:z(c[1]+""+c[1]),g:z(c[2]+""+c[2]),b:z(c[3]+""+c[3]),format:b?"name":"hex"}:!1}var H=/^[\s,#]+/,I=/\s+$/,J=0,K=Math,L=K.round,M=K.min,N=K.max,O=K.random,P=function(b,c){if(b=b?b:"",c=c||{},b instanceof P)return b;if(!(this instanceof P))return new P(b,c);var d=a(b);this._originalInput=b,this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=L(100*this._a)/100,this._format=c.format||d.format,this._gradientType=c.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=d.ok,this._tc_id=J++};P.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},setAlpha:function(a){return this._a=w(a),this._roundA=L(100*this._a)/100,this},toHsv:function(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=e(this._r,this._g,this._b),b=L(360*a.h),c=L(100*a.s),d=L(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=c(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=c(this._r,this._g,this._b),b=L(360*a.h),d=L(100*a.s),e=L(100*a.l);return 1==this._a?"hsl("+b+", "+d+"%, "+e+"%)":"hsla("+b+", "+d+"%, "+e+"%, "+this._roundA+")"},toHex:function(a){return g(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return h(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+L(this._r)+", "+L(this._g)+", "+L(this._b)+")":"rgba("+L(this._r)+", "+L(this._g)+", "+L(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:L(100*x(this._r,255))+"%",g:L(100*x(this._g,255))+"%",b:L(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%)":"rgba("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:R[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var b="#"+h(this._r,this._g,this._b,this._a),c=b,d=this._gradientType?"GradientType = 1, ":"";if(a){var e=P(a);c=e.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+b+",endColorstr="+c+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),("hex"===a||"hex6"===a)&&(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(l,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(n,arguments)},desaturate:function(){return this._applyModification(i,arguments)},saturate:function(){return this._applyModification(j,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(o,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(t,arguments)},complement:function(){return this._applyCombination(p,arguments)},monochromatic:function(){return this._applyCombination(u,arguments)},splitcomplement:function(){return this._applyCombination(s,arguments)},triad:function(){return this._applyCombination(q,arguments)},tetrad:function(){return this._applyCombination(r,arguments)}},P.fromRatio=function(a,b){if("object"==typeof a){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]="a"===d?a[d]:D(a[d]));a=c}return P(a,b)},P.equals=function(a,b){return a&&b?P(a).toRgbString()==P(b).toRgbString():!1},P.random=function(){return P.fromRatio({r:O(),g:O(),b:O()})},P.mix=function(a,b,c){c=0===c?0:c||50;var d,e=P(a).toRgb(),f=P(b).toRgb(),g=c/100,h=2*g-1,i=f.a-e.a;d=h*i==-1?h:(h+i)/(1+h*i),d=(d+1)/2;var j=1-d,k={r:f.r*d+e.r*j,g:f.g*d+e.g*j,b:f.b*d+e.b*j,a:f.a*g+e.a*(1-g)};return P(k)},P.readability=function(a,b){var c=P(a),d=P(b),e=c.toRgb(),f=d.toRgb(),g=c.getBrightness(),h=d.getBrightness(),i=Math.max(e.r,f.r)-Math.min(e.r,f.r)+Math.max(e.g,f.g)-Math.min(e.g,f.g)+Math.max(e.b,f.b)-Math.min(e.b,f.b);return{brightness:Math.abs(g-h),color:i}},P.isReadable=function(a,b){var c=P.readability(a,b);return c.brightness>125&&c.color>500},P.mostReadable=function(a,b){for(var c=null,d=0,e=!1,f=0;f<b.length;f++){var g=P.readability(a,b[f]),h=g.brightness>125&&g.color>500,i=3*(g.brightness/125)+g.color/500;(h&&!e||h&&e&&i>d||!h&&!e&&i>d)&&(e=h,d=i,c=P(b[f]))}return c};var Q=P.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=P.hexNames=v(Q),S=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hsva:new RegExp("hsva"+e),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=P}(),a(function(){a.fn.spectrum.load&&a.fn.spectrum.processNativeColorInputs()})}),function(){function a(a){return a.call.apply(a.bind,arguments)}function b(a,b){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),a.apply(b,d)}}return function(){return a.apply(b,arguments)}}function c(){return c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:b,c.apply(null,arguments)}function d(a,b){this.a=a,this.m=b||a,this.c=this.m.document}function e(a,b,c,d){if(b=a.c.createElement(b),c)for(var e in c)c.hasOwnProperty(e)&&("style"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));return d&&b.appendChild(a.c.createTextNode(d)),b}function f(a,b,c){a=a.c.getElementsByTagName(b)[0],a||(a=document.documentElement),a.insertBefore(c,a.lastChild)}function g(a){a.parentNode&&a.parentNode.removeChild(a)}function h(a,b,c){b=b||[],c=c||[];for(var d=a.className.split(/\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}for(b=[],e=0;e<d.length;e+=1){for(f=!1,g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function i(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;e>d;d++)if(c[d]==b)return!0;return!1}function j(a){if("string"==typeof a.f)return a.f;var b=a.m.location.protocol;return"about:"==b&&(b=a.a.location.protocol),"https:"==b?"https:":"http:"}function k(a){return a.m.location.hostname||a.a.location.hostname}function l(a,b,c){function d(){j&&g&&h&&(j(i),j=null)}b=e(a,"link",{rel:"stylesheet",href:b,media:"all"});var g=!1,h=!0,i=null,j=c||null;da?(b.onload=function(){g=!0,d()},b.onerror=function(){g=!0,i=Error("Stylesheet failed to load"),d()}):setTimeout(function(){g=!0,d()},0),f(a,"head",b)}function m(a,b,c,d){var f=a.c.getElementsByTagName("head")[0];if(f){var g=e(a,"script",{src:b}),h=!1;return g.onload=g.onreadystatechange=function(){h||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(h=!0,c&&c(null),g.onload=g.onreadystatechange=null,"HEAD"==g.parentNode.tagName&&f.removeChild(g))},f.appendChild(g),setTimeout(function(){h||(h=!0,c&&c(Error("Script load timeout")))},d||5e3),g}return null}function n(){this.a=0,this.c=null}function o(a){return a.a++,function(){a.a--,q(a)}}function p(a,b){a.c=b,q(a)}function q(a){0==a.a&&a.c&&(a.c(),a.c=null)}function r(a){this.a=a||"-"}function s(a,b){this.c=a,this.f=4,this.a="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function t(a){return w(a)+" "+(a.f+"00")+" 300px "+u(a.c)}function u(a){var b=[];a=a.split(/,\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['"]/g,"");b.push(-1!=d.indexOf(" ")||/^\d/.test(d)?"'"+d+"'":d)}return b.join(",")}function v(a){return a.a+a.f}function w(a){var b="normal";return"o"===a.a?b="oblique":"i"===a.a&&(b="italic"),b}function x(a){var b=4,c="n",d=null;return a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10)))),c+b}function y(a,b){this.c=a,this.f=a.m.document.documentElement,this.h=b,this.a=new r("-"),this.j=!1!==b.events,this.g=!1!==b.classes}function z(a){a.g&&h(a.f,[a.a.c("wf","loading")]),B(a,"loading")}function A(a){if(a.g){var b=i(a.f,a.a.c("wf","active")),c=[],d=[a.a.c("wf","loading")];b||c.push(a.a.c("wf","inactive")),h(a.f,c,d)}B(a,"inactive")}function B(a,b,c){a.j&&a.h[b]&&(c?a.h[b](c.c,v(c)):a.h[b]())}function C(){this.c={}}function D(a,b,c){var d,e=[];for(d in b)if(b.hasOwnProperty(d)){var f=a.c[d];f&&e.push(f(b[d],c))}return e}function E(a,b){this.c=a,this.f=b,this.a=e(this.c,"span",{"aria-hidden":"true"},this.f)}function F(a){f(a.c,"body",a.a)}function G(a){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+u(a.c)+";"+("font-style:"+w(a)+";font-weight:"+(a.f+"00")+";")}function H(a,b,c,d,e,f){this.g=a,this.j=b,this.a=d,this.c=c,this.f=e||3e3,this.h=f||void 0}function I(a,b,c,d,e,f,g){this.v=a,this.B=b,this.c=c,this.a=d,this.s=g||"BESbswy",this.f={},this.w=e||3e3,this.u=f||null,this.o=this.j=this.h=this.g=null,this.g=new E(this.c,this.s),this.h=new E(this.c,this.s),this.j=new E(this.c,this.s),this.o=new E(this.c,this.s),a=new s(this.a.c+",serif",v(this.a)),a=G(a),this.g.a.style.cssText=a,a=new s(this.a.c+",sans-serif",v(this.a)),a=G(a),this.h.a.style.cssText=a,a=new s("serif",v(this.a)),a=G(a),this.j.a.style.cssText=a,a=new s("sans-serif",v(this.a)),a=G(a),this.o.a.style.cssText=a,F(this.g),F(this.h),F(this.j),F(this.o)}function J(){if(null===fa){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);fa=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return fa}function K(a,b,c){for(var d in ea)if(ea.hasOwnProperty(d)&&b===a.f[ea[d]]&&c===a.f[ea[d]])return!0;return!1}function L(a){var b,c=a.g.a.offsetWidth,d=a.h.a.offsetWidth;(b=c===a.f.serif&&d===a.f["sans-serif"])||(b=J()&&K(a,c,d)),b?ca()-a.A>=a.w?J()&&K(a,c,d)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?N(a,a.v):N(a,a.B):M(a):N(a,a.v)}function M(a){setTimeout(c(function(){L(this)},a),50)}function N(a,b){setTimeout(c(function(){g(this.g.a),g(this.h.a),g(this.j.a),g(this.o.a),b(this.a)},a),0)}function O(a,b,c){this.c=a,this.a=b,this.f=0,this.o=this.j=!1,this.s=c}function P(a){0==--a.f&&a.j&&(a.o?(a=a.a,a.g&&h(a.f,[a.a.c("wf","active")],[a.a.c("wf","loading"),a.a.c("wf","inactive")]),B(a,"active")):A(a.a))}function Q(a){this.j=a,this.a=new C,this.h=0,this.f=this.g=!0}function R(a,b,d,e,f){var g=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=f||null,i=e||null||{};if(0===d.length&&g)A(b.a);else{b.f+=d.length,g&&(b.j=g);var j,k=[];for(j=0;j<d.length;j++){var l=d[j],m=i[l.c],n=b.a,o=l;if(n.g&&h(n.f,[n.a.c("wf",o.c,v(o).toString(),"loading")]),B(n,"fontloading",o),n=null,null===ga)if(window.FontFace){var o=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),p=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ga=o?42<parseInt(o[1],10):p?!1:!0}else ga=!1;n=ga?new H(c(b.g,b),c(b.h,b),b.c,l,b.s,m):new I(c(b.g,b),c(b.h,b),b.c,l,b.s,a,m),k.push(n)}for(j=0;j<k.length;j++)k[j].start()}},0)}function S(a,b,c){var d=[],e=c.timeout;z(b);var d=D(a.a,c,a.c),f=new O(a.c,b,e);for(a.h=d.length,b=0,c=d.length;c>b;b++)d[b].load(function(b,c,d){R(a,f,b,c,d)})}function T(a,b){this.c=a,this.a=b}function U(a,b,c){var d=j(a.c);return a=(a.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""),d+"//"+a+"/"+b+".js"+(c?"?v="+c:"")}function V(a,b){this.c=a,this.a=b}function W(a,b,c){this.c=a?a:b+ha,this.a=[],this.f=[],this.g=c||""}function X(a,b){for(var c=b.length,d=0;c>d;d++){var e=b[d].split(":");3==e.length&&a.f.push(e.pop());var f="";2==e.length&&""!=e[1]&&(f=":"),a.a.push(e.join(f))}}function Y(a){if(0==a.a.length)throw Error("No fonts to load!");if(-1!=a.c.indexOf("kit="))return a.c;for(var b=a.a.length,c=[],d=0;b>d;d++)c.push(a.a[d].replace(/ /g,"+"));return b=a.c+"?family="+c.join("%7C"),0<a.f.length&&(b+="&subset="+a.f.join(",")),0<a.g.length&&(b+="&text="+encodeURIComponent(a.g)),b}function Z(a){this.f=a,this.a=[],this.c={}}function $(a){for(var b=a.f.length,c=0;b>c;c++){var d=a.f[c].split(":"),e=d[0].replace(/\+/g," "),f=["n4"];if(2<=d.length){var g,h=d[1];if(g=[],h)for(var h=h.split(","),i=h.length,j=0;i>j;j++){var k;if(k=h[j],k.match(/^[\w-]+$/)){var l=la.exec(k.toLowerCase());if(null==l)k="";else{if(k=l[2],k=null==k||""==k?"n":ka[k],l=l[1],null==l||""==l)l="4";else var m=ja[l],l=m?m:isNaN(l)?"4":l.substr(0,1);k=[k,l].join("")}}else k="";k&&g.push(k)}0<g.length&&(f=g),3==d.length&&(d=d[2],g=[],d=d?d.split(","):g,0<d.length&&(d=ia[d[0]])&&(a.c[e]=d))}for(a.c[e]||(d=ia[e])&&(a.c[e]=d),d=0;d<f.length;d+=1)a.a.push(new s(e,f[d]))}}function _(a,b){this.c=a,this.a=b}function aa(a,b){this.c=a,this.a=b}function ba(a,b){this.c=a,this.f=b,this.a=[]}var ca=Date.now||function(){return+new Date},da=!!window.FontFace;r.prototype.c=function(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b].replace(/[\W_]+/g,"").toLowerCase());return a.join(this.a)},H.prototype.start=function(){var a=this.c.m.document,b=this,c=ca(),d=new Promise(function(d,e){function f(){ca()-c>=b.f?e():a.fonts.load(t(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=new Promise(function(a,c){setTimeout(c,b.f)});Promise.race([e,d]).then(function(){b.g(b.a)},function(){b.j(b.a)})};var ea={D:"serif",C:"sans-serif"},fa=null;I.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=ca(),L(this)};var ga=null;O.prototype.g=function(a){var b=this.a;b.g&&h(b.f,[b.a.c("wf",a.c,v(a).toString(),"active")],[b.a.c("wf",a.c,v(a).toString(),"loading"),b.a.c("wf",a.c,v(a).toString(),"inactive")]),B(b,"fontactive",a),this.o=!0,P(this)},O.prototype.h=function(a){var b=this.a;if(b.g){var c=i(b.f,b.a.c("wf",a.c,v(a).toString(),"active")),d=[],e=[b.a.c("wf",a.c,v(a).toString(),"loading")];c||d.push(b.a.c("wf",a.c,v(a).toString(),"inactive")),h(b.f,d,e)}B(b,"fontinactive",a),P(this)},Q.prototype.load=function(a){this.c=new d(this.j,a.context||this.j),this.g=!1!==a.events,this.f=!1!==a.classes,S(this,new y(this.c,a),a)},T.prototype.load=function(a){function b(){if(f["__mti_fntLst"+d]){var c,e=f["__mti_fntLst"+d](),g=[];if(e)for(var h=0;h<e.length;h++){var i=e[h].fontfamily;void 0!=e[h].fontStyle&&void 0!=e[h].fontWeight?(c=e[h].fontStyle+e[h].fontWeight,g.push(new s(i,c))):g.push(new s(i))}a(g)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.m;m(this.c,U(c,d,e),function(e){e?a([]):(f["__MonotypeConfiguration__"+d]=function(){return c.a},b())}).id="__MonotypeAPIScript__"+d}else a([])},V.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new n;for(b=0,c=d.length;c>b;b++)l(this.c,d[b],o(g));var h=[];for(b=0,c=e.length;c>b;b++)if(d=e[b].split(":"),d[1])for(var i=d[1].split(","),j=0;j<i.length;j+=1)h.push(new s(d[0],i[j]));else h.push(new s(d[0]));p(g,function(){a(h,f)})};var ha="//fonts.googleapis.com/css",ia={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},ja={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ka={i:"i",italic:"i",n:"n",normal:"n"},la=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,ma={Arimo:!0,Cousine:!0,Tinos:!0};_.prototype.load=function(a){var b=new n,c=this.c,d=new W(this.a.api,j(c),this.a.text),e=this.a.families;X(d,e);var f=new Z(e);$(f),l(c,Y(d),o(b)),p(b,function(){a(f.a,f.c,ma)})},aa.prototype.load=function(a){var b=this.a.id,c=this.c.m;b?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+b+".js",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var d=[],e=0;e<b.length;e+=2)for(var f=b[e],g=b[e+1],h=0;h<g.length;h++)d.push(new s(f,g[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(i){}a(d)}},2e3):a([])},ba.prototype.load=function(a){var b=this.f.id,c=this.c.m,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var e=0,f=c.fonts.length;f>e;++e){var g=c.fonts[e];d.a.push(new s(g.name,x("font-weight:"+g.weight+";font-style:"+g.style)))}a(d.a)},m(this.c,j(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+k(this.c)+"/"+b+".js",function(b){b&&a([])})):a([])};var na=new Q(window);na.a.c.custom=function(a,b){return new V(b,a)},na.a.c.fontdeck=function(a,b){return new ba(b,a)},na.a.c.monotype=function(a,b){
return new T(b,a)},na.a.c.typekit=function(a,b){return new aa(b,a)},na.a.c.google=function(a,b){return new _(b,a)};var oa={load:c(na.load,na)};"function"==typeof define&&define.amd?define(function(){return oa}):"undefined"!=typeof module&&module.exports?module.exports=oa:(window.WebFont=oa,window.WebFontConfig&&na.load(window.WebFontConfig))}();
